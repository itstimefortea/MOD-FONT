var g0=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var tE=g0(F=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function m0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rd={exports:{}},Ri={},_d={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ha=Symbol.for("react.element"),y0=Symbol.for("react.portal"),x0=Symbol.for("react.fragment"),k0=Symbol.for("react.strict_mode"),S0=Symbol.for("react.profiler"),w0=Symbol.for("react.provider"),b0=Symbol.for("react.context"),T0=Symbol.for("react.forward_ref"),E0=Symbol.for("react.suspense"),C0=Symbol.for("react.memo"),F0=Symbol.for("react.lazy"),fc=Symbol.iterator;function R0(e){return e===null||typeof e!="object"?null:(e=fc&&e[fc]||e["@@iterator"],typeof e=="function"?e:null)}var Nd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ld=Object.assign,Od={};function Vn(e,t,r){this.props=e,this.context=t,this.refs=Od,this.updater=r||Nd}Vn.prototype.isReactComponent={};Vn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ud(){}Ud.prototype=Vn.prototype;function Gl(e,t,r){this.props=e,this.context=t,this.refs=Od,this.updater=r||Nd}var $l=Gl.prototype=new Ud;$l.constructor=Gl;Ld($l,Vn.prototype);$l.isPureReactComponent=!0;var dc=Array.isArray,Dd=Object.prototype.hasOwnProperty,Hl={current:null},Pd={key:!0,ref:!0,__self:!0,__source:!0};function zd(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Dd.call(t,n)&&!Pd.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];a.children=s}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Ha,type:e,key:o,ref:i,props:a,_owner:Hl.current}}function _0(e,t){return{$$typeof:Ha,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ha}function N0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var pc=/\/+/g;function Ji(e,t){return typeof e=="object"&&e!==null&&e.key!=null?N0(""+e.key):t.toString(36)}function Do(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ha:case y0:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Ji(i,0):n,dc(a)?(r="",e!=null&&(r=e.replace(pc,"$&/")+"/"),Do(a,t,r,"",function(u){return u})):a!=null&&(Zl(a)&&(a=_0(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(pc,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",dc(e))for(var l=0;l<e.length;l++){o=e[l];var s=n+Ji(o,l);i+=Do(o,t,r,s,a)}else if(s=R0(e),typeof s=="function")for(e=s.call(e),l=0;!(o=e.next()).done;)o=o.value,s=n+Ji(o,l++),i+=Do(o,t,r,s,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function io(e,t,r){if(e==null)return e;var n=[],a=0;return Do(e,n,"","",function(o){return t.call(r,o,a++)}),n}function L0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},Po={transition:null},O0={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Po,ReactCurrentOwner:Hl};function Ad(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:io,forEach:function(e,t,r){io(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return io(e,function(){t++}),t},toArray:function(e){return io(e,function(t){return t})||[]},only:function(e){if(!Zl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Vn;ae.Fragment=x0;ae.Profiler=S0;ae.PureComponent=Gl;ae.StrictMode=k0;ae.Suspense=E0;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O0;ae.act=Ad;ae.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ld({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Hl.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)Dd.call(t,s)&&!Pd.hasOwnProperty(s)&&(n[s]=t[s]===void 0&&l!==void 0?l[s]:t[s])}var s=arguments.length-2;if(s===1)n.children=r;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ha,type:e.type,key:a,ref:o,props:n,_owner:i}};ae.createContext=function(e){return e={$$typeof:b0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w0,_context:e},e.Consumer=e};ae.createElement=zd;ae.createFactory=function(e){var t=zd.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:T0,render:e}};ae.isValidElement=Zl;ae.lazy=function(e){return{$$typeof:F0,_payload:{_status:-1,_result:e},_init:L0}};ae.memo=function(e,t){return{$$typeof:C0,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Po.transition;Po.transition={};try{e()}finally{Po.transition=t}};ae.unstable_act=Ad;ae.useCallback=function(e,t){return nt.current.useCallback(e,t)};ae.useContext=function(e){return nt.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};ae.useEffect=function(e,t){return nt.current.useEffect(e,t)};ae.useId=function(){return nt.current.useId()};ae.useImperativeHandle=function(e,t,r){return nt.current.useImperativeHandle(e,t,r)};ae.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return nt.current.useMemo(e,t)};ae.useReducer=function(e,t,r){return nt.current.useReducer(e,t,r)};ae.useRef=function(e){return nt.current.useRef(e)};ae.useState=function(e){return nt.current.useState(e)};ae.useSyncExternalStore=function(e,t,r){return nt.current.useSyncExternalStore(e,t,r)};ae.useTransition=function(){return nt.current.useTransition()};ae.version="18.3.1";_d.exports=ae;var _=_d.exports;const Jr=m0(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0=_,D0=Symbol.for("react.element"),P0=Symbol.for("react.fragment"),z0=Object.prototype.hasOwnProperty,A0=U0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I0={key:!0,ref:!0,__self:!0,__source:!0};function Id(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)z0.call(t,n)&&!I0.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:D0,type:e,key:o,ref:i,props:a,_owner:A0.current}}Ri.Fragment=P0;Ri.jsx=Id;Ri.jsxs=Id;Rd.exports=Ri;var v=Rd.exports,As={},Md={exports:{}},yt={},Bd={exports:{}},jd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,M){var Z=O.length;O.push(M);e:for(;0<Z;){var X=Z-1>>>1,re=O[X];if(0<a(re,M))O[X]=M,O[Z]=re,Z=X;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var M=O[0],Z=O.pop();if(Z!==M){O[0]=Z;e:for(var X=0,re=O.length,Ee=re>>>1;X<Ee;){var ft=2*(X+1)-1,ze=O[ft],Je=ft+1,bt=O[Je];if(0>a(ze,Z))Je<re&&0>a(bt,ze)?(O[X]=bt,O[Je]=Z,X=Je):(O[X]=ze,O[ft]=Z,X=ft);else if(Je<re&&0>a(bt,Z))O[X]=bt,O[Je]=Z,X=Je;else break e}}return M}function a(O,M){var Z=O.sortIndex-M.sortIndex;return Z!==0?Z:O.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var s=[],u=[],c=1,d=null,f=3,h=!1,y=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=O)n(u),M.sortIndex=M.expirationTime,t(s,M);else break;M=r(u)}}function S(O){if(x=!1,g(O),!y)if(r(s)!==null)y=!0,ee(E);else{var M=r(u);M!==null&&H(S,M.startTime-O)}}function E(O,M){y=!1,x&&(x=!1,p(T),T=-1),h=!0;var Z=f;try{for(g(M),d=r(s);d!==null&&(!(d.expirationTime>M)||O&&!D());){var X=d.callback;if(typeof X=="function"){d.callback=null,f=d.priorityLevel;var re=X(d.expirationTime<=M);M=e.unstable_now(),typeof re=="function"?d.callback=re:d===r(s)&&n(s),g(M)}else n(s);d=r(s)}if(d!==null)var Ee=!0;else{var ft=r(u);ft!==null&&H(S,ft.startTime-M),Ee=!1}return Ee}finally{d=null,f=Z,h=!1}}var N=!1,w=null,T=-1,z=5,R=-1;function D(){return!(e.unstable_now()-R<z)}function A(){if(w!==null){var O=e.unstable_now();R=O;var M=!0;try{M=w(!0,O)}finally{M?j():(N=!1,w=null)}}else N=!1}var j;if(typeof m=="function")j=function(){m(A)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=A,j=function(){Q.postMessage(null)}}else j=function(){k(A,0)};function ee(O){w=O,N||(N=!0,j())}function H(O,M){T=k(function(){O(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,ee(E))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(s)},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var Z=f;f=M;try{return O()}finally{f=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,M){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Z=f;f=O;try{return M()}finally{f=Z}},e.unstable_scheduleCallback=function(O,M,Z){var X=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?X+Z:X):Z=X,O){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Z+re,O={id:c++,callback:M,priorityLevel:O,startTime:Z,expirationTime:re,sortIndex:-1},Z>X?(O.sortIndex=Z,t(u,O),r(s)===null&&O===r(u)&&(x?(p(T),T=-1):x=!0,H(S,Z-X))):(O.sortIndex=re,t(s,O),y||h||(y=!0,ee(E))),O},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(O){var M=f;return function(){var Z=f;f=M;try{return O.apply(this,arguments)}finally{f=Z}}}})(jd);Bd.exports=jd;var M0=Bd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0=_,mt=M0;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gd=new Set,wa={};function sn(e,t){In(e,t),In(e+"Capture",t)}function In(e,t){for(wa[e]=t,e=0;e<t.length;e++)Gd.add(t[e])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=Object.prototype.hasOwnProperty,j0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hc={},vc={};function G0(e){return Is.call(vc,e)?!0:Is.call(hc,e)?!1:j0.test(e)?vc[e]=!0:(hc[e]=!0,!1)}function $0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function H0(e,t,r,n){if(t===null||typeof t>"u"||$0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function at(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new at(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wl=/[\-:]([a-z])/g;function Vl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wl,Vl);We[t]=new at(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wl,Vl);We[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wl,Vl);We[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xl(e,t,r,n){var a=We.hasOwnProperty(t)?We[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(H0(t,r,a,n)&&(r=null),n||a===null?G0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var cr=B0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,so=Symbol.for("react.element"),gn=Symbol.for("react.portal"),mn=Symbol.for("react.fragment"),Yl=Symbol.for("react.strict_mode"),Ms=Symbol.for("react.profiler"),$d=Symbol.for("react.provider"),Hd=Symbol.for("react.context"),Ql=Symbol.for("react.forward_ref"),Bs=Symbol.for("react.suspense"),js=Symbol.for("react.suspense_list"),Kl=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),Zd=Symbol.for("react.offscreen"),gc=Symbol.iterator;function Jn(e){return e===null||typeof e!="object"?null:(e=gc&&e[gc]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,es;function la(e){if(es===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);es=t&&t[1]||""}return`
`+es+e}var ts=!1;function rs(e,t){if(!e||ts)return"";ts=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var s=`
`+a[i].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=i&&0<=l);break}}}finally{ts=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?la(e):""}function Z0(e){switch(e.tag){case 5:return la(e.type);case 16:return la("Lazy");case 13:return la("Suspense");case 19:return la("SuspenseList");case 0:case 2:case 15:return e=rs(e.type,!1),e;case 11:return e=rs(e.type.render,!1),e;case 1:return e=rs(e.type,!0),e;default:return""}}function Gs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mn:return"Fragment";case gn:return"Portal";case Ms:return"Profiler";case Yl:return"StrictMode";case Bs:return"Suspense";case js:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hd:return(e.displayName||"Context")+".Consumer";case $d:return(e._context.displayName||"Context")+".Provider";case Ql:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kl:return t=e.displayName||null,t!==null?t:Gs(e.type)||"Memo";case gr:t=e._payload,e=e._init;try{return Gs(e(t))}catch{}}return null}function W0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gs(t);case 8:return t===Yl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Or(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function V0(e){var t=Wd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lo(e){e._valueTracker||(e._valueTracker=V0(e))}function Vd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Wd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Xo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $s(e,t){var r=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function mc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Or(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xd(e,t){t=t.checked,t!=null&&Xl(e,"checked",t,!1)}function Hs(e,t){Xd(e,t);var r=Or(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zs(e,t.type,r):t.hasOwnProperty("defaultValue")&&Zs(e,t.type,Or(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Zs(e,t,r){(t!=="number"||Xo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ua=Array.isArray;function Nn(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Or(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ws(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(ua(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Or(r)}}function Yd(e,t){var r=Or(t.value),n=Or(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function kc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uo,Kd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uo=uo||document.createElement("div"),uo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ba(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X0=["Webkit","ms","Moz","O"];Object.keys(da).forEach(function(e){X0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),da[t]=da[e]})});function qd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||da.hasOwnProperty(e)&&da[e]?(""+t).trim():t+"px"}function Jd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=qd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Y0=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xs(e,t){if(t){if(Y0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Ys(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qs=null;function ql(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ks=null,Ln=null,On=null;function Sc(e){if(e=Va(e)){if(typeof Ks!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Ui(t),Ks(e.stateNode,e.type,t))}}function ep(e){Ln?On?On.push(e):On=[e]:Ln=e}function tp(){if(Ln){var e=Ln,t=On;if(On=Ln=null,Sc(e),t)for(e=0;e<t.length;e++)Sc(t[e])}}function rp(e,t){return e(t)}function np(){}var ns=!1;function ap(e,t,r){if(ns)return e(t,r);ns=!0;try{return rp(e,t,r)}finally{ns=!1,(Ln!==null||On!==null)&&(np(),tp())}}function Ta(e,t){var r=e.stateNode;if(r===null)return null;var n=Ui(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var qs=!1;if(ir)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){qs=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{qs=!1}function Q0(e,t,r,n,a,o,i,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var pa=!1,Yo=null,Qo=!1,Js=null,K0={onError:function(e){pa=!0,Yo=e}};function q0(e,t,r,n,a,o,i,l,s){pa=!1,Yo=null,Q0.apply(K0,arguments)}function J0(e,t,r,n,a,o,i,l,s){if(q0.apply(this,arguments),pa){if(pa){var u=Yo;pa=!1,Yo=null}else throw Error(L(198));Qo||(Qo=!0,Js=u)}}function ln(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function op(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wc(e){if(ln(e)!==e)throw Error(L(188))}function eg(e){var t=e.alternate;if(!t){if(t=ln(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return wc(a),e;if(o===n)return wc(a),t;o=o.sibling}throw Error(L(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function ip(e){return e=eg(e),e!==null?sp(e):null}function sp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sp(e);if(t!==null)return t;e=e.sibling}return null}var lp=mt.unstable_scheduleCallback,bc=mt.unstable_cancelCallback,tg=mt.unstable_shouldYield,rg=mt.unstable_requestPaint,Le=mt.unstable_now,ng=mt.unstable_getCurrentPriorityLevel,Jl=mt.unstable_ImmediatePriority,up=mt.unstable_UserBlockingPriority,Ko=mt.unstable_NormalPriority,ag=mt.unstable_LowPriority,cp=mt.unstable_IdlePriority,_i=null,Qt=null;function og(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(_i,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:lg,ig=Math.log,sg=Math.LN2;function lg(e){return e>>>=0,e===0?32:31-(ig(e)/sg|0)|0}var co=64,fo=4194304;function ca(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=ca(l):(o&=i,o!==0&&(n=ca(o)))}else i=r&~a,i!==0?n=ca(i):o!==0&&(n=ca(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pt(t),a=1<<r,n|=e[r],t&=~a;return n}function ug(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Pt(o),l=1<<i,s=a[i];s===-1?(!(l&r)||l&n)&&(a[i]=ug(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}function el(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fp(){var e=co;return co<<=1,!(co&4194240)&&(co=64),e}function as(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Za(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=r}function fg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Pt(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function eu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var le=0;function dp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pp,tu,hp,vp,gp,tl=!1,po=[],br=null,Tr=null,Er=null,Ea=new Map,Ca=new Map,yr=[],dg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tc(e,t){switch(e){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Ea.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(t.pointerId)}}function ta(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Va(t),t!==null&&tu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function pg(e,t,r,n,a){switch(t){case"focusin":return br=ta(br,e,t,r,n,a),!0;case"dragenter":return Tr=ta(Tr,e,t,r,n,a),!0;case"mouseover":return Er=ta(Er,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Ea.set(o,ta(Ea.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Ca.set(o,ta(Ca.get(o)||null,e,t,r,n,a)),!0}return!1}function mp(e){var t=Xr(e.target);if(t!==null){var r=ln(t);if(r!==null){if(t=r.tag,t===13){if(t=op(r),t!==null){e.blockedOn=t,gp(e.priority,function(){hp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Qs=n,r.target.dispatchEvent(n),Qs=null}else return t=Va(r),t!==null&&tu(t),e.blockedOn=r,!1;t.shift()}return!0}function Ec(e,t,r){zo(e)&&r.delete(t)}function hg(){tl=!1,br!==null&&zo(br)&&(br=null),Tr!==null&&zo(Tr)&&(Tr=null),Er!==null&&zo(Er)&&(Er=null),Ea.forEach(Ec),Ca.forEach(Ec)}function ra(e,t){e.blockedOn===t&&(e.blockedOn=null,tl||(tl=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,hg)))}function Fa(e){function t(a){return ra(a,e)}if(0<po.length){ra(po[0],e);for(var r=1;r<po.length;r++){var n=po[r];n.blockedOn===e&&(n.blockedOn=null)}}for(br!==null&&ra(br,e),Tr!==null&&ra(Tr,e),Er!==null&&ra(Er,e),Ea.forEach(t),Ca.forEach(t),r=0;r<yr.length;r++)n=yr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yr.length&&(r=yr[0],r.blockedOn===null);)mp(r),r.blockedOn===null&&yr.shift()}var Un=cr.ReactCurrentBatchConfig,Jo=!0;function vg(e,t,r,n){var a=le,o=Un.transition;Un.transition=null;try{le=1,ru(e,t,r,n)}finally{le=a,Un.transition=o}}function gg(e,t,r,n){var a=le,o=Un.transition;Un.transition=null;try{le=4,ru(e,t,r,n)}finally{le=a,Un.transition=o}}function ru(e,t,r,n){if(Jo){var a=rl(e,t,r,n);if(a===null)hs(e,t,n,ei,r),Tc(e,n);else if(pg(a,e,t,r,n))n.stopPropagation();else if(Tc(e,n),t&4&&-1<dg.indexOf(e)){for(;a!==null;){var o=Va(a);if(o!==null&&pp(o),o=rl(e,t,r,n),o===null&&hs(e,t,n,ei,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else hs(e,t,n,null,r)}}var ei=null;function rl(e,t,r,n){if(ei=null,e=ql(n),e=Xr(e),e!==null)if(t=ln(e),t===null)e=null;else if(r=t.tag,r===13){if(e=op(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ei=e,null}function yp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ng()){case Jl:return 1;case up:return 4;case Ko:case ag:return 16;case cp:return 536870912;default:return 16}default:return 16}}var kr=null,nu=null,Ao=null;function xp(){if(Ao)return Ao;var e,t=nu,r=t.length,n,a="value"in kr?kr.value:kr.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Ao=a.slice(e,1<n?1-n:void 0)}function Io(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ho(){return!0}function Cc(){return!1}function xt(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ho:Cc,this.isPropagationStopped=Cc,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),t}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},au=xt(Xn),Wa=be({},Xn,{view:0,detail:0}),mg=xt(Wa),os,is,na,Ni=be({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ou,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==na&&(na&&e.type==="mousemove"?(os=e.screenX-na.screenX,is=e.screenY-na.screenY):is=os=0,na=e),os)},movementY:function(e){return"movementY"in e?e.movementY:is}}),Fc=xt(Ni),yg=be({},Ni,{dataTransfer:0}),xg=xt(yg),kg=be({},Wa,{relatedTarget:0}),ss=xt(kg),Sg=be({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),wg=xt(Sg),bg=be({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tg=xt(bg),Eg=be({},Xn,{data:0}),Rc=xt(Eg),Cg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _g(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rg[e])?!!t[e]:!1}function ou(){return _g}var Ng=be({},Wa,{key:function(e){if(e.key){var t=Cg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Io(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ou,charCode:function(e){return e.type==="keypress"?Io(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Io(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lg=xt(Ng),Og=be({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_c=xt(Og),Ug=be({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ou}),Dg=xt(Ug),Pg=be({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),zg=xt(Pg),Ag=be({},Ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ig=xt(Ag),Mg=[9,13,27,32],iu=ir&&"CompositionEvent"in window,ha=null;ir&&"documentMode"in document&&(ha=document.documentMode);var Bg=ir&&"TextEvent"in window&&!ha,kp=ir&&(!iu||ha&&8<ha&&11>=ha),Nc=" ",Lc=!1;function Sp(e,t){switch(e){case"keyup":return Mg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yn=!1;function jg(e,t){switch(e){case"compositionend":return wp(t);case"keypress":return t.which!==32?null:(Lc=!0,Nc);case"textInput":return e=t.data,e===Nc&&Lc?null:e;default:return null}}function Gg(e,t){if(yn)return e==="compositionend"||!iu&&Sp(e,t)?(e=xp(),Ao=nu=kr=null,yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kp&&t.locale!=="ko"?null:t.data;default:return null}}var $g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$g[e.type]:t==="textarea"}function bp(e,t,r,n){ep(n),t=ti(t,"onChange"),0<t.length&&(r=new au("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var va=null,Ra=null;function Hg(e){Dp(e,0)}function Li(e){var t=Sn(e);if(Vd(t))return e}function Zg(e,t){if(e==="change")return t}var Tp=!1;if(ir){var ls;if(ir){var us="oninput"in document;if(!us){var Uc=document.createElement("div");Uc.setAttribute("oninput","return;"),us=typeof Uc.oninput=="function"}ls=us}else ls=!1;Tp=ls&&(!document.documentMode||9<document.documentMode)}function Dc(){va&&(va.detachEvent("onpropertychange",Ep),Ra=va=null)}function Ep(e){if(e.propertyName==="value"&&Li(Ra)){var t=[];bp(t,Ra,e,ql(e)),ap(Hg,t)}}function Wg(e,t,r){e==="focusin"?(Dc(),va=t,Ra=r,va.attachEvent("onpropertychange",Ep)):e==="focusout"&&Dc()}function Vg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Li(Ra)}function Xg(e,t){if(e==="click")return Li(t)}function Yg(e,t){if(e==="input"||e==="change")return Li(t)}function Qg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:Qg;function _a(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Is.call(t,a)||!At(e[a],t[a]))return!1}return!0}function Pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zc(e,t){var r=Pc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pc(r)}}function Cp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fp(){for(var e=window,t=Xo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xo(e.document)}return t}function su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kg(e){var t=Fp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Cp(r.ownerDocument.documentElement,r)){if(n!==null&&su(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=zc(r,o);var i=zc(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qg=ir&&"documentMode"in document&&11>=document.documentMode,xn=null,nl=null,ga=null,al=!1;function Ac(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;al||xn==null||xn!==Xo(n)||(n=xn,"selectionStart"in n&&su(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ga&&_a(ga,n)||(ga=n,n=ti(nl,"onSelect"),0<n.length&&(t=new au("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xn)))}function vo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var kn={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionend:vo("Transition","TransitionEnd")},cs={},Rp={};ir&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function Oi(e){if(cs[e])return cs[e];if(!kn[e])return e;var t=kn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Rp)return cs[e]=t[r];return e}var _p=Oi("animationend"),Np=Oi("animationiteration"),Lp=Oi("animationstart"),Op=Oi("transitionend"),Up=new Map,Ic="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Up.set(e,t),sn(t,[e])}for(var fs=0;fs<Ic.length;fs++){var ds=Ic[fs],Jg=ds.toLowerCase(),em=ds[0].toUpperCase()+ds.slice(1);Ar(Jg,"on"+em)}Ar(_p,"onAnimationEnd");Ar(Np,"onAnimationIteration");Ar(Lp,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(Op,"onTransitionEnd");In("onMouseEnter",["mouseout","mouseover"]);In("onMouseLeave",["mouseout","mouseover"]);In("onPointerEnter",["pointerout","pointerover"]);In("onPointerLeave",["pointerout","pointerover"]);sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tm=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function Mc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,J0(n,t,void 0,e),e.currentTarget=null}function Dp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==o&&a.isPropagationStopped())break e;Mc(a,l,u),o=s}else for(i=0;i<n.length;i++){if(l=n[i],s=l.instance,u=l.currentTarget,l=l.listener,s!==o&&a.isPropagationStopped())break e;Mc(a,l,u),o=s}}}if(Qo)throw e=Js,Qo=!1,Js=null,e}function ve(e,t){var r=t[ul];r===void 0&&(r=t[ul]=new Set);var n=e+"__bubble";r.has(n)||(Pp(t,e,2,!1),r.add(n))}function ps(e,t,r){var n=0;t&&(n|=4),Pp(r,e,n,t)}var go="_reactListening"+Math.random().toString(36).slice(2);function Na(e){if(!e[go]){e[go]=!0,Gd.forEach(function(r){r!=="selectionchange"&&(tm.has(r)||ps(r,!1,e),ps(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[go]||(t[go]=!0,ps("selectionchange",!1,t))}}function Pp(e,t,r,n){switch(yp(t)){case 1:var a=vg;break;case 4:a=gg;break;default:a=ru}r=a.bind(null,t,r,e),a=void 0,!qs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function hs(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var s=i.tag;if((s===3||s===4)&&(s=i.stateNode.containerInfo,s===a||s.nodeType===8&&s.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Xr(l),i===null)return;if(s=i.tag,s===5||s===6){n=o=i;continue e}l=l.parentNode}}n=n.return}ap(function(){var u=o,c=ql(r),d=[];e:{var f=Up.get(e);if(f!==void 0){var h=au,y=e;switch(e){case"keypress":if(Io(r)===0)break e;case"keydown":case"keyup":h=Lg;break;case"focusin":y="focus",h=ss;break;case"focusout":y="blur",h=ss;break;case"beforeblur":case"afterblur":h=ss;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=xg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Dg;break;case _p:case Np:case Lp:h=wg;break;case Op:h=zg;break;case"scroll":h=mg;break;case"wheel":h=Ig;break;case"copy":case"cut":case"paste":h=Tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=_c}var x=(t&4)!==0,k=!x&&e==="scroll",p=x?f!==null?f+"Capture":null:f;x=[];for(var m=u,g;m!==null;){g=m;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,p!==null&&(S=Ta(m,p),S!=null&&x.push(La(m,S,g)))),k)break;m=m.return}0<x.length&&(f=new h(f,y,null,r,c),d.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&r!==Qs&&(y=r.relatedTarget||r.fromElement)&&(Xr(y)||y[sr]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=u,y=y?Xr(y):null,y!==null&&(k=ln(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(x=Fc,S="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=_c,S="onPointerLeave",p="onPointerEnter",m="pointer"),k=h==null?f:Sn(h),g=y==null?f:Sn(y),f=new x(S,m+"leave",h,r,c),f.target=k,f.relatedTarget=g,S=null,Xr(c)===u&&(x=new x(p,m+"enter",y,r,c),x.target=g,x.relatedTarget=k,S=x),k=S,h&&y)t:{for(x=h,p=y,m=0,g=x;g;g=pn(g))m++;for(g=0,S=p;S;S=pn(S))g++;for(;0<m-g;)x=pn(x),m--;for(;0<g-m;)p=pn(p),g--;for(;m--;){if(x===p||p!==null&&x===p.alternate)break t;x=pn(x),p=pn(p)}x=null}else x=null;h!==null&&Bc(d,f,h,x,!1),y!==null&&k!==null&&Bc(d,k,y,x,!0)}}e:{if(f=u?Sn(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=Zg;else if(Oc(f))if(Tp)E=Yg;else{E=Vg;var N=Wg}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Xg);if(E&&(E=E(e,u))){bp(d,E,r,c);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Zs(f,"number",f.value)}switch(N=u?Sn(u):window,e){case"focusin":(Oc(N)||N.contentEditable==="true")&&(xn=N,nl=u,ga=null);break;case"focusout":ga=nl=xn=null;break;case"mousedown":al=!0;break;case"contextmenu":case"mouseup":case"dragend":al=!1,Ac(d,r,c);break;case"selectionchange":if(qg)break;case"keydown":case"keyup":Ac(d,r,c)}var w;if(iu)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else yn?Sp(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(kp&&r.locale!=="ko"&&(yn||T!=="onCompositionStart"?T==="onCompositionEnd"&&yn&&(w=xp()):(kr=c,nu="value"in kr?kr.value:kr.textContent,yn=!0)),N=ti(u,T),0<N.length&&(T=new Rc(T,e,null,r,c),d.push({event:T,listeners:N}),w?T.data=w:(w=wp(r),w!==null&&(T.data=w)))),(w=Bg?jg(e,r):Gg(e,r))&&(u=ti(u,"onBeforeInput"),0<u.length&&(c=new Rc("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=w))}Dp(d,t)})}function La(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ti(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Ta(e,r),o!=null&&n.unshift(La(e,o,a)),o=Ta(e,t),o!=null&&n.push(La(e,o,a))),e=e.return}return n}function pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bc(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,s=l.alternate,u=l.stateNode;if(s!==null&&s===n)break;l.tag===5&&u!==null&&(l=u,a?(s=Ta(r,o),s!=null&&i.unshift(La(r,s,l))):a||(s=Ta(r,o),s!=null&&i.push(La(r,s,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var rm=/\r\n?/g,nm=/\u0000|\uFFFD/g;function jc(e){return(typeof e=="string"?e:""+e).replace(rm,`
`).replace(nm,"")}function mo(e,t,r){if(t=jc(t),jc(e)!==t&&r)throw Error(L(425))}function ri(){}var ol=null,il=null;function sl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ll=typeof setTimeout=="function"?setTimeout:void 0,am=typeof clearTimeout=="function"?clearTimeout:void 0,Gc=typeof Promise=="function"?Promise:void 0,om=typeof queueMicrotask=="function"?queueMicrotask:typeof Gc<"u"?function(e){return Gc.resolve(null).then(e).catch(im)}:ll;function im(e){setTimeout(function(){throw e})}function vs(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Fa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Fa(t)}function Cr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $c(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Yn,Oa="__reactProps$"+Yn,sr="__reactContainer$"+Yn,ul="__reactEvents$"+Yn,sm="__reactListeners$"+Yn,lm="__reactHandles$"+Yn;function Xr(e){var t=e[Xt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sr]||r[Xt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$c(e);e!==null;){if(r=e[Xt])return r;e=$c(e)}return t}e=r,r=e.parentNode}return null}function Va(e){return e=e[Xt]||e[sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Ui(e){return e[Oa]||null}var cl=[],wn=-1;function Ir(e){return{current:e}}function ge(e){0>wn||(e.current=cl[wn],cl[wn]=null,wn--)}function fe(e,t){wn++,cl[wn]=e.current,e.current=t}var Ur={},qe=Ir(Ur),st=Ir(!1),en=Ur;function Mn(e,t){var r=e.type.contextTypes;if(!r)return Ur;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function lt(e){return e=e.childContextTypes,e!=null}function ni(){ge(st),ge(qe)}function Hc(e,t,r){if(qe.current!==Ur)throw Error(L(168));fe(qe,t),fe(st,r)}function zp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(L(108,W0(e)||"Unknown",a));return be({},r,n)}function ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ur,en=qe.current,fe(qe,e),fe(st,st.current),!0}function Zc(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=zp(e,t,en),n.__reactInternalMemoizedMergedChildContext=e,ge(st),ge(qe),fe(qe,e)):ge(st),fe(st,r)}var er=null,Di=!1,gs=!1;function Ap(e){er===null?er=[e]:er.push(e)}function um(e){Di=!0,Ap(e)}function Mr(){if(!gs&&er!==null){gs=!0;var e=0,t=le;try{var r=er;for(le=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}er=null,Di=!1}catch(a){throw er!==null&&(er=er.slice(e+1)),lp(Jl,Mr),a}finally{le=t,gs=!1}}return null}var bn=[],Tn=0,oi=null,ii=0,Tt=[],Et=0,tn=null,tr=1,rr="";function Hr(e,t){bn[Tn++]=ii,bn[Tn++]=oi,oi=e,ii=t}function Ip(e,t,r){Tt[Et++]=tr,Tt[Et++]=rr,Tt[Et++]=tn,tn=e;var n=tr;e=rr;var a=32-Pt(n)-1;n&=~(1<<a),r+=1;var o=32-Pt(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,tr=1<<32-Pt(t)+a|r<<a|n,rr=o+e}else tr=1<<o|r<<a|n,rr=e}function lu(e){e.return!==null&&(Hr(e,1),Ip(e,1,0))}function uu(e){for(;e===oi;)oi=bn[--Tn],bn[Tn]=null,ii=bn[--Tn],bn[Tn]=null;for(;e===tn;)tn=Tt[--Et],Tt[Et]=null,rr=Tt[--Et],Tt[Et]=null,tr=Tt[--Et],Tt[Et]=null}var gt=null,vt=null,me=!1,Dt=null;function Mp(e,t){var r=Ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Wc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,vt=Cr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=tn!==null?{id:tr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gt=e,vt=null,!0):!1;default:return!1}}function fl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dl(e){if(me){var t=vt;if(t){var r=t;if(!Wc(e,t)){if(fl(e))throw Error(L(418));t=Cr(r.nextSibling);var n=gt;t&&Wc(e,t)?Mp(n,r):(e.flags=e.flags&-4097|2,me=!1,gt=e)}}else{if(fl(e))throw Error(L(418));e.flags=e.flags&-4097|2,me=!1,gt=e}}}function Vc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function yo(e){if(e!==gt)return!1;if(!me)return Vc(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sl(e.type,e.memoizedProps)),t&&(t=vt)){if(fl(e))throw Bp(),Error(L(418));for(;t;)Mp(e,t),t=Cr(t.nextSibling)}if(Vc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vt=Cr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=gt?Cr(e.stateNode.nextSibling):null;return!0}function Bp(){for(var e=vt;e;)e=Cr(e.nextSibling)}function Bn(){vt=gt=null,me=!1}function cu(e){Dt===null?Dt=[e]:Dt.push(e)}var cm=cr.ReactCurrentBatchConfig;function aa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function xo(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xc(e){var t=e._init;return t(e._payload)}function jp(e){function t(p,m){if(e){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function a(p,m){return p=Nr(p,m),p.index=0,p.sibling=null,p}function o(p,m,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,g,S){return m===null||m.tag!==6?(m=bs(g,p.mode,S),m.return=p,m):(m=a(m,g),m.return=p,m)}function s(p,m,g,S){var E=g.type;return E===mn?c(p,m,g.props.children,S,g.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gr&&Xc(E)===m.type)?(S=a(m,g.props),S.ref=aa(p,m,g),S.return=p,S):(S=Zo(g.type,g.key,g.props,null,p.mode,S),S.ref=aa(p,m,g),S.return=p,S)}function u(p,m,g,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Ts(g,p.mode,S),m.return=p,m):(m=a(m,g.children||[]),m.return=p,m)}function c(p,m,g,S,E){return m===null||m.tag!==7?(m=qr(g,p.mode,S,E),m.return=p,m):(m=a(m,g),m.return=p,m)}function d(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=bs(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case so:return g=Zo(m.type,m.key,m.props,null,p.mode,g),g.ref=aa(p,null,m),g.return=p,g;case gn:return m=Ts(m,p.mode,g),m.return=p,m;case gr:var S=m._init;return d(p,S(m._payload),g)}if(ua(m)||Jn(m))return m=qr(m,p.mode,g,null),m.return=p,m;xo(p,m)}return null}function f(p,m,g,S){var E=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:l(p,m,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case so:return g.key===E?s(p,m,g,S):null;case gn:return g.key===E?u(p,m,g,S):null;case gr:return E=g._init,f(p,m,E(g._payload),S)}if(ua(g)||Jn(g))return E!==null?null:c(p,m,g,S,null);xo(p,g)}return null}function h(p,m,g,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(g)||null,l(m,p,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case so:return p=p.get(S.key===null?g:S.key)||null,s(m,p,S,E);case gn:return p=p.get(S.key===null?g:S.key)||null,u(m,p,S,E);case gr:var N=S._init;return h(p,m,g,N(S._payload),E)}if(ua(S)||Jn(S))return p=p.get(g)||null,c(m,p,S,E,null);xo(m,S)}return null}function y(p,m,g,S){for(var E=null,N=null,w=m,T=m=0,z=null;w!==null&&T<g.length;T++){w.index>T?(z=w,w=null):z=w.sibling;var R=f(p,w,g[T],S);if(R===null){w===null&&(w=z);break}e&&w&&R.alternate===null&&t(p,w),m=o(R,m,T),N===null?E=R:N.sibling=R,N=R,w=z}if(T===g.length)return r(p,w),me&&Hr(p,T),E;if(w===null){for(;T<g.length;T++)w=d(p,g[T],S),w!==null&&(m=o(w,m,T),N===null?E=w:N.sibling=w,N=w);return me&&Hr(p,T),E}for(w=n(p,w);T<g.length;T++)z=h(w,p,T,g[T],S),z!==null&&(e&&z.alternate!==null&&w.delete(z.key===null?T:z.key),m=o(z,m,T),N===null?E=z:N.sibling=z,N=z);return e&&w.forEach(function(D){return t(p,D)}),me&&Hr(p,T),E}function x(p,m,g,S){var E=Jn(g);if(typeof E!="function")throw Error(L(150));if(g=E.call(g),g==null)throw Error(L(151));for(var N=E=null,w=m,T=m=0,z=null,R=g.next();w!==null&&!R.done;T++,R=g.next()){w.index>T?(z=w,w=null):z=w.sibling;var D=f(p,w,R.value,S);if(D===null){w===null&&(w=z);break}e&&w&&D.alternate===null&&t(p,w),m=o(D,m,T),N===null?E=D:N.sibling=D,N=D,w=z}if(R.done)return r(p,w),me&&Hr(p,T),E;if(w===null){for(;!R.done;T++,R=g.next())R=d(p,R.value,S),R!==null&&(m=o(R,m,T),N===null?E=R:N.sibling=R,N=R);return me&&Hr(p,T),E}for(w=n(p,w);!R.done;T++,R=g.next())R=h(w,p,T,R.value,S),R!==null&&(e&&R.alternate!==null&&w.delete(R.key===null?T:R.key),m=o(R,m,T),N===null?E=R:N.sibling=R,N=R);return e&&w.forEach(function(A){return t(p,A)}),me&&Hr(p,T),E}function k(p,m,g,S){if(typeof g=="object"&&g!==null&&g.type===mn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case so:e:{for(var E=g.key,N=m;N!==null;){if(N.key===E){if(E=g.type,E===mn){if(N.tag===7){r(p,N.sibling),m=a(N,g.props.children),m.return=p,p=m;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gr&&Xc(E)===N.type){r(p,N.sibling),m=a(N,g.props),m.ref=aa(p,N,g),m.return=p,p=m;break e}r(p,N);break}else t(p,N);N=N.sibling}g.type===mn?(m=qr(g.props.children,p.mode,S,g.key),m.return=p,p=m):(S=Zo(g.type,g.key,g.props,null,p.mode,S),S.ref=aa(p,m,g),S.return=p,p=S)}return i(p);case gn:e:{for(N=g.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(p,m.sibling),m=a(m,g.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=Ts(g,p.mode,S),m.return=p,p=m}return i(p);case gr:return N=g._init,k(p,m,N(g._payload),S)}if(ua(g))return y(p,m,g,S);if(Jn(g))return x(p,m,g,S);xo(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(p,m.sibling),m=a(m,g),m.return=p,p=m):(r(p,m),m=bs(g,p.mode,S),m.return=p,p=m),i(p)):r(p,m)}return k}var jn=jp(!0),Gp=jp(!1),si=Ir(null),li=null,En=null,fu=null;function du(){fu=En=li=null}function pu(e){var t=si.current;ge(si),e._currentValue=t}function pl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Dn(e,t){li=e,fu=En=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if(fu!==e)if(e={context:e,memoizedValue:t,next:null},En===null){if(li===null)throw Error(L(308));En=e,li.dependencies={lanes:0,firstContext:e}}else En=En.next=e;return t}var Yr=null;function hu(e){Yr===null?Yr=[e]:Yr.push(e)}function $p(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,hu(t)):(r.next=a.next,a.next=r),t.interleaved=r,lr(e,n)}function lr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var mr=!1;function vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,lr(e,r)}return a=n.interleaved,a===null?(t.next=t,hu(n)):(t.next=a.next,a.next=t),n.interleaved=t,lr(e,r)}function Mo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,eu(e,r)}}function Yc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ui(e,t,r,n){var a=e.updateQueue;mr=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var s=l,u=s.next;s.next=null,i===null?o=u:i.next=u,i=s;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==i&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(o!==null){var d=a.baseState;i=0,c=u=s=null,l=o;do{var f=l.lane,h=l.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(f=t,h=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){d=y.call(h,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(h,d,f):y,f==null)break e;d=be({},d,f);break e;case 2:mr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=h,s=d):c=c.next=h,i|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(c===null&&(s=d),a.baseState=s,a.firstBaseUpdate=u,a.lastBaseUpdate=c,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);nn|=i,e.lanes=i,e.memoizedState=d}}function Qc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(L(191,a));a.call(n)}}}var Xa={},Kt=Ir(Xa),Ua=Ir(Xa),Da=Ir(Xa);function Qr(e){if(e===Xa)throw Error(L(174));return e}function gu(e,t){switch(fe(Da,t),fe(Ua,e),fe(Kt,Xa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vs(t,e)}ge(Kt),fe(Kt,t)}function Gn(){ge(Kt),ge(Ua),ge(Da)}function Zp(e){Qr(Da.current);var t=Qr(Kt.current),r=Vs(t,e.type);t!==r&&(fe(Ua,e),fe(Kt,r))}function mu(e){Ua.current===e&&(ge(Kt),ge(Ua))}var Se=Ir(0);function ci(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ms=[];function yu(){for(var e=0;e<ms.length;e++)ms[e]._workInProgressVersionPrimary=null;ms.length=0}var Bo=cr.ReactCurrentDispatcher,ys=cr.ReactCurrentBatchConfig,rn=0,we=null,Ae=null,Be=null,fi=!1,ma=!1,Pa=0,fm=0;function Ve(){throw Error(L(321))}function xu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!At(e[r],t[r]))return!1;return!0}function ku(e,t,r,n,a,o){if(rn=o,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bo.current=e===null||e.memoizedState===null?vm:gm,e=r(n,a),ma){o=0;do{if(ma=!1,Pa=0,25<=o)throw Error(L(301));o+=1,Be=Ae=null,t.updateQueue=null,Bo.current=mm,e=r(n,a)}while(ma)}if(Bo.current=di,t=Ae!==null&&Ae.next!==null,rn=0,Be=Ae=we=null,fi=!1,t)throw Error(L(300));return e}function Su(){var e=Pa!==0;return Pa=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?we.memoizedState=Be=e:Be=Be.next=e,Be}function _t(){if(Ae===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Be===null?we.memoizedState:Be.next;if(t!==null)Be=t,Ae=e;else{if(e===null)throw Error(L(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Be===null?we.memoizedState=Be=e:Be=Be.next=e}return Be}function za(e,t){return typeof t=="function"?t(e):t}function xs(e){var t=_t(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Ae,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,s=null,u=o;do{var c=u.lane;if((rn&c)===c)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(l=s=d,i=n):s=s.next=d,we.lanes|=c,nn|=c}u=u.next}while(u!==null&&u!==o);s===null?i=n:s.next=l,At(n,t.memoizedState)||(it=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=s,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,we.lanes|=o,nn|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ks(e){var t=_t(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);At(o,t.memoizedState)||(it=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Wp(){}function Vp(e,t){var r=we,n=_t(),a=t(),o=!At(n.memoizedState,a);if(o&&(n.memoizedState=a,it=!0),n=n.queue,wu(Qp.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Be!==null&&Be.memoizedState.tag&1){if(r.flags|=2048,Aa(9,Yp.bind(null,r,n,a,t),void 0,null),Ge===null)throw Error(L(349));rn&30||Xp(r,t,a)}return a}function Xp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Yp(e,t,r,n){t.value=r,t.getSnapshot=n,Kp(t)&&qp(e)}function Qp(e,t,r){return r(function(){Kp(t)&&qp(e)})}function Kp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!At(e,r)}catch{return!0}}function qp(e){var t=lr(e,1);t!==null&&zt(t,e,1,-1)}function Kc(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:e},t.queue=e,e=e.dispatch=hm.bind(null,we,e),[t.memoizedState,e]}function Aa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Jp(){return _t().memoizedState}function jo(e,t,r,n){var a=Wt();we.flags|=e,a.memoizedState=Aa(1|t,r,void 0,n===void 0?null:n)}function Pi(e,t,r,n){var a=_t();n=n===void 0?null:n;var o=void 0;if(Ae!==null){var i=Ae.memoizedState;if(o=i.destroy,n!==null&&xu(n,i.deps)){a.memoizedState=Aa(t,r,o,n);return}}we.flags|=e,a.memoizedState=Aa(1|t,r,o,n)}function qc(e,t){return jo(8390656,8,e,t)}function wu(e,t){return Pi(2048,8,e,t)}function eh(e,t){return Pi(4,2,e,t)}function th(e,t){return Pi(4,4,e,t)}function rh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nh(e,t,r){return r=r!=null?r.concat([e]):null,Pi(4,4,rh.bind(null,t,e),r)}function bu(){}function ah(e,t){var r=_t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function oh(e,t){var r=_t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ih(e,t,r){return rn&21?(At(r,t)||(r=fp(),we.lanes|=r,nn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=r)}function dm(e,t){var r=le;le=r!==0&&4>r?r:4,e(!0);var n=ys.transition;ys.transition={};try{e(!1),t()}finally{le=r,ys.transition=n}}function sh(){return _t().memoizedState}function pm(e,t,r){var n=_r(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lh(e))uh(t,r);else if(r=$p(e,t,r,n),r!==null){var a=rt();zt(r,e,n,a),ch(r,t,n)}}function hm(e,t,r){var n=_r(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lh(e))uh(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,At(l,i)){var s=t.interleaved;s===null?(a.next=a,hu(t)):(a.next=s.next,s.next=a),t.interleaved=a;return}}catch{}finally{}r=$p(e,t,a,n),r!==null&&(a=rt(),zt(r,e,n,a),ch(r,t,n))}}function lh(e){var t=e.alternate;return e===we||t!==null&&t===we}function uh(e,t){ma=fi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ch(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,eu(e,r)}}var di={readContext:Rt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},vm={readContext:Rt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:qc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,jo(4194308,4,rh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var r=Wt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Wt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=pm.bind(null,we,e),[n.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Kc,useDebugValue:bu,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Kc(!1),t=e[0];return e=dm.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=we,a=Wt();if(me){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Ge===null)throw Error(L(349));rn&30||Xp(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,qc(Qp.bind(null,n,o,e),[e]),n.flags|=2048,Aa(9,Yp.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Wt(),t=Ge.identifierPrefix;if(me){var r=rr,n=tr;r=(n&~(1<<32-Pt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Pa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=fm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gm={readContext:Rt,useCallback:ah,useContext:Rt,useEffect:wu,useImperativeHandle:nh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:oh,useReducer:xs,useRef:Jp,useState:function(){return xs(za)},useDebugValue:bu,useDeferredValue:function(e){var t=_t();return ih(t,Ae.memoizedState,e)},useTransition:function(){var e=xs(za)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Wp,useSyncExternalStore:Vp,useId:sh,unstable_isNewReconciler:!1},mm={readContext:Rt,useCallback:ah,useContext:Rt,useEffect:wu,useImperativeHandle:nh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:oh,useReducer:ks,useRef:Jp,useState:function(){return ks(za)},useDebugValue:bu,useDeferredValue:function(e){var t=_t();return Ae===null?t.memoizedState=e:ih(t,Ae.memoizedState,e)},useTransition:function(){var e=ks(za)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Wp,useSyncExternalStore:Vp,useId:sh,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:be({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var zi={isMounted:function(e){return(e=e._reactInternals)?ln(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rt(),a=_r(e),o=ar(n,a);o.payload=t,r!=null&&(o.callback=r),t=Fr(e,o,a),t!==null&&(zt(t,e,a,n),Mo(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rt(),a=_r(e),o=ar(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Fr(e,o,a),t!==null&&(zt(t,e,a,n),Mo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rt(),n=_r(e),a=ar(r,n);a.tag=2,t!=null&&(a.callback=t),t=Fr(e,a,n),t!==null&&(zt(t,e,n,r),Mo(t,e,n))}};function Jc(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!_a(r,n)||!_a(a,o):!0}function fh(e,t,r){var n=!1,a=Ur,o=t.contextType;return typeof o=="object"&&o!==null?o=Rt(o):(a=lt(t)?en:qe.current,n=t.contextTypes,o=(n=n!=null)?Mn(e,a):Ur),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ef(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&zi.enqueueReplaceState(t,t.state,null)}function vl(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},vu(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Rt(o):(o=lt(t)?en:qe.current,a.context=Mn(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(hl(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&zi.enqueueReplaceState(a,a.state,null),ui(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function $n(e,t){try{var r="",n=t;do r+=Z0(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Ss(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ym=typeof WeakMap=="function"?WeakMap:Map;function dh(e,t,r){r=ar(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hi||(hi=!0,Cl=n),gl(e,t)},r}function ph(e,t,r){r=ar(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){gl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){gl(e,t),typeof n!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function tf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ym;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Om.bind(null,e,t,r),t.then(e,e))}function rf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nf(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ar(-1,1),t.tag=2,Fr(r,t,1))),r.lanes|=1),e)}var xm=cr.ReactCurrentOwner,it=!1;function tt(e,t,r,n){t.child=e===null?Gp(t,null,r,n):jn(t,e.child,r,n)}function af(e,t,r,n,a){r=r.render;var o=t.ref;return Dn(t,a),n=ku(e,t,r,n,o,a),r=Su(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ur(e,t,a)):(me&&r&&lu(t),t.flags|=1,tt(e,t,n,a),t.child)}function of(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Lu(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,hh(e,t,o,n,a)):(e=Zo(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:_a,r(i,n)&&e.ref===t.ref)return ur(e,t,a)}return t.flags|=1,e=Nr(o,n),e.ref=t.ref,e.return=t,t.child=e}function hh(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(_a(o,n)&&e.ref===t.ref)if(it=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,ur(e,t,a)}return ml(e,t,r,n,a)}function vh(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Fn,ht),ht|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(Fn,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,fe(Fn,ht),ht|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,fe(Fn,ht),ht|=n;return tt(e,t,a,r),t.child}function gh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ml(e,t,r,n,a){var o=lt(r)?en:qe.current;return o=Mn(t,o),Dn(t,a),r=ku(e,t,r,n,o,a),n=Su(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ur(e,t,a)):(me&&n&&lu(t),t.flags|=1,tt(e,t,r,a),t.child)}function sf(e,t,r,n,a){if(lt(r)){var o=!0;ai(t)}else o=!1;if(Dn(t,a),t.stateNode===null)Go(e,t),fh(t,r,n),vl(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var s=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Rt(u):(u=lt(r)?en:qe.current,u=Mn(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||s!==u)&&ef(t,i,n,u),mr=!1;var f=t.memoizedState;i.state=f,ui(t,n,i,a),s=t.memoizedState,l!==n||f!==s||st.current||mr?(typeof c=="function"&&(hl(t,r,c,n),s=t.memoizedState),(l=mr||Jc(t,r,l,n,f,s,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=s),i.props=n,i.state=s,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Hp(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ot(t.type,l),i.props=u,d=t.pendingProps,f=i.context,s=r.contextType,typeof s=="object"&&s!==null?s=Rt(s):(s=lt(r)?en:qe.current,s=Mn(t,s));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||f!==s)&&ef(t,i,n,s),mr=!1,f=t.memoizedState,i.state=f,ui(t,n,i,a);var y=t.memoizedState;l!==d||f!==y||st.current||mr?(typeof h=="function"&&(hl(t,r,h,n),y=t.memoizedState),(u=mr||Jc(t,r,u,n,f,y,s)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),i.props=n,i.state=y,i.context=s,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return yl(e,t,r,n,o,a)}function yl(e,t,r,n,a,o){gh(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Zc(t,r,!1),ur(e,t,o);n=t.stateNode,xm.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=jn(t,e.child,null,o),t.child=jn(t,null,l,o)):tt(e,t,l,o),t.memoizedState=n.state,a&&Zc(t,r,!0),t.child}function mh(e){var t=e.stateNode;t.pendingContext?Hc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hc(e,t.context,!1),gu(e,t.containerInfo)}function lf(e,t,r,n,a){return Bn(),cu(a),t.flags|=256,tt(e,t,r,n),t.child}var xl={dehydrated:null,treeContext:null,retryLane:0};function kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function yh(e,t,r){var n=t.pendingProps,a=Se.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),fe(Se,a&1),e===null)return dl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Mi(i,n,0,null),e=qr(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=kl(r),t.memoizedState=xl,e):Tu(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return km(e,t,i,n,l,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,l=a.sibling;var s={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=s,t.deletions=null):(n=Nr(a,s),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Nr(l,o):(o=qr(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?kl(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=xl,n}return o=e.child,e=o.sibling,n=Nr(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Tu(e,t){return t=Mi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ko(e,t,r,n){return n!==null&&cu(n),jn(t,e.child,null,r),e=Tu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function km(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Ss(Error(L(422))),ko(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Mi({mode:"visible",children:n.children},a,0,null),o=qr(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&jn(t,e.child,null,i),t.child.memoizedState=kl(i),t.memoizedState=xl,o);if(!(t.mode&1))return ko(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(L(419)),n=Ss(o,n,void 0),ko(e,t,i,n)}if(l=(i&e.childLanes)!==0,it||l){if(n=Ge,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,lr(e,a),zt(n,e,a,-1))}return Nu(),n=Ss(Error(L(421))),ko(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Um.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,vt=Cr(a.nextSibling),gt=t,me=!0,Dt=null,e!==null&&(Tt[Et++]=tr,Tt[Et++]=rr,Tt[Et++]=tn,tr=e.id,rr=e.overflow,tn=t),t=Tu(t,n.children),t.flags|=4096,t)}function uf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),pl(e.return,t,r)}function ws(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function xh(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(tt(e,t,n.children,r),n=Se.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uf(e,r,t);else if(e.tag===19)uf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fe(Se,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ci(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ws(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ci(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ws(t,!0,r,null,o);break;case"together":ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ur(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),nn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=Nr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Nr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Sm(e,t,r){switch(t.tag){case 3:mh(t),Bn();break;case 5:Zp(t);break;case 1:lt(t.type)&&ai(t);break;case 4:gu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;fe(si,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fe(Se,Se.current&1),t.flags|=128,null):r&t.child.childLanes?yh(e,t,r):(fe(Se,Se.current&1),e=ur(e,t,r),e!==null?e.sibling:null);fe(Se,Se.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return xh(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),fe(Se,Se.current),n)break;return null;case 22:case 23:return t.lanes=0,vh(e,t,r)}return ur(e,t,r)}var kh,Sl,Sh,wh;kh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sl=function(){};Sh=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Qr(Kt.current);var o=null;switch(r){case"input":a=$s(e,a),n=$s(e,n),o=[];break;case"select":a=be({},a,{value:void 0}),n=be({},n,{value:void 0}),o=[];break;case"textarea":a=Ws(e,a),n=Ws(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ri)}Xs(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var s=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&s!==l&&(s!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||s&&s.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in s)s.hasOwnProperty(i)&&l[i]!==s[i]&&(r||(r={}),r[i]=s[i])}else r||(o||(o=[]),o.push(u,r)),r=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(o=o||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(o=o||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wa.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&ve("scroll",e),o||l===s||(o=[])):(o=o||[]).push(u,s))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};wh=function(e,t,r,n){r!==n&&(t.flags|=4)};function oa(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wm(e,t,r){var n=t.pendingProps;switch(uu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return lt(t.type)&&ni(),Xe(t),null;case 3:return n=t.stateNode,Gn(),ge(st),ge(qe),yu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(_l(Dt),Dt=null))),Sl(e,t),Xe(t),null;case 5:mu(t);var a=Qr(Da.current);if(r=t.type,e!==null&&t.stateNode!=null)Sh(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return Xe(t),null}if(e=Qr(Kt.current),yo(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Xt]=t,n[Oa]=o,e=(t.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(a=0;a<fa.length;a++)ve(fa[a],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":mc(n,o),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ve("invalid",n);break;case"textarea":xc(n,o),ve("invalid",n)}Xs(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&mo(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&mo(n.textContent,l,e),a=["children",""+l]):wa.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ve("scroll",n)}switch(r){case"input":lo(n),yc(n,o,!0);break;case"textarea":lo(n),kc(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ri)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Xt]=t,e[Oa]=n,kh(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ys(r,n),r){case"dialog":ve("cancel",e),ve("close",e),a=n;break;case"iframe":case"object":case"embed":ve("load",e),a=n;break;case"video":case"audio":for(a=0;a<fa.length;a++)ve(fa[a],e);a=n;break;case"source":ve("error",e),a=n;break;case"img":case"image":case"link":ve("error",e),ve("load",e),a=n;break;case"details":ve("toggle",e),a=n;break;case"input":mc(e,n),a=$s(e,n),ve("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=be({},n,{value:void 0}),ve("invalid",e);break;case"textarea":xc(e,n),a=Ws(e,n),ve("invalid",e);break;default:a=n}Xs(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="style"?Jd(e,s):o==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&Kd(e,s)):o==="children"?typeof s=="string"?(r!=="textarea"||s!=="")&&ba(e,s):typeof s=="number"&&ba(e,""+s):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wa.hasOwnProperty(o)?s!=null&&o==="onScroll"&&ve("scroll",e):s!=null&&Xl(e,o,s,i))}switch(r){case"input":lo(e),yc(e,n,!1);break;case"textarea":lo(e),kc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Or(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Nn(e,!!n.multiple,o,!1):n.defaultValue!=null&&Nn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ri)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)wh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=Qr(Da.current),Qr(Kt.current),yo(t)){if(n=t.stateNode,r=t.memoizedProps,n[Xt]=t,(o=n.nodeValue!==r)&&(e=gt,e!==null))switch(e.tag){case 3:mo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mo(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xt]=t,t.stateNode=n}return Xe(t),null;case 13:if(ge(Se),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&vt!==null&&t.mode&1&&!(t.flags&128))Bp(),Bn(),t.flags|=98560,o=!1;else if(o=yo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[Xt]=t}else Bn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),o=!1}else Dt!==null&&(_l(Dt),Dt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Ie===0&&(Ie=3):Nu())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return Gn(),Sl(e,t),e===null&&Na(t.stateNode.containerInfo),Xe(t),null;case 10:return pu(t.type._context),Xe(t),null;case 17:return lt(t.type)&&ni(),Xe(t),null;case 19:if(ge(Se),o=t.memoizedState,o===null)return Xe(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)oa(o,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ci(e),i!==null){for(t.flags|=128,oa(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fe(Se,Se.current&1|2),t.child}e=e.sibling}o.tail!==null&&Le()>Hn&&(t.flags|=128,n=!0,oa(o,!1),t.lanes=4194304)}else{if(!n)if(e=ci(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),oa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!me)return Xe(t),null}else 2*Le()-o.renderingStartTime>Hn&&r!==1073741824&&(t.flags|=128,n=!0,oa(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Le(),t.sibling=null,r=Se.current,fe(Se,n?r&1|2:r&1),t):(Xe(t),null);case 22:case 23:return _u(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ht&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function bm(e,t){switch(uu(t),t.tag){case 1:return lt(t.type)&&ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gn(),ge(st),ge(qe),yu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mu(t),null;case 13:if(ge(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(Se),null;case 4:return Gn(),null;case 10:return pu(t.type._context),null;case 22:case 23:return _u(),null;case 24:return null;default:return null}}var So=!1,Ke=!1,Tm=typeof WeakSet=="function"?WeakSet:Set,B=null;function Cn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ce(e,t,n)}else r.current=null}function wl(e,t,r){try{r()}catch(n){Ce(e,t,n)}}var cf=!1;function Em(e,t){if(ol=Jo,e=Fp(),su(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,s=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==r||a!==0&&d.nodeType!==3||(l=i+a),d!==o||n!==0&&d.nodeType!==3||(s=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===r&&++u===a&&(l=i),f===o&&++c===n&&(s=i),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}r=l===-1||s===-1?null:{start:l,end:s}}else r=null}r=r||{start:0,end:0}}else r=null;for(il={focusedElem:e,selectionRange:r},Jo=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,k=y.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ot(t.type,x),k);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(S){Ce(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return y=cf,cf=!1,y}function ya(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&wl(t,r,o)}a=a.next}while(a!==n)}}function Ai(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function bl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bh(e){var t=e.alternate;t!==null&&(e.alternate=null,bh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xt],delete t[Oa],delete t[ul],delete t[sm],delete t[lm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Th(e){return e.tag===5||e.tag===3||e.tag===4}function ff(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ri));else if(n!==4&&(e=e.child,e!==null))for(Tl(e,t,r),e=e.sibling;e!==null;)Tl(e,t,r),e=e.sibling}function El(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(El(e,t,r),e=e.sibling;e!==null;)El(e,t,r),e=e.sibling}var He=null,Ut=!1;function dr(e,t,r){for(r=r.child;r!==null;)Eh(e,t,r),r=r.sibling}function Eh(e,t,r){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(_i,r)}catch{}switch(r.tag){case 5:Ke||Cn(r,t);case 6:var n=He,a=Ut;He=null,dr(e,t,r),He=n,Ut=a,He!==null&&(Ut?(e=He,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):He.removeChild(r.stateNode));break;case 18:He!==null&&(Ut?(e=He,r=r.stateNode,e.nodeType===8?vs(e.parentNode,r):e.nodeType===1&&vs(e,r),Fa(e)):vs(He,r.stateNode));break;case 4:n=He,a=Ut,He=r.stateNode.containerInfo,Ut=!0,dr(e,t,r),He=n,Ut=a;break;case 0:case 11:case 14:case 15:if(!Ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&wl(r,t,i),a=a.next}while(a!==n)}dr(e,t,r);break;case 1:if(!Ke&&(Cn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ce(r,t,l)}dr(e,t,r);break;case 21:dr(e,t,r);break;case 22:r.mode&1?(Ke=(n=Ke)||r.memoizedState!==null,dr(e,t,r),Ke=n):dr(e,t,r);break;default:dr(e,t,r)}}function df(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Tm),t.forEach(function(n){var a=Dm.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Lt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,Ut=!1;break e;case 3:He=l.stateNode.containerInfo,Ut=!0;break e;case 4:He=l.stateNode.containerInfo,Ut=!0;break e}l=l.return}if(He===null)throw Error(L(160));Eh(o,i,a),He=null,Ut=!1;var s=a.alternate;s!==null&&(s.return=null),a.return=null}catch(u){Ce(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ch(t,e),t=t.sibling}function Ch(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),$t(e),n&4){try{ya(3,e,e.return),Ai(3,e)}catch(x){Ce(e,e.return,x)}try{ya(5,e,e.return)}catch(x){Ce(e,e.return,x)}}break;case 1:Lt(t,e),$t(e),n&512&&r!==null&&Cn(r,r.return);break;case 5:if(Lt(t,e),$t(e),n&512&&r!==null&&Cn(r,r.return),e.flags&32){var a=e.stateNode;try{ba(a,"")}catch(x){Ce(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Xd(a,o),Ys(l,i);var u=Ys(l,o);for(i=0;i<s.length;i+=2){var c=s[i],d=s[i+1];c==="style"?Jd(a,d):c==="dangerouslySetInnerHTML"?Kd(a,d):c==="children"?ba(a,d):Xl(a,c,d,u)}switch(l){case"input":Hs(a,o);break;case"textarea":Yd(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Nn(a,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Nn(a,!!o.multiple,o.defaultValue,!0):Nn(a,!!o.multiple,o.multiple?[]:"",!1))}a[Oa]=o}catch(x){Ce(e,e.return,x)}}break;case 6:if(Lt(t,e),$t(e),n&4){if(e.stateNode===null)throw Error(L(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(x){Ce(e,e.return,x)}}break;case 3:if(Lt(t,e),$t(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fa(t.containerInfo)}catch(x){Ce(e,e.return,x)}break;case 4:Lt(t,e),$t(e);break;case 13:Lt(t,e),$t(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Fu=Le())),n&4&&df(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Ke=(u=Ke)||c,Lt(t,e),Ke=u):Lt(t,e),$t(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(B=e,c=e.child;c!==null;){for(d=B=c;B!==null;){switch(f=B,h=f.child,f.tag){case 0:case 11:case 14:case 15:ya(4,f,f.return);break;case 1:Cn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){Ce(n,r,x)}}break;case 5:Cn(f,f.return);break;case 22:if(f.memoizedState!==null){hf(d);continue}}h!==null?(h.return=f,B=h):hf(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{a=d.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,s=d.memoizedProps.style,i=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=qd("display",i))}catch(x){Ce(e,e.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){Ce(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Lt(t,e),$t(e),n&4&&df(e);break;case 21:break;default:Lt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Th(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ba(a,""),n.flags&=-33);var o=ff(e);El(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=ff(e);Tl(e,l,i);break;default:throw Error(L(161))}}catch(s){Ce(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cm(e,t,r){B=e,Fh(e)}function Fh(e,t,r){for(var n=(e.mode&1)!==0;B!==null;){var a=B,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||So;if(!i){var l=a.alternate,s=l!==null&&l.memoizedState!==null||Ke;l=So;var u=Ke;if(So=i,(Ke=s)&&!u)for(B=a;B!==null;)i=B,s=i.child,i.tag===22&&i.memoizedState!==null?vf(a):s!==null?(s.return=i,B=s):vf(a);for(;o!==null;)B=o,Fh(o),o=o.sibling;B=a,So=l,Ke=u}pf(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,B=o):pf(e)}}function pf(e){for(;B!==null;){var t=B;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||Ai(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ke)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ot(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Qc(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Qc(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break;case"img":s.src&&(r.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Fa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ke||t.flags&512&&bl(t)}catch(f){Ce(t,t.return,f)}}if(t===e){B=null;break}if(r=t.sibling,r!==null){r.return=t.return,B=r;break}B=t.return}}function hf(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var r=t.sibling;if(r!==null){r.return=t.return,B=r;break}B=t.return}}function vf(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ai(4,t)}catch(s){Ce(t,r,s)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(s){Ce(t,a,s)}}var o=t.return;try{bl(t)}catch(s){Ce(t,o,s)}break;case 5:var i=t.return;try{bl(t)}catch(s){Ce(t,i,s)}}}catch(s){Ce(t,t.return,s)}if(t===e){B=null;break}var l=t.sibling;if(l!==null){l.return=t.return,B=l;break}B=t.return}}var Fm=Math.ceil,pi=cr.ReactCurrentDispatcher,Eu=cr.ReactCurrentOwner,Ft=cr.ReactCurrentBatchConfig,oe=0,Ge=null,Ue=null,Ze=0,ht=0,Fn=Ir(0),Ie=0,Ia=null,nn=0,Ii=0,Cu=0,xa=null,ot=null,Fu=0,Hn=1/0,Jt=null,hi=!1,Cl=null,Rr=null,wo=!1,Sr=null,vi=0,ka=0,Fl=null,$o=-1,Ho=0;function rt(){return oe&6?Le():$o!==-1?$o:$o=Le()}function _r(e){return e.mode&1?oe&2&&Ze!==0?Ze&-Ze:cm.transition!==null?(Ho===0&&(Ho=fp()),Ho):(e=le,e!==0||(e=window.event,e=e===void 0?16:yp(e.type)),e):1}function zt(e,t,r,n){if(50<ka)throw ka=0,Fl=null,Error(L(185));Za(e,r,n),(!(oe&2)||e!==Ge)&&(e===Ge&&(!(oe&2)&&(Ii|=r),Ie===4&&xr(e,Ze)),ut(e,n),r===1&&oe===0&&!(t.mode&1)&&(Hn=Le()+500,Di&&Mr()))}function ut(e,t){var r=e.callbackNode;cg(e,t);var n=qo(e,e===Ge?Ze:0);if(n===0)r!==null&&bc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&bc(r),t===1)e.tag===0?um(gf.bind(null,e)):Ap(gf.bind(null,e)),om(function(){!(oe&6)&&Mr()}),r=null;else{switch(dp(n)){case 1:r=Jl;break;case 4:r=up;break;case 16:r=Ko;break;case 536870912:r=cp;break;default:r=Ko}r=Ph(r,Rh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Rh(e,t){if($o=-1,Ho=0,oe&6)throw Error(L(327));var r=e.callbackNode;if(Pn()&&e.callbackNode!==r)return null;var n=qo(e,e===Ge?Ze:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gi(e,n);else{t=n;var a=oe;oe|=2;var o=Nh();(Ge!==e||Ze!==t)&&(Jt=null,Hn=Le()+500,Kr(e,t));do try{Nm();break}catch(l){_h(e,l)}while(!0);du(),pi.current=o,oe=a,Ue!==null?t=0:(Ge=null,Ze=0,t=Ie)}if(t!==0){if(t===2&&(a=el(e),a!==0&&(n=a,t=Rl(e,a))),t===1)throw r=Ia,Kr(e,0),xr(e,n),ut(e,Le()),r;if(t===6)xr(e,n);else{if(a=e.current.alternate,!(n&30)&&!Rm(a)&&(t=gi(e,n),t===2&&(o=el(e),o!==0&&(n=o,t=Rl(e,o))),t===1))throw r=Ia,Kr(e,0),xr(e,n),ut(e,Le()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Zr(e,ot,Jt);break;case 3:if(xr(e,n),(n&130023424)===n&&(t=Fu+500-Le(),10<t)){if(qo(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){rt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ll(Zr.bind(null,e,ot,Jt),t);break}Zr(e,ot,Jt);break;case 4:if(xr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Pt(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=Le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Fm(n/1960))-n,10<n){e.timeoutHandle=ll(Zr.bind(null,e,ot,Jt),n);break}Zr(e,ot,Jt);break;case 5:Zr(e,ot,Jt);break;default:throw Error(L(329))}}}return ut(e,Le()),e.callbackNode===r?Rh.bind(null,e):null}function Rl(e,t){var r=xa;return e.current.memoizedState.isDehydrated&&(Kr(e,t).flags|=256),e=gi(e,t),e!==2&&(t=ot,ot=r,t!==null&&_l(t)),e}function _l(e){ot===null?ot=e:ot.push.apply(ot,e)}function Rm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!At(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t){for(t&=~Cu,t&=~Ii,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pt(t),n=1<<r;e[r]=-1,t&=~n}}function gf(e){if(oe&6)throw Error(L(327));Pn();var t=qo(e,0);if(!(t&1))return ut(e,Le()),null;var r=gi(e,t);if(e.tag!==0&&r===2){var n=el(e);n!==0&&(t=n,r=Rl(e,n))}if(r===1)throw r=Ia,Kr(e,0),xr(e,t),ut(e,Le()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zr(e,ot,Jt),ut(e,Le()),null}function Ru(e,t){var r=oe;oe|=1;try{return e(t)}finally{oe=r,oe===0&&(Hn=Le()+500,Di&&Mr())}}function an(e){Sr!==null&&Sr.tag===0&&!(oe&6)&&Pn();var t=oe;oe|=1;var r=Ft.transition,n=le;try{if(Ft.transition=null,le=1,e)return e()}finally{le=n,Ft.transition=r,oe=t,!(oe&6)&&Mr()}}function _u(){ht=Fn.current,ge(Fn)}function Kr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,am(r)),Ue!==null)for(r=Ue.return;r!==null;){var n=r;switch(uu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ni();break;case 3:Gn(),ge(st),ge(qe),yu();break;case 5:mu(n);break;case 4:Gn();break;case 13:ge(Se);break;case 19:ge(Se);break;case 10:pu(n.type._context);break;case 22:case 23:_u()}r=r.return}if(Ge=e,Ue=e=Nr(e.current,null),Ze=ht=t,Ie=0,Ia=null,Cu=Ii=nn=0,ot=xa=null,Yr!==null){for(t=0;t<Yr.length;t++)if(r=Yr[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Yr=null}return e}function _h(e,t){do{var r=Ue;try{if(du(),Bo.current=di,fi){for(var n=we.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}fi=!1}if(rn=0,Be=Ae=we=null,ma=!1,Pa=0,Eu.current=null,r===null||r.return===null){Ie=1,Ia=t,Ue=null;break}e:{var o=e,i=r.return,l=r,s=t;if(t=Ze,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=rf(i);if(h!==null){h.flags&=-257,nf(h,i,l,o,t),h.mode&1&&tf(o,u,t),t=h,s=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(s),t.updateQueue=x}else y.add(s);break e}else{if(!(t&1)){tf(o,u,t),Nu();break e}s=Error(L(426))}}else if(me&&l.mode&1){var k=rf(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),nf(k,i,l,o,t),cu($n(s,l));break e}}o=s=$n(s,l),Ie!==4&&(Ie=2),xa===null?xa=[o]:xa.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=dh(o,s,t);Yc(o,p);break e;case 1:l=s;var m=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Rr===null||!Rr.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=ph(o,l,t);Yc(o,S);break e}}o=o.return}while(o!==null)}Oh(r)}catch(E){t=E,Ue===r&&r!==null&&(Ue=r=r.return);continue}break}while(!0)}function Nh(){var e=pi.current;return pi.current=di,e===null?di:e}function Nu(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Ge===null||!(nn&268435455)&&!(Ii&268435455)||xr(Ge,Ze)}function gi(e,t){var r=oe;oe|=2;var n=Nh();(Ge!==e||Ze!==t)&&(Jt=null,Kr(e,t));do try{_m();break}catch(a){_h(e,a)}while(!0);if(du(),oe=r,pi.current=n,Ue!==null)throw Error(L(261));return Ge=null,Ze=0,Ie}function _m(){for(;Ue!==null;)Lh(Ue)}function Nm(){for(;Ue!==null&&!tg();)Lh(Ue)}function Lh(e){var t=Dh(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?Oh(e):Ue=t,Eu.current=null}function Oh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=bm(r,t),r!==null){r.flags&=32767,Ue=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Ue=null;return}}else if(r=wm(r,t,ht),r!==null){Ue=r;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Ie===0&&(Ie=5)}function Zr(e,t,r){var n=le,a=Ft.transition;try{Ft.transition=null,le=1,Lm(e,t,r,n)}finally{Ft.transition=a,le=n}return null}function Lm(e,t,r,n){do Pn();while(Sr!==null);if(oe&6)throw Error(L(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(fg(e,o),e===Ge&&(Ue=Ge=null,Ze=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wo||(wo=!0,Ph(Ko,function(){return Pn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Ft.transition,Ft.transition=null;var i=le;le=1;var l=oe;oe|=4,Eu.current=null,Em(e,r),Ch(r,e),Kg(il),Jo=!!ol,il=ol=null,e.current=r,Cm(r),rg(),oe=l,le=i,Ft.transition=o}else e.current=r;if(wo&&(wo=!1,Sr=e,vi=a),o=e.pendingLanes,o===0&&(Rr=null),og(r.stateNode),ut(e,Le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(hi)throw hi=!1,e=Cl,Cl=null,e;return vi&1&&e.tag!==0&&Pn(),o=e.pendingLanes,o&1?e===Fl?ka++:(ka=0,Fl=e):ka=0,Mr(),null}function Pn(){if(Sr!==null){var e=dp(vi),t=Ft.transition,r=le;try{if(Ft.transition=null,le=16>e?16:e,Sr===null)var n=!1;else{if(e=Sr,Sr=null,vi=0,oe&6)throw Error(L(331));var a=oe;for(oe|=4,B=e.current;B!==null;){var o=B,i=o.child;if(B.flags&16){var l=o.deletions;if(l!==null){for(var s=0;s<l.length;s++){var u=l[s];for(B=u;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:ya(8,c,o)}var d=c.child;if(d!==null)d.return=c,B=d;else for(;B!==null;){c=B;var f=c.sibling,h=c.return;if(bh(c),c===u){B=null;break}if(f!==null){f.return=h,B=f;break}B=h}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}B=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,B=i;else e:for(;B!==null;){if(o=B,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ya(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,B=p;break e}B=o.return}}var m=e.current;for(B=m;B!==null;){i=B;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,B=g;else e:for(i=m;B!==null;){if(l=B,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ai(9,l)}}catch(E){Ce(l,l.return,E)}if(l===i){B=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,B=S;break e}B=l.return}}if(oe=a,Mr(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(_i,e)}catch{}n=!0}return n}finally{le=r,Ft.transition=t}}return!1}function mf(e,t,r){t=$n(r,t),t=dh(e,t,1),e=Fr(e,t,1),t=rt(),e!==null&&(Za(e,1,t),ut(e,t))}function Ce(e,t,r){if(e.tag===3)mf(e,e,r);else for(;t!==null;){if(t.tag===3){mf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rr===null||!Rr.has(n))){e=$n(r,e),e=ph(t,e,1),t=Fr(t,e,1),e=rt(),t!==null&&(Za(t,1,e),ut(t,e));break}}t=t.return}}function Om(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&r,Ge===e&&(Ze&r)===r&&(Ie===4||Ie===3&&(Ze&130023424)===Ze&&500>Le()-Fu?Kr(e,0):Cu|=r),ut(e,t)}function Uh(e,t){t===0&&(e.mode&1?(t=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):t=1);var r=rt();e=lr(e,t),e!==null&&(Za(e,t,r),ut(e,r))}function Um(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Uh(e,r)}function Dm(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),Uh(e,r)}var Dh;Dh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)it=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return it=!1,Sm(e,t,r);it=!!(e.flags&131072)}else it=!1,me&&t.flags&1048576&&Ip(t,ii,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Go(e,t),e=t.pendingProps;var a=Mn(t,qe.current);Dn(t,r),a=ku(null,t,n,e,a,r);var o=Su();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(n)?(o=!0,ai(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,vu(t),a.updater=zi,t.stateNode=a,a._reactInternals=t,vl(t,n,e,r),t=yl(null,t,n,!0,o,r)):(t.tag=0,me&&o&&lu(t),tt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=zm(n),e=Ot(n,e),a){case 0:t=ml(null,t,n,e,r);break e;case 1:t=sf(null,t,n,e,r);break e;case 11:t=af(null,t,n,e,r);break e;case 14:t=of(null,t,n,Ot(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ot(n,a),ml(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ot(n,a),sf(e,t,n,a,r);case 3:e:{if(mh(t),e===null)throw Error(L(387));n=t.pendingProps,o=t.memoizedState,a=o.element,Hp(e,t),ui(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=$n(Error(L(423)),t),t=lf(e,t,n,r,a);break e}else if(n!==a){a=$n(Error(L(424)),t),t=lf(e,t,n,r,a);break e}else for(vt=Cr(t.stateNode.containerInfo.firstChild),gt=t,me=!0,Dt=null,r=Gp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bn(),n===a){t=ur(e,t,r);break e}tt(e,t,n,r)}t=t.child}return t;case 5:return Zp(t),e===null&&dl(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,sl(n,a)?i=null:o!==null&&sl(n,o)&&(t.flags|=32),gh(e,t),tt(e,t,i,r),t.child;case 6:return e===null&&dl(t),null;case 13:return yh(e,t,r);case 4:return gu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=jn(t,null,n,r):tt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ot(n,a),af(e,t,n,a,r);case 7:return tt(e,t,t.pendingProps,r),t.child;case 8:return tt(e,t,t.pendingProps.children,r),t.child;case 12:return tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,fe(si,n._currentValue),n._currentValue=i,o!==null)if(At(o.value,i)){if(o.children===a.children&&!st.current){t=ur(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var s=l.firstContext;s!==null;){if(s.context===n){if(o.tag===1){s=ar(-1,r&-r),s.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?s.next=s:(s.next=c.next,c.next=s),u.pending=s}}o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),pl(o.return,r,t),l.lanes|=r;break}s=s.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(L(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),pl(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}tt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Dn(t,r),a=Rt(a),n=n(a),t.flags|=1,tt(e,t,n,r),t.child;case 14:return n=t.type,a=Ot(n,t.pendingProps),a=Ot(n.type,a),of(e,t,n,a,r);case 15:return hh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ot(n,a),Go(e,t),t.tag=1,lt(n)?(e=!0,ai(t)):e=!1,Dn(t,r),fh(t,n,a),vl(t,n,a,r),yl(null,t,n,!0,e,r);case 19:return xh(e,t,r);case 22:return vh(e,t,r)}throw Error(L(156,t.tag))};function Ph(e,t){return lp(e,t)}function Pm(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,r,n){return new Pm(e,t,r,n)}function Lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zm(e){if(typeof e=="function")return Lu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ql)return 11;if(e===Kl)return 14}return 2}function Nr(e,t){var r=e.alternate;return r===null?(r=Ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zo(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")Lu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case mn:return qr(r.children,a,o,t);case Yl:i=8,a|=8;break;case Ms:return e=Ct(12,r,t,a|2),e.elementType=Ms,e.lanes=o,e;case Bs:return e=Ct(13,r,t,a),e.elementType=Bs,e.lanes=o,e;case js:return e=Ct(19,r,t,a),e.elementType=js,e.lanes=o,e;case Zd:return Mi(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $d:i=10;break e;case Hd:i=9;break e;case Ql:i=11;break e;case Kl:i=14;break e;case gr:i=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Ct(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function qr(e,t,r,n){return e=Ct(7,e,n,t),e.lanes=r,e}function Mi(e,t,r,n){return e=Ct(22,e,n,t),e.elementType=Zd,e.lanes=r,e.stateNode={isHidden:!1},e}function bs(e,t,r){return e=Ct(6,e,null,t),e.lanes=r,e}function Ts(e,t,r){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Am(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=as(0),this.expirationTimes=as(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ou(e,t,r,n,a,o,i,l,s){return e=new Am(e,t,r,l,s),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ct(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(o),e}function Im(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zh(e){if(!e)return Ur;e=e._reactInternals;e:{if(ln(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(lt(r))return zp(e,r,t)}return t}function Ah(e,t,r,n,a,o,i,l,s){return e=Ou(r,n,!0,e,a,o,i,l,s),e.context=zh(null),r=e.current,n=rt(),a=_r(r),o=ar(n,a),o.callback=t??null,Fr(r,o,a),e.current.lanes=a,Za(e,a,n),ut(e,n),e}function Bi(e,t,r,n){var a=t.current,o=rt(),i=_r(a);return r=zh(r),t.context===null?t.context=r:t.pendingContext=r,t=ar(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fr(a,t,i),e!==null&&(zt(e,a,i,o),Mo(e,a,i)),i}function mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Uu(e,t){yf(e,t),(e=e.alternate)&&yf(e,t)}function Mm(){return null}var Ih=typeof reportError=="function"?reportError:function(e){console.error(e)};function Du(e){this._internalRoot=e}ji.prototype.render=Du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Bi(e,t,null,null)};ji.prototype.unmount=Du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;an(function(){Bi(null,e,null,null)}),t[sr]=null}};function ji(e){this._internalRoot=e}ji.prototype.unstable_scheduleHydration=function(e){if(e){var t=vp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yr.length&&t!==0&&t<yr[r].priority;r++);yr.splice(r,0,e),r===0&&mp(e)}};function Pu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xf(){}function Bm(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=mi(i);o.call(u)}}var i=Ah(t,n,e,0,null,!1,!1,"",xf);return e._reactRootContainer=i,e[sr]=i.current,Na(e.nodeType===8?e.parentNode:e),an(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=mi(s);l.call(u)}}var s=Ou(e,0,!1,null,null,!1,!1,"",xf);return e._reactRootContainer=s,e[sr]=s.current,Na(e.nodeType===8?e.parentNode:e),an(function(){Bi(t,s,r,n)}),s}function $i(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var s=mi(i);l.call(s)}}Bi(t,i,e,a)}else i=Bm(r,t,e,a,n);return mi(i)}pp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ca(t.pendingLanes);r!==0&&(eu(t,r|1),ut(t,Le()),!(oe&6)&&(Hn=Le()+500,Mr()))}break;case 13:an(function(){var n=lr(e,1);if(n!==null){var a=rt();zt(n,e,1,a)}}),Uu(e,1)}};tu=function(e){if(e.tag===13){var t=lr(e,134217728);if(t!==null){var r=rt();zt(t,e,134217728,r)}Uu(e,134217728)}};hp=function(e){if(e.tag===13){var t=_r(e),r=lr(e,t);if(r!==null){var n=rt();zt(r,e,t,n)}Uu(e,t)}};vp=function(){return le};gp=function(e,t){var r=le;try{return le=e,t()}finally{le=r}};Ks=function(e,t,r){switch(t){case"input":if(Hs(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ui(n);if(!a)throw Error(L(90));Vd(n),Hs(n,a)}}}break;case"textarea":Yd(e,r);break;case"select":t=r.value,t!=null&&Nn(e,!!r.multiple,t,!1)}};rp=Ru;np=an;var jm={usingClientEntryPoint:!1,Events:[Va,Sn,Ui,ep,tp,Ru]},ia={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gm={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ip(e),e===null?null:e.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||Mm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bo.isDisabled&&bo.supportsFiber)try{_i=bo.inject(Gm),Qt=bo}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jm;yt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pu(t))throw Error(L(200));return Im(e,t,null,r)};yt.createRoot=function(e,t){if(!Pu(e))throw Error(L(299));var r=!1,n="",a=Ih;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ou(e,1,!1,null,null,r,!1,n,a),e[sr]=t.current,Na(e.nodeType===8?e.parentNode:e),new Du(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=ip(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return an(e)};yt.hydrate=function(e,t,r){if(!Gi(t))throw Error(L(200));return $i(null,e,t,!0,r)};yt.hydrateRoot=function(e,t,r){if(!Pu(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=Ih;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Ah(t,null,e,1,r??null,a,!1,o,i),e[sr]=t.current,Na(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ji(t)};yt.render=function(e,t,r){if(!Gi(t))throw Error(L(200));return $i(null,e,t,!1,r)};yt.unmountComponentAtNode=function(e){if(!Gi(e))throw Error(L(40));return e._reactRootContainer?(an(function(){$i(null,null,e,!1,function(){e._reactRootContainer=null,e[sr]=null})}),!0):!1};yt.unstable_batchedUpdates=Ru;yt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gi(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return $i(e,t,r,!1,n)};yt.version="18.3.1-next-f1338f8080-20240426";function Mh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mh)}catch(e){console.error(e)}}Mh(),Md.exports=yt;var $m=Md.exports,kf=$m;As.createRoot=kf.createRoot,As.hydrateRoot=kf.hydrateRoot;const Hm=({font:e,onExportJSON:t,onExportTTF:r,onImportJSON:n,onShowShortcuts:a})=>{const o=_.useRef(null),[i,l]=_.useState(!1),s=_.useRef(null);return Jr.useEffect(()=>{const u=c=>{s.current&&!s.current.contains(c.target)&&l(!1)};if(i)return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[i]),v.jsxs("div",{className:"bg-neutral-900 text-white px-4 py-2 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("h1",{className:"text-lg font-bold",children:"Typeface Editor"}),v.jsxs("div",{className:"text-sm text-neutral-400",children:[e.meta.familyName," ",e.meta.styleName]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("button",{onClick:a,className:"px-3 py-1.5 rounded bg-neutral-800 hover:bg-neutral-700 text-sm",title:"Keyboard Shortcuts (?)",children:[v.jsx("i",{className:"ph ph-keyboard"})," Shortcuts"]}),v.jsxs("button",{onClick:()=>{var u;return(u=o.current)==null?void 0:u.click()},className:"px-3 py-1.5 rounded bg-neutral-800 hover:bg-neutral-700 text-sm",children:[v.jsx("i",{className:"ph ph-upload-simple"})," Import"]}),v.jsxs("div",{className:"relative",ref:s,children:[v.jsxs("div",{className:"flex",children:[v.jsxs("button",{onClick:t,className:"px-3 py-1.5 rounded-l bg-blue-600 hover:bg-blue-500 text-sm",children:[v.jsx("i",{className:"ph ph-download-simple"})," Export"]}),v.jsx("button",{onClick:()=>l(!i),className:"px-2 py-1.5 rounded-r bg-blue-600 hover:bg-blue-500 text-sm border-l border-blue-500",title:"Export options",children:v.jsx("i",{className:`ph ph-caret-${i?"up":"down"}`})})]}),i&&v.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded shadow-lg border border-neutral-200 py-1 z-50",children:[v.jsxs("button",{onClick:()=>{t(),l(!1)},className:"w-full px-4 py-2 text-left text-sm text-neutral-700 hover:bg-neutral-100 flex items-center gap-2",children:[v.jsx("i",{className:"ph ph-file-text"}),v.jsx("span",{children:"Export as JSON"})]}),v.jsxs("button",{onClick:()=>{r(),l(!1)},className:"w-full px-4 py-2 text-left text-sm text-neutral-700 hover:bg-neutral-100 flex items-center gap-2",children:[v.jsx("i",{className:"ph ph-file-arrow-down"}),v.jsx("span",{children:"Export as TTF Font"})]})]})]}),v.jsx("input",{ref:o,type:"file",accept:".json",onChange:n,className:"hidden"})]})]})};var se=(e=>(e.SQUARE="square",e.CIRCLE="circle",e.TRIANGLE="triangle",e.QUARTER_CIRCLE="quarter-circle",e))(se||{}),K=(e=>(e.TL="tl",e.TR="tr",e.BL="bl",e.BR="br",e))(K||{}),Qe=(e=>(e.DRAW="draw",e.SELECT="select",e))(Qe||{}),ie=(e=>(e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom",e.CENTER_H="center-h",e.CENTER_V="center-v",e))(ie||{});const To={viewBox:"0 0 24 24",className:"w-5 h-5 fill-current"},Zm=[{type:se.SQUARE,label:"Square",icon:v.jsx("svg",{...To,children:v.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})})},{type:se.CIRCLE,label:"Circle",icon:v.jsx("svg",{...To,children:v.jsx("circle",{cx:"12",cy:"12",r:"8"})})},{type:se.TRIANGLE,label:"Right Triangle",icon:v.jsx("svg",{...To,children:v.jsx("path",{d:"M6 6v12h12z"})})},{type:se.QUARTER_CIRCLE,label:"Quarter Circle",icon:v.jsx("svg",{...To,children:v.jsx("path",{d:"M6 6L18 6A12 12 0 0 1 6 18Z"})})}],te=32,Wm=({selectedShape:e,onSelectShape:t,tool:r,onToolChange:n})=>v.jsx("div",{className:"bg-white border-b border-neutral-200 p-3",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>n(Qe.DRAW),className:`tool-btn px-3 py-2 rounded text-xs font-medium ${r===Qe.DRAW?"active":""}`,title:"Draw shapes (D)",children:v.jsx("i",{className:"ph ph-pencil-simple text-base"})}),v.jsx("button",{onClick:()=>n(Qe.SELECT),className:`tool-btn px-3 py-2 rounded text-xs font-medium ${r===Qe.SELECT?"active":""}`,title:"Select & transform (V)",children:v.jsx("i",{className:"ph ph-cursor text-base"})})]}),v.jsx("div",{className:"w-px h-6 bg-neutral-200"}),v.jsx("div",{className:"flex gap-2",children:Zm.map(a=>v.jsx("button",{onClick:()=>{t(a.type),r!==Qe.DRAW&&n(Qe.DRAW)},className:`shape-btn px-3 py-2 rounded text-center ${e===a.type&&r===Qe.DRAW?"selected":""}`,title:a.label,children:v.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-neutral-700",children:a.icon})},a.type))})]})}),Bh=Jr.memo(({shape:e,isSelected:t})=>$h(e,t),(e,t)=>e.shape.id===t.shape.id&&e.shape.x===t.shape.x&&e.shape.y===t.shape.y&&e.shape.width===t.shape.width&&e.shape.height===t.shape.height&&e.shape.rotation===t.shape.rotation&&e.shape.corner===t.shape.corner&&e.isSelected===t.isSelected);Bh.displayName="ShapeElement";const jh=(e,t=!1)=>v.jsx(Bh,{shape:e,isSelected:t},e.id),Gh=e=>$h(e,!1),Vm=e=>{const{id:t,x:r,y:n,width:a,height:o}=e;return v.jsxs("g",{children:[v.jsx("rect",{x:r,y:n,width:a,height:o,fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"4 4",pointerEvents:"none"}),v.jsx("circle",{cx:r,cy:n,r:"12",fill:"transparent","data-handle":"resize-nw",style:{cursor:"nw-resize",pointerEvents:"all"}}),v.jsx("circle",{cx:r+a,cy:n,r:"12",fill:"transparent","data-handle":"resize-ne",style:{cursor:"ne-resize",pointerEvents:"all"}}),v.jsx("circle",{cx:r,cy:n+o,r:"12",fill:"transparent","data-handle":"resize-sw",style:{cursor:"sw-resize",pointerEvents:"all"}}),v.jsx("circle",{cx:r+a,cy:n+o,r:"12",fill:"transparent","data-handle":"resize-se",style:{cursor:"se-resize",pointerEvents:"all"}}),v.jsx("circle",{cx:r,cy:n,r:"6",fill:"white",stroke:"#3b82f6",strokeWidth:"2",pointerEvents:"none"}),v.jsx("circle",{cx:r+a,cy:n,r:"6",fill:"white",stroke:"#3b82f6",strokeWidth:"2",pointerEvents:"none"}),v.jsx("circle",{cx:r,cy:n+o,r:"6",fill:"white",stroke:"#3b82f6",strokeWidth:"2",pointerEvents:"none"}),v.jsx("circle",{cx:r+a,cy:n+o,r:"6",fill:"white",stroke:"#3b82f6",strokeWidth:"2",pointerEvents:"none"})]},`selection-${t}`)},$h=(e,t=!1)=>{const{id:r,type:n,x:a,y:o,width:i,height:l,rotation:s,corner:u}=e,c=a+i/2,d=o+l/2;let f=null;switch(n){case se.SQUARE:f=v.jsx("rect",{x:a,y:o,width:i,height:l,fill:"#171717"},r);break;case se.CIRCLE:f=v.jsx("ellipse",{cx:c,cy:d,rx:i/2,ry:l/2,fill:"#171717"},r);break;case se.TRIANGLE:f=v.jsx("path",{d:`M ${a} ${o}
              L ${a+i} ${o+l}
              L ${a} ${o+l}
              Z`,fill:"#171717",transform:`rotate(${s} ${c} ${d})`},r);break;case se.QUARTER_CIRCLE:{let h="";switch(u||K.TL){case K.TL:h=`M ${a} ${o} L ${a+i} ${o} A ${i} ${l} 0 0 1 ${a} ${o+l} Z`;break;case K.TR:h=`M ${a+i} ${o} L ${a} ${o} A ${i} ${l} 0 0 0 ${a+i} ${o+l} Z`;break;case K.BL:h=`M ${a} ${o+l} L ${a+i} ${o+l} A ${i} ${l} 0 0 0 ${a} ${o} Z`;break;case K.BR:h=`M ${a+i} ${o+l} L ${a} ${o+l} A ${i} ${l} 0 0 1 ${a+i} ${o} Z`;break}f=v.jsx("path",{d:h,fill:"#171717"},r);break}}return v.jsx(v.Fragment,{children:f})},Xm=Jr.memo(({font:e,currentGlyph:t,onSelectGlyph:r})=>{const n=_.useMemo(()=>Object.values(e.glyphs).sort((o,i)=>o.unicode-i.unicode),[e.glyphs]),a=o=>{const i=o.gridSize,s=i*4;return v.jsx("svg",{width:s,height:s,viewBox:`0 0 ${i*32} ${i*32}`,className:"mx-auto max-w-full max-h-full",children:o.shapes.map(u=>v.jsx(Jr.Fragment,{children:Gh(u)},u.id))})};return v.jsxs("div",{className:"w-full h-full bg-white border-r border-neutral-200 overflow-auto",children:[v.jsx("div",{className:"p-3 border-b border-neutral-200",children:v.jsx("h2",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wide",children:"Glyphs"})}),v.jsx("div",{className:"p-3",children:v.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))"},children:n.map(o=>v.jsxs("button",{onClick:()=>r(o.char),className:`aspect-square flex flex-col items-center justify-center p-2 rounded border-2 transition-all ${t===o.char?"bg-neutral-100 border-neutral-400":"bg-white border-neutral-200 hover:border-neutral-300 hover:bg-neutral-50"}`,children:[a(o),v.jsx("span",{className:`text-xs mt-1 ${t===o.char?"text-neutral-800 font-semibold":"text-neutral-600"}`,children:o.char===" "?"":o.char})]},o.char))})})]})}),Sf=(e,t)=>{if(!t)return{x:0,y:0};const r=t.createSVGPoint();r.x=e.clientX,r.y=e.clientY;const n=r.matrixTransform(t.getScreenCTM().inverse());return{x:n.x,y:n.y}},Ye=e=>Math.round(e/te)*te,Ym=()=>{const e=Date.now(),t=new Uint32Array(1);return crypto.getRandomValues(t),e*1e6+t[0]},Qm=(e,t,r,n,a,o=0,i=null)=>({id:Ym(),type:e,x:t,y:r,width:n,height:a,rotation:o,corner:i}),Km=e=>{const{type:t,x:r,y:n,width:a,height:o,rotation:i,corner:l}=e,s=r+a/2,u=n+o/2;switch(t){case se.SQUARE:return{element:"rect",attributes:{x:r,y:n,width:a,height:o,fill:"#000"}};case se.CIRCLE:return{element:"ellipse",attributes:{cx:s,cy:u,rx:a/2,ry:o/2,fill:"#000"}};case se.TRIANGLE:return{element:"path",attributes:{d:`M ${r} ${n} L ${r+a} ${n+o} L ${r} ${n+o} Z`,fill:"#000",transform:`rotate(${i} ${s} ${u})`}};case se.QUARTER_CIRCLE:{const c=a,d=o,f=l||K.TL;let h="";switch(f){case K.TL:h=`M ${r+a} ${n} A ${c} ${d} 0 0 1 ${r} ${n+o} L ${r} ${n} Z`;break;case K.TR:h=`M ${r} ${n} A ${c} ${d} 0 0 0 ${r+a} ${n+o} L ${r+a} ${n} Z`;break;case K.BL:h=`M ${r+a} ${n+o} A ${c} ${d} 0 0 0 ${r} ${n} L ${r} ${n+o} Z`;break;case K.BR:h=`M ${r} ${n+o} A ${c} ${d} 0 0 1 ${r+a} ${n} L ${r+a} ${n+o} Z`;break}return{element:"path",attributes:{d:h,fill:"#000"}}}default:return{element:"rect",attributes:{x:r,y:n,width:a,height:o,fill:"#000"}}}},qm=e=>{const{element:t,attributes:r}=e,n=Object.entries(r).map(([a,o])=>`${a}="${o}"`).join(" ");return`<${t} ${n}/>`},Jm=e=>{const t=Km(e);return qm(t)};/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var e=function(){try{var r={},n=Object.defineProperty,a=n(r,r,r)&&n}catch{}return a}(),t=function(r){if(this==null)throw TypeError();var n=String(this),a=n.length,o=r?Number(r):0;if(o!=o&&(o=0),!(o<0||o>=a)){var i=n.charCodeAt(o),l;return i>=55296&&i<=56319&&a>o+1&&(l=n.charCodeAt(o+1),l>=56320&&l<=57343)?(i-55296)*1024+l-56320+65536:i}};e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t}();var zu=0,Hh=-3;function Ma(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function ey(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new Ma,this.dtree=new Ma}var Zh=new Ma,Wh=new Ma,Au=new Uint8Array(30),Iu=new Uint16Array(30),Vh=new Uint8Array(30),Xh=new Uint16Array(30),ty=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wf=new Ma,Ht=new Uint8Array(320);function Yh(e,t,r,n){var a,o;for(a=0;a<r;++a)e[a]=0;for(a=0;a<30-r;++a)e[a+r]=a/r|0;for(o=n,a=0;a<30;++a)t[a]=o,o+=1<<e[a]}function ry(e,t){var r;for(r=0;r<7;++r)e.table[r]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,r=0;r<24;++r)e.trans[r]=256+r;for(r=0;r<144;++r)e.trans[24+r]=r;for(r=0;r<8;++r)e.trans[168+r]=280+r;for(r=0;r<112;++r)e.trans[176+r]=144+r;for(r=0;r<5;++r)t.table[r]=0;for(t.table[5]=32,r=0;r<32;++r)t.trans[r]=r}var bf=new Uint16Array(16);function Es(e,t,r,n){var a,o;for(a=0;a<16;++a)e.table[a]=0;for(a=0;a<n;++a)e.table[t[r+a]]++;for(e.table[0]=0,o=0,a=0;a<16;++a)bf[a]=o,o+=e.table[a];for(a=0;a<n;++a)t[r+a]&&(e.trans[bf[t[r+a]]++]=a)}function ny(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=e.tag&1;return e.tag>>>=1,t}function Vt(e,t,r){if(!t)return r;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,n+r}function Nl(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=0,n=0,a=0,o=e.tag;do n=2*n+(o&1),o>>>=1,++a,r+=t.table[a],n-=t.table[a];while(n>=0);return e.tag=o,e.bitcount-=a,t.trans[r+n]}function ay(e,t,r){var n,a,o,i,l,s;for(n=Vt(e,5,257),a=Vt(e,5,1),o=Vt(e,4,4),i=0;i<19;++i)Ht[i]=0;for(i=0;i<o;++i){var u=Vt(e,3,0);Ht[ty[i]]=u}for(Es(wf,Ht,0,19),l=0;l<n+a;){var c=Nl(e,wf);switch(c){case 16:var d=Ht[l-1];for(s=Vt(e,2,3);s;--s)Ht[l++]=d;break;case 17:for(s=Vt(e,3,3);s;--s)Ht[l++]=0;break;case 18:for(s=Vt(e,7,11);s;--s)Ht[l++]=0;break;default:Ht[l++]=c;break}}Es(t,Ht,0,n),Es(r,Ht,n,a)}function Tf(e,t,r){for(;;){var n=Nl(e,t);if(n===256)return zu;if(n<256)e.dest[e.destLen++]=n;else{var a,o,i,l;for(n-=257,a=Vt(e,Au[n],Iu[n]),o=Nl(e,r),i=e.destLen-Vt(e,Vh[o],Xh[o]),l=i;l<i+a;++l)e.dest[e.destLen++]=e.dest[l]}}}function oy(e){for(var t,r,n;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(t=e.source[e.sourceIndex+1],t=256*t+e.source[e.sourceIndex],r=e.source[e.sourceIndex+3],r=256*r+e.source[e.sourceIndex+2],t!==(~r&65535))return Hh;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,zu}function iy(e,t){var r=new ey(e,t),n,a,o;do{switch(n=ny(r),a=Vt(r,2,0),a){case 0:o=oy(r);break;case 1:o=Tf(r,Zh,Wh);break;case 2:ay(r,r.ltree,r.dtree),o=Tf(r,r.ltree,r.dtree);break;default:o=Hh}if(o!==zu)throw new Error("Data error")}while(!n);return r.destLen<r.dest.length?typeof r.dest.slice=="function"?r.dest.slice(0,r.destLen):r.dest.subarray(0,r.destLen):r.dest}ry(Zh,Wh);Yh(Au,Iu,4,3);Yh(Vh,Xh,2,1);Au[28]=0;Iu[28]=258;var sy=iy;function hn(e,t,r,n,a){return Math.pow(1-a,3)*e+3*Math.pow(1-a,2)*a*t+3*(1-a)*Math.pow(a,2)*r+Math.pow(a,3)*n}function fr(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}fr.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};fr.prototype.addPoint=function(e,t){typeof e=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof t=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))};fr.prototype.addX=function(e){this.addPoint(e,null)};fr.prototype.addY=function(e){this.addPoint(null,e)};fr.prototype.addBezier=function(e,t,r,n,a,o,i,l){var s=[e,t],u=[r,n],c=[a,o],d=[i,l];this.addPoint(e,t),this.addPoint(i,l);for(var f=0;f<=1;f++){var h=6*s[f]-12*u[f]+6*c[f],y=-3*s[f]+9*u[f]-9*c[f]+3*d[f],x=3*u[f]-3*s[f];if(y===0){if(h===0)continue;var k=-x/h;0<k&&k<1&&(f===0&&this.addX(hn(s[f],u[f],c[f],d[f],k)),f===1&&this.addY(hn(s[f],u[f],c[f],d[f],k)));continue}var p=Math.pow(h,2)-4*x*y;if(!(p<0)){var m=(-h+Math.sqrt(p))/(2*y);0<m&&m<1&&(f===0&&this.addX(hn(s[f],u[f],c[f],d[f],m)),f===1&&this.addY(hn(s[f],u[f],c[f],d[f],m)));var g=(-h-Math.sqrt(p))/(2*y);0<g&&g<1&&(f===0&&this.addX(hn(s[f],u[f],c[f],d[f],g)),f===1&&this.addY(hn(s[f],u[f],c[f],d[f],g)))}}};fr.prototype.addQuad=function(e,t,r,n,a,o){var i=e+.6666666666666666*(r-e),l=t+2/3*(n-t),s=i+1/3*(a-e),u=l+1/3*(o-t);this.addBezier(e,t,i,l,s,u,a,o)};function De(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}De.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})};De.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})};De.prototype.curveTo=De.prototype.bezierCurveTo=function(e,t,r,n,a,o){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:n,x:a,y:o})};De.prototype.quadTo=De.prototype.quadraticCurveTo=function(e,t,r,n){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:n})};De.prototype.close=De.prototype.closePath=function(){this.commands.push({type:"Z"})};De.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof fr){var t=e;this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),this.close();return}Array.prototype.push.apply(this.commands,e)};De.prototype.getBoundingBox=function(){for(var e=new fr,t=0,r=0,n=0,a=0,o=0;o<this.commands.length;o++){var i=this.commands[o];switch(i.type){case"M":e.addPoint(i.x,i.y),t=n=i.x,r=a=i.y;break;case"L":e.addPoint(i.x,i.y),n=i.x,a=i.y;break;case"Q":e.addQuad(n,a,i.x1,i.y1,i.x,i.y),n=i.x,a=i.y;break;case"C":e.addBezier(n,a,i.x1,i.y1,i.x2,i.y2,i.x,i.y),n=i.x,a=i.y;break;case"Z":n=t,a=r;break;default:throw new Error("Unexpected path command "+i.type)}}return e.isEmpty()&&e.addPoint(0,0),e};De.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];r.type==="M"?e.moveTo(r.x,r.y):r.type==="L"?e.lineTo(r.x,r.y):r.type==="C"?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):r.type==="Q"?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):r.type==="Z"&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())};De.prototype.toPathData=function(e){e=e!==void 0?e:2;function t(i){return Math.round(i)===i?""+Math.round(i):i.toFixed(e)}function r(){for(var i=arguments,l="",s=0;s<arguments.length;s+=1){var u=i[s];u>=0&&s>0&&(l+=" "),l+=t(u)}return l}for(var n="",a=0;a<this.commands.length;a+=1){var o=this.commands[a];o.type==="M"?n+="M"+r(o.x,o.y):o.type==="L"?n+="L"+r(o.x,o.y):o.type==="C"?n+="C"+r(o.x1,o.y1,o.x2,o.y2,o.x,o.y):o.type==="Q"?n+="Q"+r(o.x1,o.y1,o.x,o.y):o.type==="Z"&&(n+="Z")}return n};De.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&this.fill!=="black"&&(this.fill===null?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>",t};De.prototype.toDOMElement=function(e){var t=this.toPathData(e),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",t),r};function Qh(e){throw new Error(e)}function Ef(e,t){e||Qh(t)}var q={fail:Qh,argument:Ef,assert:Ef},Cf=32768,Ff=2147483648,Zn={},P={},J={};function jt(e){return function(){return e}}P.BYTE=function(e){return q.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]};J.BYTE=jt(1);P.CHAR=function(e){return[e.charCodeAt(0)]};J.CHAR=jt(1);P.CHARARRAY=function(e){typeof e>"u"&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var t=[],r=0;r<e.length;r+=1)t[r]=e.charCodeAt(r);return t};J.CHARARRAY=function(e){return typeof e>"u"?0:e.length};P.USHORT=function(e){return[e>>8&255,e&255]};J.USHORT=jt(2);P.SHORT=function(e){return e>=Cf&&(e=-(2*Cf-e)),[e>>8&255,e&255]};J.SHORT=jt(2);P.UINT24=function(e){return[e>>16&255,e>>8&255,e&255]};J.UINT24=jt(3);P.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]};J.ULONG=jt(4);P.LONG=function(e){return e>=Ff&&(e=-(2*Ff-e)),[e>>24&255,e>>16&255,e>>8&255,e&255]};J.LONG=jt(4);P.FIXED=P.ULONG;J.FIXED=J.ULONG;P.FWORD=P.SHORT;J.FWORD=J.SHORT;P.UFWORD=P.USHORT;J.UFWORD=J.USHORT;P.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,e&255]};J.LONGDATETIME=jt(8);P.TAG=function(e){return q.argument(e.length===4,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]};J.TAG=jt(4);P.Card8=P.BYTE;J.Card8=J.BYTE;P.Card16=P.USHORT;J.Card16=J.USHORT;P.OffSize=P.BYTE;J.OffSize=J.BYTE;P.SID=P.USHORT;J.SID=J.USHORT;P.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?(e=e-108,[(e>>8)+247,e&255]):e>=-1131&&e<=-108?(e=-e-108,[(e>>8)+251,e&255]):e>=-32768&&e<=32767?P.NUMBER16(e):P.NUMBER32(e)};J.NUMBER=function(e){return P.NUMBER(e).length};P.NUMBER16=function(e){return[28,e>>8&255,e&255]};J.NUMBER16=jt(3);P.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,e&255]};J.NUMBER32=jt(5);P.REAL=function(e){var t=e.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(r){var n=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));t=(Math.round(e*n)/n).toString()}for(var a="",o=0,i=t.length;o<i;o+=1){var l=t[o];l==="e"?a+=t[++o]==="-"?"c":"b":l==="."?a+="a":l==="-"?a+="e":a+=l}a+=a.length&1?"f":"ff";for(var s=[30],u=0,c=a.length;u<c;u+=2)s.push(parseInt(a.substr(u,2),16));return s};J.REAL=function(e){return P.REAL(e).length};P.NAME=P.CHARARRAY;J.NAME=J.CHARARRAY;P.STRING=P.CHARARRAY;J.STRING=J.CHARARRAY;Zn.UTF8=function(e,t,r){for(var n=[],a=r,o=0;o<a;o++,t+=1)n[o]=e.getUint8(t);return String.fromCharCode.apply(null,n)};Zn.UTF16=function(e,t,r){for(var n=[],a=r/2,o=0;o<a;o++,t+=2)n[o]=e.getUint16(t);return String.fromCharCode.apply(null,n)};P.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e.charCodeAt(r);t[t.length]=n>>8&255,t[t.length]=n&255}return t};J.UTF16=function(e){return e.length*2};var Ll={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};Zn.MACSTRING=function(e,t,r,n){var a=Ll[n];if(a!==void 0){for(var o="",i=0;i<r;i++){var l=e.getUint8(t+i);l<=127?o+=String.fromCharCode(l):o+=a[l&127]}return o}};var Eo=typeof WeakMap=="function"&&new WeakMap,Co,ly=function(e){if(!Co){Co={};for(var t in Ll)Co[t]=new String(t)}var r=Co[e];if(r!==void 0){if(Eo){var n=Eo.get(r);if(n!==void 0)return n}var a=Ll[e];if(a!==void 0){for(var o={},i=0;i<a.length;i++)o[a.charCodeAt(i)]=i+128;return Eo&&Eo.set(r,o),o}}};P.MACSTRING=function(e,t){var r=ly(t);if(r!==void 0){for(var n=[],a=0;a<e.length;a++){var o=e.charCodeAt(a);if(o>=128&&(o=r[o],o===void 0))return;n[a]=o}return n}};J.MACSTRING=function(e,t){var r=P.MACSTRING(e,t);return r!==void 0?r.length:0};function Ol(e){return e>=-128&&e<=127}function uy(e,t,r){for(var n=0,a=e.length;t<a&&n<64&&e[t]===0;)++t,++n;return r.push(128|n-1),t}function cy(e,t,r){for(var n=0,a=e.length,o=t;o<a&&n<64;){var i=e[o];if(!Ol(i)||i===0&&o+1<a&&e[o+1]===0)break;++o,++n}r.push(n-1);for(var l=t;l<o;++l)r.push(e[l]+256&255);return o}function fy(e,t,r){for(var n=0,a=e.length,o=t;o<a&&n<64;){var i=e[o];if(i===0||Ol(i)&&o+1<a&&Ol(e[o+1]))break;++o,++n}r.push(64|n-1);for(var l=t;l<o;++l){var s=e[l];r.push(s+65536>>8&255,s+256&255)}return o}P.VARDELTAS=function(e){for(var t=0,r=[];t<e.length;){var n=e[t];n===0?t=uy(e,t,r):n>=-128&&n<=127?t=cy(e,t,r):t=fy(e,t,r)}return r};P.INDEX=function(e){for(var t=1,r=[t],n=[],a=0;a<e.length;a+=1){var o=P.OBJECT(e[a]);Array.prototype.push.apply(n,o),t+=o.length,r.push(t)}if(n.length===0)return[0,0];for(var i=[],l=1+Math.floor(Math.log(t)/Math.log(2))/8|0,s=[void 0,P.BYTE,P.USHORT,P.UINT24,P.ULONG][l],u=0;u<r.length;u+=1){var c=s(r[u]);Array.prototype.push.apply(i,c)}return Array.prototype.concat(P.Card16(e.length),P.OffSize(l),i,n)};J.INDEX=function(e){return P.INDEX(e).length};P.DICT=function(e){for(var t=[],r=Object.keys(e),n=r.length,a=0;a<n;a+=1){var o=parseInt(r[a],0),i=e[o];t=t.concat(P.OPERAND(i.value,i.type)),t=t.concat(P.OPERATOR(o))}return t};J.DICT=function(e){return P.DICT(e).length};P.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]};P.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var n=0;n<t.length;n+=1)q.argument(e.length===t.length,"Not enough arguments given for type"+t),r=r.concat(P.OPERAND(e[n],t[n]));else if(t==="SID")r=r.concat(P.NUMBER(e));else if(t==="offset")r=r.concat(P.NUMBER32(e));else if(t==="number")r=r.concat(P.NUMBER(e));else if(t==="real")r=r.concat(P.REAL(e));else throw new Error("Unknown operand type "+t);return r};P.OP=P.BYTE;J.OP=J.BYTE;var Fo=typeof WeakMap=="function"&&new WeakMap;P.CHARSTRING=function(e){if(Fo){var t=Fo.get(e);if(t!==void 0)return t}for(var r=[],n=e.length,a=0;a<n;a+=1){var o=e[a];r=r.concat(P[o.type](o.value))}return Fo&&Fo.set(e,r),r};J.CHARSTRING=function(e){return P.CHARSTRING(e).length};P.OBJECT=function(e){var t=P[e.type];return q.argument(t!==void 0,"No encoding function for type "+e.type),t(e.value)};J.OBJECT=function(e){var t=J[e.type];return q.argument(t!==void 0,"No sizeOf function for type "+e.type),t(e.value)};P.TABLE=function(e){for(var t=[],r=e.fields.length,n=[],a=[],o=0;o<r;o+=1){var i=e.fields[o],l=P[i.type];q.argument(l!==void 0,"No encoding function for field type "+i.type+" ("+i.name+")");var s=e[i.name];s===void 0&&(s=i.value);var u=l(s);i.type==="TABLE"?(a.push(t.length),t=t.concat([0,0]),n.push(u)):t=t.concat(u)}for(var c=0;c<n.length;c+=1){var d=a[c],f=t.length;q.argument(f<65536,"Table "+e.tableName+" too big."),t[d]=f>>8,t[d+1]=f&255,t=t.concat(n[c])}return t};J.TABLE=function(e){for(var t=0,r=e.fields.length,n=0;n<r;n+=1){var a=e.fields[n],o=J[a.type];q.argument(o!==void 0,"No sizeOf function for field type "+a.type+" ("+a.name+")");var i=e[a.name];i===void 0&&(i=a.value),t+=o(i),a.type==="TABLE"&&(t+=2)}return t};P.RECORD=P.TABLE;J.RECORD=J.TABLE;P.LITERAL=function(e){return e};J.LITERAL=function(e){return e.length};function je(e,t,r){if(t.length&&(t[0].name!=="coverageFormat"||t[0].value===1))for(var n=0;n<t.length;n+=1){var a=t[n];this[a.name]=a.value}if(this.tableName=e,this.fields=t,r)for(var o=Object.keys(r),i=0;i<o.length;i+=1){var l=o[i],s=r[l];this[l]!==void 0&&(this[l]=s)}}je.prototype.encode=function(){return P.TABLE(this)};je.prototype.sizeOf=function(){return J.TABLE(this)};function Ba(e,t,r){r===void 0&&(r=t.length);var n=new Array(t.length+1);n[0]={name:e+"Count",type:"USHORT",value:r};for(var a=0;a<t.length;a++)n[a+1]={name:e+a,type:"USHORT",value:t[a]};return n}function Ul(e,t,r){var n=t.length,a=new Array(n+1);a[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)a[o+1]={name:e+o,type:"TABLE",value:r(t[o],o)};return a}function ja(e,t,r){var n=t.length,a=[];a[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)a=a.concat(r(t[o],o));return a}function yi(e){e.format===1?je.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Ba("glyph",e.glyphs))):e.format===2?je.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(ja("rangeRecord",e.ranges,function(t){return[{name:"startGlyphID",type:"USHORT",value:t.start},{name:"endGlyphID",type:"USHORT",value:t.end},{name:"startCoverageIndex",type:"USHORT",value:t.index}]}))):q.assert(!1,"Coverage format must be 1 or 2.")}yi.prototype=Object.create(je.prototype);yi.prototype.constructor=yi;function xi(e){je.call(this,"scriptListTable",ja("scriptRecord",e,function(t,r){var n=t.script,a=n.defaultLangSys;return q.assert(!!a,"Unable to write GSUB: script "+t.tag+" has no default language system."),[{name:"scriptTag"+r,type:"TAG",value:t.tag},{name:"script"+r,type:"TABLE",value:new je("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new je("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(Ba("featureIndex",a.featureIndexes)))}].concat(ja("langSys",n.langSysRecords,function(o,i){var l=o.langSys;return[{name:"langSysTag"+i,type:"TAG",value:o.tag},{name:"langSys"+i,type:"TABLE",value:new je("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:l.reqFeatureIndex}].concat(Ba("featureIndex",l.featureIndexes)))}]})))}]}))}xi.prototype=Object.create(je.prototype);xi.prototype.constructor=xi;function ki(e){je.call(this,"featureListTable",ja("featureRecord",e,function(t,r){var n=t.feature;return[{name:"featureTag"+r,type:"TAG",value:t.tag},{name:"feature"+r,type:"TABLE",value:new je("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(Ba("lookupListIndex",n.lookupListIndexes)))}]}))}ki.prototype=Object.create(je.prototype);ki.prototype.constructor=ki;function Si(e,t){je.call(this,"lookupListTable",Ul("lookup",e,function(r){var n=t[r.lookupType];return q.assert(!!n,"Unable to write GSUB lookup type "+r.lookupType+" tables."),new je("lookupTable",[{name:"lookupType",type:"USHORT",value:r.lookupType},{name:"lookupFlag",type:"USHORT",value:r.lookupFlag}].concat(Ul("subtable",r.subtables,n)))}))}Si.prototype=Object.create(je.prototype);Si.prototype.constructor=Si;var I={Table:je,Record:je,Coverage:yi,ScriptList:xi,FeatureList:ki,LookupList:Si,ushortList:Ba,tableList:Ul,recordList:ja};function Rf(e,t){return e.getUint8(t)}function wi(e,t){return e.getUint16(t,!1)}function dy(e,t){return e.getInt16(t,!1)}function Mu(e,t){return e.getUint32(t,!1)}function Kh(e,t){var r=e.getInt16(t,!1),n=e.getUint16(t+2,!1);return r+n/65535}function py(e,t){for(var r="",n=t;n<t+4;n+=1)r+=String.fromCharCode(e.getInt8(n));return r}function hy(e,t,r){for(var n=0,a=0;a<r;a+=1)n<<=8,n+=e.getUint8(t+a);return n}function vy(e,t,r){for(var n=[],a=t;a<r;a+=1)n.push(e.getUint8(a));return n}function gy(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t}var my={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function b(e,t){this.data=e,this.offset=t,this.relativeOffset=0}b.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};b.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};b.prototype.parseCard8=b.prototype.parseByte;b.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};b.prototype.parseCard16=b.prototype.parseUShort;b.prototype.parseSID=b.prototype.parseUShort;b.prototype.parseOffset16=b.prototype.parseUShort;b.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};b.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e};b.prototype.parseULong=function(){var e=Mu(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};b.prototype.parseOffset32=b.prototype.parseULong;b.prototype.parseFixed=function(){var e=Kh(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};b.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var a=0;a<e;a++)n+=String.fromCharCode(t.getUint8(r+a));return n};b.prototype.parseTag=function(){return this.parseString(4)};b.prototype.parseLongDateTime=function(){var e=Mu(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e};b.prototype.parseVersion=function(e){var t=wi(this.data,this.offset+this.relativeOffset),r=wi(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,e===void 0&&(e=4096),t+r/e/10};b.prototype.skip=function(e,t){t===void 0&&(t=1),this.relativeOffset+=my[e]*t};b.prototype.parseULongList=function(e){e===void 0&&(e=this.parseULong());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=r.getUint32(n),n+=4;return this.relativeOffset+=e*4,t};b.prototype.parseOffset16List=b.prototype.parseUShortList=function(e){e===void 0&&(e=this.parseUShort());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=r.getUint16(n),n+=2;return this.relativeOffset+=e*2,t};b.prototype.parseShortList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=r.getInt16(n),n+=2;return this.relativeOffset+=e*2,t};b.prototype.parseByteList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=r.getUint8(n++);return this.relativeOffset+=e,t};b.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r};b.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r};b.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=Object.keys(t),a=0;a<e;a++){for(var o={},i=0;i<n.length;i++){var l=n[i],s=t[l];o[l]=s.call(this)}r[a]=o}return r};b.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=Object.keys(t),a=0;a<e;a++){for(var o={},i=0;i<n.length;i++){var l=n[i],s=t[l];o[l]=s.call(this)}r[a]=o}return r};b.prototype.parseStruct=function(e){if(typeof e=="function")return e.call(this);for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var a=t[n],o=e[a];r[a]=o.call(this)}return r};b.prototype.parseValueRecord=function(e){if(e===void 0&&(e=this.parseUShort()),e!==0){var t={};return e&1&&(t.xPlacement=this.parseShort()),e&2&&(t.yPlacement=this.parseShort()),e&4&&(t.xAdvance=this.parseShort()),e&8&&(t.yAdvance=this.parseShort()),e&16&&(t.xPlaDevice=void 0,this.parseShort()),e&32&&(t.yPlaDevice=void 0,this.parseShort()),e&64&&(t.xAdvDevice=void 0,this.parseShort()),e&128&&(t.yAdvDevice=void 0,this.parseShort()),t}};b.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),r=new Array(t),n=0;n<t;n++)r[n]=this.parseValueRecord(e);return r};b.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new b(this.data,this.offset+t).parseStruct(e)};b.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new b(this.data,this.offset+t).parseStruct(e)};b.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),r=t.length,n=this.relativeOffset,a=new Array(r),o=0;o<r;o++){var i=t[o];if(i===0){a[o]=void 0;continue}if(this.relativeOffset=i,e){for(var l=this.parseOffset16List(),s=new Array(l.length),u=0;u<l.length;u++)this.relativeOffset=i+l[u],s[u]=e.call(this);a[o]=s}else a[o]=this.parseUShortList()}return this.relativeOffset=n,a};b.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),r=this.parseUShort();if(t===1)return{format:1,glyphs:this.parseUShortList(r)};if(t===2){for(var n=new Array(r),a=0;a<r;a++)n[a]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:n}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")};b.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(t===2)return{format:2,ranges:this.parseRecordList({start:b.uShort,end:b.uShort,classId:b.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")};b.list=function(e,t){return function(){return this.parseList(e,t)}};b.list32=function(e,t){return function(){return this.parseList32(e,t)}};b.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}};b.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}};b.pointer=function(e){return function(){return this.parsePointer(e)}};b.pointer32=function(e){return function(){return this.parsePointer32(e)}};b.tag=b.prototype.parseTag;b.byte=b.prototype.parseByte;b.uShort=b.offset16=b.prototype.parseUShort;b.uShortList=b.prototype.parseUShortList;b.uLong=b.offset32=b.prototype.parseULong;b.uLongList=b.prototype.parseULongList;b.struct=b.prototype.parseStruct;b.coverage=b.prototype.parseCoverage;b.classDef=b.prototype.parseClassDef;var _f={reserved:b.uShort,reqFeatureIndex:b.uShort,featureIndexes:b.uShortList};b.prototype.parseScriptList=function(){return this.parsePointer(b.recordList({tag:b.tag,script:b.pointer({defaultLangSys:b.pointer(_f),langSysRecords:b.recordList({tag:b.tag,langSys:b.pointer(_f)})})}))||[]};b.prototype.parseFeatureList=function(){return this.parsePointer(b.recordList({tag:b.tag,feature:b.pointer({featureParams:b.offset16,lookupListIndexes:b.uShortList})}))||[]};b.prototype.parseLookupList=function(e){return this.parsePointer(b.list(b.pointer(function(){var t=this.parseUShort();q.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var r=this.parseUShort(),n=r&16;return{lookupType:t,lookupFlag:r,subtables:this.parseList(b.pointer(e[t])),markFilteringSet:n?this.parseUShort():void 0}})))||[]};b.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),t=this.parseUShort();q.argument(e===1&&t<1,"GPOS/GSUB feature variations table unknown.");var r=this.parseRecordList32({conditionSetOffset:b.offset32,featureTableSubstitutionOffset:b.offset32});return r})||[]};var $={getByte:Rf,getCard8:Rf,getUShort:wi,getCard16:wi,getShort:dy,getULong:Mu,getFixed:Kh,getTag:py,getOffset:hy,getBytes:vy,bytesToString:gy,Parser:b};function yy(e,t){t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong();var r;e.groupCount=r=t.parseULong(),e.glyphIndexMap={};for(var n=0;n<r;n+=1)for(var a=t.parseULong(),o=t.parseULong(),i=t.parseULong(),l=a;l<=o;l+=1)e.glyphIndexMap[l]=i,i++}function xy(e,t,r,n,a){e.length=t.parseUShort(),e.language=t.parseUShort();var o;e.segCount=o=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var i=new $.Parser(r,n+a+14),l=new $.Parser(r,n+a+16+o*2),s=new $.Parser(r,n+a+16+o*4),u=new $.Parser(r,n+a+16+o*6),c=n+a+16+o*8,d=0;d<o-1;d+=1)for(var f=void 0,h=i.parseUShort(),y=l.parseUShort(),x=s.parseShort(),k=u.parseUShort(),p=y;p<=h;p+=1)k!==0?(c=u.offset+u.relativeOffset-2,c+=k,c+=(p-y)*2,f=$.getUShort(r,c),f!==0&&(f=f+x&65535)):f=p+x&65535,e.glyphIndexMap[p]=f}function ky(e,t){var r={};r.version=$.getUShort(e,t),q.argument(r.version===0,"cmap table version should be 0."),r.numTables=$.getUShort(e,t+2);for(var n=-1,a=r.numTables-1;a>=0;a-=1){var o=$.getUShort(e,t+4+a*8),i=$.getUShort(e,t+4+a*8+2);if(o===3&&(i===0||i===1||i===10)||o===0&&(i===0||i===1||i===2||i===3||i===4)){n=$.getULong(e,t+4+a*8+4);break}}if(n===-1)throw new Error("No valid cmap sub-tables found.");var l=new $.Parser(e,t+n);if(r.format=l.parseUShort(),r.format===12)yy(r,l);else if(r.format===4)xy(r,l,e,t,n);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+r.format+").");return r}function Sy(e,t,r){e.segments.push({end:t,start:t,delta:-(t-r),offset:0,glyphIndex:r})}function wy(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function by(e){var t=!0,r;for(r=e.length-1;r>0;r-=1){var n=e.get(r);if(n.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),t=!1;break}}var a=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:t?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:t?12:20}];t||(a=a.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),a=a.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var o=new I.Table("cmap",a);for(o.segments=[],r=0;r<e.length;r+=1){for(var i=e.get(r),l=0;l<i.unicodes.length;l+=1)Sy(o,i.unicodes[l],r);o.segments=o.segments.sort(function(m,g){return m.start-g.start})}wy(o);var s=o.segments.length,u=0,c=[],d=[],f=[],h=[],y=[],x=[];for(r=0;r<s;r+=1){var k=o.segments[r];k.end<=65535&&k.start<=65535?(c=c.concat({name:"end_"+r,type:"USHORT",value:k.end}),d=d.concat({name:"start_"+r,type:"USHORT",value:k.start}),f=f.concat({name:"idDelta_"+r,type:"SHORT",value:k.delta}),h=h.concat({name:"idRangeOffset_"+r,type:"USHORT",value:k.offset}),k.glyphId!==void 0&&(y=y.concat({name:"glyph_"+r,type:"USHORT",value:k.glyphId}))):u+=1,!t&&k.glyphIndex!==void 0&&(x=x.concat({name:"cmap12Start_"+r,type:"ULONG",value:k.start}),x=x.concat({name:"cmap12End_"+r,type:"ULONG",value:k.end}),x=x.concat({name:"cmap12Glyph_"+r,type:"ULONG",value:k.glyphIndex}))}if(o.segCountX2=(s-u)*2,o.searchRange=Math.pow(2,Math.floor(Math.log(s-u)/Math.log(2)))*2,o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(c),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(d),o.fields=o.fields.concat(f),o.fields=o.fields.concat(h),o.fields=o.fields.concat(y),o.cmap4Length=14+c.length*2+2+d.length*2+f.length*2+h.length*2+y.length*2,!t){var p=16+x.length*4;o.cmap12Offset=12+2*2+4+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:p},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:x.length/3}]),o.fields=o.fields.concat(x)}return o}var qh={parse:ky,make:by},Wo=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Ty=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Ey=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Wr=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Jh(e){this.font=e}Jh.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.font.glyphs;if(r){for(var n=0;n<r.length;n+=1)for(var a=r.get(n),o=0;o<a.unicodes.length;o+=1)if(a.unicodes[o]===t)return n}return null};function ev(e){this.cmap=e}ev.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0};function bi(e,t){this.encoding=e,this.charset=t}bi.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.encoding[t];return this.charset.indexOf(r)};function Bu(e){switch(e.version){case 1:this.names=Wr.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<Wr.length?this.names[t]=Wr[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-Wr.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var r=0;r<e.numberOfGlyphs;r++)this.names[r]=Wr[r+e.glyphNameIndex[r]];break;case 3:this.names=[];break;default:this.names=[];break}}Bu.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)};Bu.prototype.glyphIndexToName=function(e){return this.names[e]};function Cy(e){for(var t,r=e.tables.cmap.glyphIndexMap,n=Object.keys(r),a=0;a<n.length;a+=1){var o=n[a],i=r[o];t=e.glyphs.get(i),t.addUnicode(parseInt(o))}for(var l=0;l<e.glyphs.length;l+=1)t=e.glyphs.get(l),e.cffEncoding?e.isCIDFont?t.name="gid"+l:t.name=e.cffEncoding.charset[l]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(l))}function Fy(e){e._IndexToUnicodeMap={};for(var t=e.tables.cmap.glyphIndexMap,r=Object.keys(t),n=0;n<r.length;n+=1){var a=r[n],o=t[a];e._IndexToUnicodeMap[o]===void 0?e._IndexToUnicodeMap[o]={unicodes:[parseInt(a)]}:e._IndexToUnicodeMap[o].unicodes.push(parseInt(a))}}function Ry(e,t){t.lowMemory?Fy(e):Cy(e)}function _y(e,t,r,n,a){e.beginPath(),e.moveTo(t,r),e.lineTo(n,a),e.stroke()}var $r={line:_y};function Ny(e,t){var r=t||new De;return{configurable:!0,get:function(){return typeof r=="function"&&(r=r()),r},set:function(n){r=n}}}function kt(e){this.bindConstructorValues(e)}kt.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||e.unicode!==void 0?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",Ny(this,e.path))};kt.prototype.addUnicode=function(e){this.unicodes.length===0&&(this.unicode=e),this.unicodes.push(e)};kt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};kt.prototype.getPath=function(e,t,r,n,a){e=e!==void 0?e:0,t=t!==void 0?t:0,r=r!==void 0?r:72;var o,i;n||(n={});var l=n.xScale,s=n.yScale;if(n.hinting&&a&&a.hinting&&(i=this.path&&a.hinting.exec(this,r)),i)o=a.hinting.getCommands(i),e=Math.round(e),t=Math.round(t),l=s=1;else{o=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*r;l===void 0&&(l=u),s===void 0&&(s=u)}for(var c=new De,d=0;d<o.length;d+=1){var f=o[d];f.type==="M"?c.moveTo(e+f.x*l,t+-f.y*s):f.type==="L"?c.lineTo(e+f.x*l,t+-f.y*s):f.type==="Q"?c.quadraticCurveTo(e+f.x1*l,t+-f.y1*s,e+f.x*l,t+-f.y*s):f.type==="C"?c.curveTo(e+f.x1*l,t+-f.y1*s,e+f.x2*l,t+-f.y2*s,e+f.x*l,t+-f.y*s):f.type==="Z"&&c.closePath()}return c};kt.prototype.getContours=function(){if(this.points===void 0)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var n=this.points[r];t.push(n),n.lastPointOfContour&&(e.push(t),t=[])}return q.argument(t.length===0,"There are still points left in the current contour."),e};kt.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],n=0;n<e.length;n+=1){var a=e[n];a.type!=="Z"&&(t.push(a.x),r.push(a.y)),(a.type==="Q"||a.type==="C")&&(t.push(a.x1),r.push(a.y1)),a.type==="C"&&(t.push(a.x2),r.push(a.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o};kt.prototype.draw=function(e,t,r,n,a){this.getPath(t,r,n,a).draw(e)};kt.prototype.drawPoints=function(e,t,r,n){function a(d,f,h,y){e.beginPath();for(var x=0;x<d.length;x+=1)e.moveTo(f+d[x].x*y,h+d[x].y*y),e.arc(f+d[x].x*y,h+d[x].y*y,2,0,Math.PI*2,!1);e.closePath(),e.fill()}t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:24;for(var o=1/this.path.unitsPerEm*n,i=[],l=[],s=this.path,u=0;u<s.commands.length;u+=1){var c=s.commands[u];c.x!==void 0&&i.push({x:c.x,y:-c.y}),c.x1!==void 0&&l.push({x:c.x1,y:-c.y1}),c.x2!==void 0&&l.push({x:c.x2,y:-c.y2})}e.fillStyle="blue",a(i,t,r,o),e.fillStyle="red",a(l,t,r,o)};kt.prototype.drawMetrics=function(e,t,r,n){var a;t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:24,a=1/this.path.unitsPerEm*n,e.lineWidth=1,e.strokeStyle="black",$r.line(e,t,-1e4,t,1e4),$r.line(e,-1e4,r,1e4,r);var o=this.xMin||0,i=this.yMin||0,l=this.xMax||0,s=this.yMax||0,u=this.advanceWidth||0;e.strokeStyle="blue",$r.line(e,t+o*a,-1e4,t+o*a,1e4),$r.line(e,t+l*a,-1e4,t+l*a,1e4),$r.line(e,-1e4,r+-i*a,1e4,r+-i*a),$r.line(e,-1e4,r+-s*a,1e4,r+-s*a),e.strokeStyle="green",$r.line(e,t+u*a,-1e4,t+u*a,1e4)};function Ro(e,t,r){Object.defineProperty(e,t,{get:function(){return e.path,e[r]},set:function(n){e[r]=n},enumerable:!0,configurable:!0})}function ju(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++){var n=t[r];n.path.unitsPerEm=e.unitsPerEm,this.glyphs[r]=n}this.length=t&&t.length||0}ju.prototype.get=function(e){if(this.glyphs[e]===void 0){this.font._push(e),typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],r=this.font._IndexToUnicodeMap[e];if(r)for(var n=0;n<r.unicodes.length;n++)t.addUnicode(r.unicodes[n]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]};ju.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};function Ly(e,t){return new kt({index:t,font:e})}function Oy(e,t,r,n,a,o){return function(){var i=new kt({index:t,font:e});return i.path=function(){r(i,n,a);var l=o(e.glyphs,i);return l.unitsPerEm=e.unitsPerEm,l},Ro(i,"xMin","_xMin"),Ro(i,"xMax","_xMax"),Ro(i,"yMin","_yMin"),Ro(i,"yMax","_yMax"),i}}function Uy(e,t,r,n){return function(){var a=new kt({index:t,font:e});return a.path=function(){var o=r(e,a,n);return o.unitsPerEm=e.unitsPerEm,o},a}}var qt={GlyphSet:ju,glyphLoader:Ly,ttfGlyphLoader:Oy,cffGlyphLoader:Uy};function tv(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!tv(e[r],t[r]))return!1;return!0}else return!1}function Dl(e){var t;return e.length<1240?t=107:e.length<33900?t=1131:t=32768,t}function vr(e,t,r){var n=[],a=[],o=$.getCard16(e,t),i,l;if(o!==0){var s=$.getByte(e,t+2);i=t+(o+1)*s+2;for(var u=t+3,c=0;c<o+1;c+=1)n.push($.getOffset(e,u,s)),u+=s;l=i+n[o]}else l=t+2;for(var d=0;d<n.length-1;d+=1){var f=$.getBytes(e,i+n[d],i+n[d+1]);r&&(f=r(f)),a.push(f)}return{objects:a,startOffset:t,endOffset:l}}function Dy(e,t){var r=[],n=$.getCard16(e,t),a,o;if(n!==0){var i=$.getByte(e,t+2);a=t+(n+1)*i+2;for(var l=t+3,s=0;s<n+1;s+=1)r.push($.getOffset(e,l,i)),l+=i;o=a+r[n]}else o=t+2;return{offsets:r,startOffset:t,endOffset:o}}function Py(e,t,r,n,a){var o=$.getCard16(r,n),i=0;if(o!==0){var l=$.getByte(r,n+2);i=n+(o+1)*l+2}var s=$.getBytes(r,i+t[e],i+t[e+1]);return s}function zy(e){for(var t="",r=15,n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var a=e.parseByte(),o=a>>4,i=a&15;if(o===r||(t+=n[o],i===r))break;t+=n[i]}return parseFloat(t)}function Ay(e,t){var r,n,a,o;if(t===28)return r=e.parseByte(),n=e.parseByte(),r<<8|n;if(t===29)return r=e.parseByte(),n=e.parseByte(),a=e.parseByte(),o=e.parseByte(),r<<24|n<<16|a<<8|o;if(t===30)return zy(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return r=e.parseByte(),(t-247)*256+r+108;if(t>=251&&t<=254)return r=e.parseByte(),-(t-251)*256-r-108;throw new Error("Invalid b0 "+t)}function Iy(e){for(var t={},r=0;r<e.length;r+=1){var n=e[r][0],a=e[r][1],o=void 0;if(a.length===1?o=a[0]:o=a,t.hasOwnProperty(n)&&!isNaN(t[n]))throw new Error("Object "+t+" already has key "+n);t[n]=o}return t}function rv(e,t,r){t=t!==void 0?t:0;var n=new $.Parser(e,t),a=[],o=[];for(r=r!==void 0?r:e.length;n.relativeOffset<r;){var i=n.parseByte();i<=21?(i===12&&(i=1200+n.parseByte()),a.push([i,o]),o=[]):o.push(Ay(n,i))}return Iy(a)}function Sa(e,t){return t<=390?t=Wo[t]:t=e[t-391],t}function nv(e,t,r){for(var n={},a,o=0;o<t.length;o+=1){var i=t[o];if(Array.isArray(i.type)){var l=[];l.length=i.type.length;for(var s=0;s<i.type.length;s++)a=e[i.op]!==void 0?e[i.op][s]:void 0,a===void 0&&(a=i.value!==void 0&&i.value[s]!==void 0?i.value[s]:null),i.type[s]==="SID"&&(a=Sa(r,a)),l[s]=a;n[i.name]=l}else a=e[i.op],a===void 0&&(a=i.value!==void 0?i.value:null),i.type==="SID"&&(a=Sa(r,a)),n[i.name]=a}return n}function My(e,t){var r={};return r.formatMajor=$.getCard8(e,t),r.formatMinor=$.getCard8(e,t+1),r.size=$.getCard8(e,t+2),r.offsetSize=$.getCard8(e,t+3),r.startOffset=t,r.endOffset=t+4,r}var av=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],ov=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function By(e,t){var r=rv(e,0,e.byteLength);return nv(r,av,t)}function iv(e,t,r,n){var a=rv(e,t,r);return nv(a,ov,n)}function Nf(e,t,r,n){for(var a=[],o=0;o<r.length;o+=1){var i=new DataView(new Uint8Array(r[o]).buffer),l=By(i,n);l._subrs=[],l._subrsBias=0,l._defaultWidthX=0,l._nominalWidthX=0;var s=l.private[0],u=l.private[1];if(s!==0&&u!==0){var c=iv(e,u+t,s,n);if(l._defaultWidthX=c.defaultWidthX,l._nominalWidthX=c.nominalWidthX,c.subrs!==0){var d=u+c.subrs,f=vr(e,d+t);l._subrs=f.objects,l._subrsBias=Dl(l._subrs)}l._privateDict=c}a.push(l)}return a}function jy(e,t,r,n){var a,o,i=new $.Parser(e,t);r-=1;var l=[".notdef"],s=i.parseCard8();if(s===0)for(var u=0;u<r;u+=1)a=i.parseSID(),l.push(Sa(n,a));else if(s===1)for(;l.length<=r;){a=i.parseSID(),o=i.parseCard8();for(var c=0;c<=o;c+=1)l.push(Sa(n,a)),a+=1}else if(s===2)for(;l.length<=r;){a=i.parseSID(),o=i.parseCard16();for(var d=0;d<=o;d+=1)l.push(Sa(n,a)),a+=1}else throw new Error("Unknown charset format "+s);return l}function Gy(e,t,r){var n,a={},o=new $.Parser(e,t),i=o.parseCard8();if(i===0)for(var l=o.parseCard8(),s=0;s<l;s+=1)n=o.parseCard8(),a[n]=s;else if(i===1){var u=o.parseCard8();n=1;for(var c=0;c<u;c+=1)for(var d=o.parseCard8(),f=o.parseCard8(),h=d;h<=d+f;h+=1)a[h]=n,n+=1}else throw new Error("Unknown encoding format "+i);return new bi(a,r)}function Lf(e,t,r){var n,a,o,i,l=new De,s=[],u=0,c=!1,d=!1,f=0,h=0,y,x,k,p;if(e.isCIDFont){var m=e.tables.cff.topDict._fdSelect[t.index],g=e.tables.cff.topDict._fdArray[m];y=g._subrs,x=g._subrsBias,k=g._defaultWidthX,p=g._nominalWidthX}else y=e.tables.cff.topDict._subrs,x=e.tables.cff.topDict._subrsBias,k=e.tables.cff.topDict._defaultWidthX,p=e.tables.cff.topDict._nominalWidthX;var S=k;function E(T,z){d&&l.closePath(),l.moveTo(T,z),d=!0}function N(){var T;T=s.length%2!==0,T&&!c&&(S=s.shift()+p),u+=s.length>>1,s.length=0,c=!0}function w(T){for(var z,R,D,A,j,V,Q,ee,H,O,M,Z,X=0;X<T.length;){var re=T[X];switch(X+=1,re){case 1:N();break;case 3:N();break;case 4:s.length>1&&!c&&(S=s.shift()+p,c=!0),h+=s.pop(),E(f,h);break;case 5:for(;s.length>0;)f+=s.shift(),h+=s.shift(),l.lineTo(f,h);break;case 6:for(;s.length>0&&(f+=s.shift(),l.lineTo(f,h),s.length!==0);)h+=s.shift(),l.lineTo(f,h);break;case 7:for(;s.length>0&&(h+=s.shift(),l.lineTo(f,h),s.length!==0);)f+=s.shift(),l.lineTo(f,h);break;case 8:for(;s.length>0;)n=f+s.shift(),a=h+s.shift(),o=n+s.shift(),i=a+s.shift(),f=o+s.shift(),h=i+s.shift(),l.curveTo(n,a,o,i,f,h);break;case 10:j=s.pop()+x,V=y[j],V&&w(V);break;case 11:return;case 12:switch(re=T[X],X+=1,re){case 35:n=f+s.shift(),a=h+s.shift(),o=n+s.shift(),i=a+s.shift(),Q=o+s.shift(),ee=i+s.shift(),H=Q+s.shift(),O=ee+s.shift(),M=H+s.shift(),Z=O+s.shift(),f=M+s.shift(),h=Z+s.shift(),s.shift(),l.curveTo(n,a,o,i,Q,ee),l.curveTo(H,O,M,Z,f,h);break;case 34:n=f+s.shift(),a=h,o=n+s.shift(),i=a+s.shift(),Q=o+s.shift(),ee=i,H=Q+s.shift(),O=i,M=H+s.shift(),Z=h,f=M+s.shift(),l.curveTo(n,a,o,i,Q,ee),l.curveTo(H,O,M,Z,f,h);break;case 36:n=f+s.shift(),a=h+s.shift(),o=n+s.shift(),i=a+s.shift(),Q=o+s.shift(),ee=i,H=Q+s.shift(),O=i,M=H+s.shift(),Z=O+s.shift(),f=M+s.shift(),l.curveTo(n,a,o,i,Q,ee),l.curveTo(H,O,M,Z,f,h);break;case 37:n=f+s.shift(),a=h+s.shift(),o=n+s.shift(),i=a+s.shift(),Q=o+s.shift(),ee=i+s.shift(),H=Q+s.shift(),O=ee+s.shift(),M=H+s.shift(),Z=O+s.shift(),Math.abs(M-f)>Math.abs(Z-h)?f=M+s.shift():h=Z+s.shift(),l.curveTo(n,a,o,i,Q,ee),l.curveTo(H,O,M,Z,f,h);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+re),s.length=0}break;case 14:s.length>0&&!c&&(S=s.shift()+p,c=!0),d&&(l.closePath(),d=!1);break;case 18:N();break;case 19:case 20:N(),X+=u+7>>3;break;case 21:s.length>2&&!c&&(S=s.shift()+p,c=!0),h+=s.pop(),f+=s.pop(),E(f,h);break;case 22:s.length>1&&!c&&(S=s.shift()+p,c=!0),f+=s.pop(),E(f,h);break;case 23:N();break;case 24:for(;s.length>2;)n=f+s.shift(),a=h+s.shift(),o=n+s.shift(),i=a+s.shift(),f=o+s.shift(),h=i+s.shift(),l.curveTo(n,a,o,i,f,h);f+=s.shift(),h+=s.shift(),l.lineTo(f,h);break;case 25:for(;s.length>6;)f+=s.shift(),h+=s.shift(),l.lineTo(f,h);n=f+s.shift(),a=h+s.shift(),o=n+s.shift(),i=a+s.shift(),f=o+s.shift(),h=i+s.shift(),l.curveTo(n,a,o,i,f,h);break;case 26:for(s.length%2&&(f+=s.shift());s.length>0;)n=f,a=h+s.shift(),o=n+s.shift(),i=a+s.shift(),f=o,h=i+s.shift(),l.curveTo(n,a,o,i,f,h);break;case 27:for(s.length%2&&(h+=s.shift());s.length>0;)n=f+s.shift(),a=h,o=n+s.shift(),i=a+s.shift(),f=o+s.shift(),h=i,l.curveTo(n,a,o,i,f,h);break;case 28:z=T[X],R=T[X+1],s.push((z<<24|R<<16)>>16),X+=2;break;case 29:j=s.pop()+e.gsubrsBias,V=e.gsubrs[j],V&&w(V);break;case 30:for(;s.length>0&&(n=f,a=h+s.shift(),o=n+s.shift(),i=a+s.shift(),f=o+s.shift(),h=i+(s.length===1?s.shift():0),l.curveTo(n,a,o,i,f,h),s.length!==0);)n=f+s.shift(),a=h,o=n+s.shift(),i=a+s.shift(),h=i+s.shift(),f=o+(s.length===1?s.shift():0),l.curveTo(n,a,o,i,f,h);break;case 31:for(;s.length>0&&(n=f+s.shift(),a=h,o=n+s.shift(),i=a+s.shift(),h=i+s.shift(),f=o+(s.length===1?s.shift():0),l.curveTo(n,a,o,i,f,h),s.length!==0);)n=f,a=h+s.shift(),o=n+s.shift(),i=a+s.shift(),f=o+s.shift(),h=i+(s.length===1?s.shift():0),l.curveTo(n,a,o,i,f,h);break;default:re<32?console.log("Glyph "+t.index+": unknown operator "+re):re<247?s.push(re-139):re<251?(z=T[X],X+=1,s.push((re-247)*256+z+108)):re<255?(z=T[X],X+=1,s.push(-(re-251)*256-z-108)):(z=T[X],R=T[X+1],D=T[X+2],A=T[X+3],X+=4,s.push((z<<24|R<<16|D<<8|A)/65536))}}}return w(r),t.advanceWidth=S,l}function $y(e,t,r,n){var a=[],o,i=new $.Parser(e,t),l=i.parseCard8();if(l===0)for(var s=0;s<r;s++){if(o=i.parseCard8(),o>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+n+")");a.push(o)}else if(l===3){var u=i.parseCard16(),c=i.parseCard16();if(c!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var d,f=0;f<u;f++){if(o=i.parseCard8(),d=i.parseCard16(),o>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+n+")");if(d>r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+d);for(;c<d;c++)a.push(o);c=d}if(d!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+d)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+l);return a}function Hy(e,t,r,n){r.tables.cff={};var a=My(e,t),o=vr(e,a.endOffset,$.bytesToString),i=vr(e,o.endOffset),l=vr(e,i.endOffset,$.bytesToString),s=vr(e,l.endOffset);r.gsubrs=s.objects,r.gsubrsBias=Dl(r.gsubrs);var u=Nf(e,t,i.objects,l.objects);if(u.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var c=u[0];if(r.tables.cff.topDict=c,c._privateDict&&(r.defaultWidthX=c._privateDict.defaultWidthX,r.nominalWidthX=c._privateDict.nominalWidthX),c.ros[0]!==void 0&&c.ros[1]!==void 0&&(r.isCIDFont=!0),r.isCIDFont){var d=c.fdArray,f=c.fdSelect;if(d===0||f===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");d+=t;var h=vr(e,d),y=Nf(e,t,h.objects,l.objects);c._fdArray=y,f+=t,c._fdSelect=$y(e,f,r.numGlyphs,y.length)}var x=t+c.private[1],k=iv(e,x,c.private[0],l.objects);if(r.defaultWidthX=k.defaultWidthX,r.nominalWidthX=k.nominalWidthX,k.subrs!==0){var p=x+k.subrs,m=vr(e,p);r.subrs=m.objects,r.subrsBias=Dl(r.subrs)}else r.subrs=[],r.subrsBias=0;var g;n.lowMemory?(g=Dy(e,t+c.charStrings),r.nGlyphs=g.offsets.length):(g=vr(e,t+c.charStrings),r.nGlyphs=g.objects.length);var S=jy(e,t+c.charset,r.nGlyphs,l.objects);if(c.encoding===0?r.cffEncoding=new bi(Ty,S):c.encoding===1?r.cffEncoding=new bi(Ey,S):r.cffEncoding=Gy(e,t+c.encoding,S),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new qt.GlyphSet(r),n.lowMemory)r._push=function(w){var T=Py(w,g.offsets,e,t+c.charStrings);r.glyphs.push(w,qt.cffGlyphLoader(r,w,Lf,T))};else for(var E=0;E<r.nGlyphs;E+=1){var N=g.objects[E];r.glyphs.push(E,qt.cffGlyphLoader(r,E,Lf,N))}}function sv(e,t){var r,n=Wo.indexOf(e);return n>=0&&(r=n),n=t.indexOf(e),n>=0?r=n+Wo.length:(r=Wo.length+t.length,t.push(e)),r}function Zy(){return new I.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function Wy(e){var t=new I.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}function lv(e,t,r){for(var n={},a=0;a<e.length;a+=1){var o=e[a],i=t[o.name];i!==void 0&&!tv(i,o.value)&&(o.type==="SID"&&(i=sv(i,r)),n[o.op]={name:o.name,type:o.type,value:i})}return n}function Of(e,t){var r=new I.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=lv(av,e,t),r}function Uf(e){var t=new I.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function Vy(e){var t=new I.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}function Xy(){return new I.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function Yy(e,t){for(var r=new I.Record("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<e.length;n+=1){var a=e[n],o=sv(a,t);r.fields.push({name:"glyph_"+n,type:"SID",value:o})}return r}function Qy(e){var t=[],r=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var n=0,a=0,o=0;o<r.commands.length;o+=1){var i=void 0,l=void 0,s=r.commands[o];if(s.type==="Q"){var u=.3333333333333333,c=2/3;s={type:"C",x:s.x,y:s.y,x1:Math.round(u*n+c*s.x1),y1:Math.round(u*a+c*s.y1),x2:Math.round(u*s.x+c*s.x1),y2:Math.round(u*s.y+c*s.y1)}}if(s.type==="M")i=Math.round(s.x-n),l=Math.round(s.y-a),t.push({name:"dx",type:"NUMBER",value:i}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(s.x),a=Math.round(s.y);else if(s.type==="L")i=Math.round(s.x-n),l=Math.round(s.y-a),t.push({name:"dx",type:"NUMBER",value:i}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rlineto",type:"OP",value:5}),n=Math.round(s.x),a=Math.round(s.y);else if(s.type==="C"){var d=Math.round(s.x1-n),f=Math.round(s.y1-a),h=Math.round(s.x2-s.x1),y=Math.round(s.y2-s.y1);i=Math.round(s.x-s.x2),l=Math.round(s.y-s.y2),t.push({name:"dx1",type:"NUMBER",value:d}),t.push({name:"dy1",type:"NUMBER",value:f}),t.push({name:"dx2",type:"NUMBER",value:h}),t.push({name:"dy2",type:"NUMBER",value:y}),t.push({name:"dx",type:"NUMBER",value:i}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(s.x),a=Math.round(s.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}function Ky(e){for(var t=new I.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var n=e.get(r),a=Qy(n);t.charStrings.push({name:n.name,type:"CHARSTRING",value:a})}return t}function qy(e,t){var r=new I.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=lv(ov,e,t),r}function Jy(e,t){for(var r=new I.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),n=1/t.unitsPerEm,a={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[n,0,0,n,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o={},i=[],l,s=1;s<e.length;s+=1)l=e.get(s),i.push(l.name);var u=[];r.header=Zy(),r.nameIndex=Wy([t.postScriptName]);var c=Of(a,u);r.topDictIndex=Uf(c),r.globalSubrIndex=Xy(),r.charsets=Yy(i,u),r.charStringsIndex=Ky(e),r.privateDict=qy(o,u),r.stringIndex=Vy(u);var d=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return a.charset=d,a.encoding=0,a.charStrings=a.charset+r.charsets.sizeOf(),a.private[1]=a.charStrings+r.charStringsIndex.sizeOf(),c=Of(a,u),r.topDictIndex=Uf(c),r}var uv={parse:Hy,make:Jy};function e1(e,t){var r={},n=new $.Parser(e,t);return r.version=n.parseVersion(),r.fontRevision=Math.round(n.parseFixed()*1e3)/1e3,r.checkSumAdjustment=n.parseULong(),r.magicNumber=n.parseULong(),q.argument(r.magicNumber===1594834165,"Font header has wrong magic number."),r.flags=n.parseUShort(),r.unitsPerEm=n.parseUShort(),r.created=n.parseLongDateTime(),r.modified=n.parseLongDateTime(),r.xMin=n.parseShort(),r.yMin=n.parseShort(),r.xMax=n.parseShort(),r.yMax=n.parseShort(),r.macStyle=n.parseUShort(),r.lowestRecPPEM=n.parseUShort(),r.fontDirectionHint=n.parseShort(),r.indexToLocFormat=n.parseShort(),r.glyphDataFormat=n.parseShort(),r}function t1(e){var t=Math.round(new Date().getTime()/1e3)+2082844800,r=t;return e.createdTimestamp&&(r=e.createdTimestamp+2082844800),new I.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:r},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var cv={parse:e1,make:t1};function r1(e,t){var r={},n=new $.Parser(e,t);return r.version=n.parseVersion(),r.ascender=n.parseShort(),r.descender=n.parseShort(),r.lineGap=n.parseShort(),r.advanceWidthMax=n.parseUShort(),r.minLeftSideBearing=n.parseShort(),r.minRightSideBearing=n.parseShort(),r.xMaxExtent=n.parseShort(),r.caretSlopeRise=n.parseShort(),r.caretSlopeRun=n.parseShort(),r.caretOffset=n.parseShort(),n.relativeOffset+=8,r.metricDataFormat=n.parseShort(),r.numberOfHMetrics=n.parseUShort(),r}function n1(e){return new I.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}var fv={parse:r1,make:n1};function a1(e,t,r,n,a){for(var o,i,l=new $.Parser(e,t),s=0;s<n;s+=1){s<r&&(o=l.parseUShort(),i=l.parseShort());var u=a.get(s);u.advanceWidth=o,u.leftSideBearing=i}}function o1(e,t,r,n,a){e._hmtxTableData={};for(var o,i,l=new $.Parser(t,r),s=0;s<a;s+=1)s<n&&(o=l.parseUShort(),i=l.parseShort()),e._hmtxTableData[s]={advanceWidth:o,leftSideBearing:i}}function i1(e,t,r,n,a,o,i){i.lowMemory?o1(e,t,r,n,a):a1(t,r,n,a,o)}function s1(e){for(var t=new I.Table("hmtx",[]),r=0;r<e.length;r+=1){var n=e.get(r),a=n.advanceWidth||0,o=n.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:a}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:o})}return t}var dv={parse:i1,make:s1};function l1(e){for(var t=new I.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),r="",n=12+e.length*4,a=0;a<e.length;++a){var o=r.indexOf(e[a]);o<0&&(o=r.length,r+=e[a]),t.fields.push({name:"offset "+a,type:"USHORT",value:n+o}),t.fields.push({name:"length "+a,type:"USHORT",value:e[a].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t}function u1(e,t){var r=new $.Parser(e,t),n=r.parseULong();q.argument(n===1,"Unsupported ltag table version."),r.skip("uLong",1);for(var a=r.parseULong(),o=[],i=0;i<a;i++){for(var l="",s=t+r.parseUShort(),u=r.parseUShort(),c=s;c<s+u;++c)l+=String.fromCharCode(e.getInt8(c));o.push(l)}return o}var pv={make:l1,parse:u1};function c1(e,t){var r={},n=new $.Parser(e,t);return r.version=n.parseVersion(),r.numGlyphs=n.parseUShort(),r.version===1&&(r.maxPoints=n.parseUShort(),r.maxContours=n.parseUShort(),r.maxCompositePoints=n.parseUShort(),r.maxCompositeContours=n.parseUShort(),r.maxZones=n.parseUShort(),r.maxTwilightPoints=n.parseUShort(),r.maxStorage=n.parseUShort(),r.maxFunctionDefs=n.parseUShort(),r.maxInstructionDefs=n.parseUShort(),r.maxStackElements=n.parseUShort(),r.maxSizeOfInstructions=n.parseUShort(),r.maxComponentElements=n.parseUShort(),r.maxComponentDepth=n.parseUShort()),r}function f1(e){return new I.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}var hv={parse:c1,make:f1},vv=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],gv={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},d1={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},mv={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function p1(e,t,r){switch(e){case 0:if(t===65535)return"und";if(r)return r[t];break;case 1:return gv[t];case 3:return mv[t]}}var Pl="utf-16",h1={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},v1={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function yv(e,t,r){switch(e){case 0:return Pl;case 1:return v1[r]||h1[t];case 3:if(t===1||t===10)return Pl;break}}function g1(e,t,r){for(var n={},a=new $.Parser(e,t),o=a.parseUShort(),i=a.parseUShort(),l=a.offset+a.parseUShort(),s=0;s<i;s++){var u=a.parseUShort(),c=a.parseUShort(),d=a.parseUShort(),f=a.parseUShort(),h=vv[f]||f,y=a.parseUShort(),x=a.parseUShort(),k=p1(u,d,r),p=yv(u,c,d);if(p!==void 0&&k!==void 0){var m=void 0;if(p===Pl?m=Zn.UTF16(e,l+x,y):m=Zn.MACSTRING(e,l+x,y,p),m){var g=n[h];g===void 0&&(g=n[h]={}),g[k]=m}}}return o===1&&a.parseUShort(),n}function Cs(e){var t={};for(var r in e)t[e[r]]=parseInt(r);return t}function Df(e,t,r,n,a,o){return new I.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:a},{name:"offset",type:"USHORT",value:o}])}function m1(e,t){var r=e.length,n=t.length-r+1;e:for(var a=0;a<n;a++)for(;a<n;a++){for(var o=0;o<r;o++)if(t[a+o]!==e[o])continue e;return a}return-1}function Pf(e,t){var r=m1(e,t);if(r<0){r=t.length;for(var n=0,a=e.length;n<a;++n)t.push(e[n])}return r}function y1(e,t){var r,n=[],a={},o=Cs(vv);for(var i in e){var l=o[i];if(l===void 0&&(l=i),r=parseInt(l),isNaN(r))throw new Error('Name table entry "'+i+'" does not exist, see nameTableNames for complete list.');a[r]=e[i],n.push(r)}for(var s=Cs(gv),u=Cs(mv),c=[],d=[],f=0;f<n.length;f++){r=n[f];var h=a[r];for(var y in h){var x=h[y],k=1,p=s[y],m=d1[p],g=yv(k,m,p),S=P.MACSTRING(x,g);S===void 0&&(k=0,p=t.indexOf(y),p<0&&(p=t.length,t.push(y)),m=4,S=P.UTF16(x));var E=Pf(S,d);c.push(Df(k,m,p,r,S.length,E));var N=u[y];if(N!==void 0){var w=P.UTF16(x),T=Pf(w,d);c.push(Df(3,1,N,r,w.length,T))}}}c.sort(function(D,A){return D.platformID-A.platformID||D.encodingID-A.encodingID||D.languageID-A.languageID||D.nameID-A.nameID});for(var z=new I.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:c.length},{name:"stringOffset",type:"USHORT",value:6+c.length*12}]),R=0;R<c.length;R++)z.fields.push({name:"record_"+R,type:"RECORD",value:c[R]});return z.fields.push({name:"strings",type:"LITERAL",value:d}),z}var xv={parse:g1,make:y1},zl=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function x1(e){for(var t=0;t<zl.length;t+=1){var r=zl[t];if(e>=r.begin&&e<r.end)return t}return-1}function k1(e,t){var r={},n=new $.Parser(e,t);r.version=n.parseUShort(),r.xAvgCharWidth=n.parseShort(),r.usWeightClass=n.parseUShort(),r.usWidthClass=n.parseUShort(),r.fsType=n.parseUShort(),r.ySubscriptXSize=n.parseShort(),r.ySubscriptYSize=n.parseShort(),r.ySubscriptXOffset=n.parseShort(),r.ySubscriptYOffset=n.parseShort(),r.ySuperscriptXSize=n.parseShort(),r.ySuperscriptYSize=n.parseShort(),r.ySuperscriptXOffset=n.parseShort(),r.ySuperscriptYOffset=n.parseShort(),r.yStrikeoutSize=n.parseShort(),r.yStrikeoutPosition=n.parseShort(),r.sFamilyClass=n.parseShort(),r.panose=[];for(var a=0;a<10;a++)r.panose[a]=n.parseByte();return r.ulUnicodeRange1=n.parseULong(),r.ulUnicodeRange2=n.parseULong(),r.ulUnicodeRange3=n.parseULong(),r.ulUnicodeRange4=n.parseULong(),r.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),r.fsSelection=n.parseUShort(),r.usFirstCharIndex=n.parseUShort(),r.usLastCharIndex=n.parseUShort(),r.sTypoAscender=n.parseShort(),r.sTypoDescender=n.parseShort(),r.sTypoLineGap=n.parseShort(),r.usWinAscent=n.parseUShort(),r.usWinDescent=n.parseUShort(),r.version>=1&&(r.ulCodePageRange1=n.parseULong(),r.ulCodePageRange2=n.parseULong()),r.version>=2&&(r.sxHeight=n.parseShort(),r.sCapHeight=n.parseShort(),r.usDefaultChar=n.parseUShort(),r.usBreakChar=n.parseUShort(),r.usMaxContent=n.parseUShort()),r}function S1(e){return new I.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var Al={parse:k1,make:S1,unicodeRanges:zl,getUnicodeRange:x1};function w1(e,t){var r={},n=new $.Parser(e,t);switch(r.version=n.parseVersion(),r.italicAngle=n.parseFixed(),r.underlinePosition=n.parseShort(),r.underlineThickness=n.parseShort(),r.isFixedPitch=n.parseULong(),r.minMemType42=n.parseULong(),r.maxMemType42=n.parseULong(),r.minMemType1=n.parseULong(),r.maxMemType1=n.parseULong(),r.version){case 1:r.names=Wr.slice();break;case 2:r.numberOfGlyphs=n.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs);for(var a=0;a<r.numberOfGlyphs;a++)r.glyphNameIndex[a]=n.parseUShort();r.names=[];for(var o=0;o<r.numberOfGlyphs;o++)if(r.glyphNameIndex[o]>=Wr.length){var i=n.parseChar();r.names.push(n.parseString(i))}break;case 2.5:r.numberOfGlyphs=n.parseUShort(),r.offset=new Array(r.numberOfGlyphs);for(var l=0;l<r.numberOfGlyphs;l++)r.offset[l]=n.parseChar();break}return r}function b1(){return new I.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var kv={parse:w1,make:b1},It=new Array(9);It[1]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:1,coverage:this.parsePointer(b.coverage),deltaGlyphId:this.parseUShort()};if(r===2)return{substFormat:2,coverage:this.parsePointer(b.coverage),substitute:this.parseOffset16List()};q.assert(!1,"0x"+t.toString(16)+": lookup type 1 format must be 1 or 2.")};It[2]=function(){var t=this.parseUShort();return q.argument(t===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(b.coverage),sequences:this.parseListOfLists()}};It[3]=function(){var t=this.parseUShort();return q.argument(t===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(b.coverage),alternateSets:this.parseListOfLists()}};It[4]=function(){var t=this.parseUShort();return q.argument(t===1,"GSUB ligature table identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(b.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var zn={sequenceIndex:b.uShort,lookupListIndex:b.uShort};It[5]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:r,coverage:this.parsePointer(b.coverage),ruleSets:this.parseListOfLists(function(){var o=this.parseUShort(),i=this.parseUShort();return{input:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(i,zn)}})};if(r===2)return{substFormat:r,coverage:this.parsePointer(b.coverage),classDef:this.parsePointer(b.classDef),classSets:this.parseListOfLists(function(){var o=this.parseUShort(),i=this.parseUShort();return{classes:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(i,zn)}})};if(r===3){var n=this.parseUShort(),a=this.parseUShort();return{substFormat:r,coverages:this.parseList(n,b.pointer(b.coverage)),lookupRecords:this.parseRecordList(a,zn)}}q.assert(!1,"0x"+t.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};It[6]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:1,coverage:this.parsePointer(b.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(zn)}})};if(r===2)return{substFormat:2,coverage:this.parsePointer(b.coverage),backtrackClassDef:this.parsePointer(b.classDef),inputClassDef:this.parsePointer(b.classDef),lookaheadClassDef:this.parsePointer(b.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(zn)}})};if(r===3)return{substFormat:3,backtrackCoverage:this.parseList(b.pointer(b.coverage)),inputCoverage:this.parseList(b.pointer(b.coverage)),lookaheadCoverage:this.parseList(b.pointer(b.coverage)),lookupRecords:this.parseRecordList(zn)};q.assert(!1,"0x"+t.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};It[7]=function(){var t=this.parseUShort();q.argument(t===1,"GSUB Extension Substitution subtable identifier-format must be 1");var r=this.parseUShort(),n=new b(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:r,extension:It[r].call(n)}};It[8]=function(){var t=this.parseUShort();return q.argument(t===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(b.coverage),backtrackCoverage:this.parseList(b.pointer(b.coverage)),lookaheadCoverage:this.parseList(b.pointer(b.coverage)),substitutes:this.parseUShortList()}};function T1(e,t){t=t||0;var r=new b(e,t),n=r.parseVersion(1);return q.argument(n===1||n===1.1,"Unsupported GSUB table version."),n===1?{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(It)}:{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(It),variations:r.parseFeatureVariationsList()}}var Qn=new Array(9);Qn[1]=function(t){return t.substFormat===1?new I.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new I.Coverage(t.coverage)},{name:"deltaGlyphID",type:"USHORT",value:t.deltaGlyphId}]):new I.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new I.Coverage(t.coverage)}].concat(I.ushortList("substitute",t.substitute)))};Qn[2]=function(t){return q.assert(t.substFormat===1,"Lookup type 2 substFormat must be 1."),new I.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new I.Coverage(t.coverage)}].concat(I.tableList("seqSet",t.sequences,function(r){return new I.Table("sequenceSetTable",I.ushortList("sequence",r))})))};Qn[3]=function(t){return q.assert(t.substFormat===1,"Lookup type 3 substFormat must be 1."),new I.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new I.Coverage(t.coverage)}].concat(I.tableList("altSet",t.alternateSets,function(r){return new I.Table("alternateSetTable",I.ushortList("alternate",r))})))};Qn[4]=function(t){return q.assert(t.substFormat===1,"Lookup type 4 substFormat must be 1."),new I.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new I.Coverage(t.coverage)}].concat(I.tableList("ligSet",t.ligatureSets,function(r){return new I.Table("ligatureSetTable",I.tableList("ligature",r,function(n){return new I.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:n.ligGlyph}].concat(I.ushortList("component",n.components,n.components.length+1)))}))})))};Qn[6]=function(t){if(t.substFormat===1){var r=new I.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:t.substFormat},{name:"coverage",type:"TABLE",value:new I.Coverage(t.coverage)}].concat(I.tableList("chainRuleSet",t.chainRuleSets,function(o){return new I.Table("chainRuleSetTable",I.tableList("chainRule",o,function(i){var l=I.ushortList("backtrackGlyph",i.backtrack,i.backtrack.length).concat(I.ushortList("inputGlyph",i.input,i.input.length+1)).concat(I.ushortList("lookaheadGlyph",i.lookahead,i.lookahead.length)).concat(I.ushortList("substitution",[],i.lookupRecords.length));return i.lookupRecords.forEach(function(s,u){l=l.concat({name:"sequenceIndex"+u,type:"USHORT",value:s.sequenceIndex}).concat({name:"lookupListIndex"+u,type:"USHORT",value:s.lookupListIndex})}),new I.Table("chainRuleTable",l)}))})));return r}else if(t.substFormat===2)q.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(t.substFormat===3){var n=[{name:"substFormat",type:"USHORT",value:t.substFormat}];n.push({name:"backtrackGlyphCount",type:"USHORT",value:t.backtrackCoverage.length}),t.backtrackCoverage.forEach(function(o,i){n.push({name:"backtrackCoverage"+i,type:"TABLE",value:new I.Coverage(o)})}),n.push({name:"inputGlyphCount",type:"USHORT",value:t.inputCoverage.length}),t.inputCoverage.forEach(function(o,i){n.push({name:"inputCoverage"+i,type:"TABLE",value:new I.Coverage(o)})}),n.push({name:"lookaheadGlyphCount",type:"USHORT",value:t.lookaheadCoverage.length}),t.lookaheadCoverage.forEach(function(o,i){n.push({name:"lookaheadCoverage"+i,type:"TABLE",value:new I.Coverage(o)})}),n.push({name:"substitutionCount",type:"USHORT",value:t.lookupRecords.length}),t.lookupRecords.forEach(function(o,i){n=n.concat({name:"sequenceIndex"+i,type:"USHORT",value:o.sequenceIndex}).concat({name:"lookupListIndex"+i,type:"USHORT",value:o.lookupListIndex})});var a=new I.Table("chainContextTable",n);return a}q.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function E1(e){return new I.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new I.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new I.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new I.LookupList(e.lookups,Qn)}])}var Sv={parse:T1,make:E1};function C1(e,t){var r=new $.Parser(e,t),n=r.parseULong();q.argument(n===1,"Unsupported META table version."),r.parseULong(),r.parseULong();for(var a=r.parseULong(),o={},i=0;i<a;i++){var l=r.parseTag(),s=r.parseULong(),u=r.parseULong(),c=Zn.UTF8(e,t+s,u);o[l]=c}return o}function F1(e){var t=Object.keys(e).length,r="",n=16+t*12,a=new I.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:n},{name:"numTags",type:"ULONG",value:t}]);for(var o in e){var i=r.length;r+=e[o],a.fields.push({name:"tag "+o,type:"TAG",value:o}),a.fields.push({name:"offset "+o,type:"ULONG",value:n+i}),a.fields.push({name:"length "+o,type:"ULONG",value:e[o].length})}return a.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),a}var wv={parse:C1,make:F1};function zf(e){return Math.log(e)/Math.log(2)|0}function Gu(e){for(;e.length%4!==0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%=Math.pow(2,32),t}function Af(e,t,r,n){return new I.Record("Table Record",[{name:"tag",type:"TAG",value:e!==void 0?e:""},{name:"checkSum",type:"ULONG",value:t!==void 0?t:0},{name:"offset",type:"ULONG",value:r!==void 0?r:0},{name:"length",type:"ULONG",value:n!==void 0?n:0}])}function bv(e){var t=new I.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var r=Math.pow(2,zf(t.numTables));t.searchRange=16*r,t.entrySelector=zf(r),t.rangeShift=t.numTables*16-t.searchRange;for(var n=[],a=[],o=t.sizeOf()+Af().sizeOf()*t.numTables;o%4!==0;)o+=1,a.push({name:"padding",type:"BYTE",value:0});for(var i=0;i<e.length;i+=1){var l=e[i];q.argument(l.tableName.length===4,"Table name"+l.tableName+" is invalid.");var s=l.sizeOf(),u=Af(l.tableName,Gu(l.encode()),o,s);for(n.push({name:u.tag+" Table Record",type:"RECORD",value:u}),a.push({name:l.tableName+" table",type:"RECORD",value:l}),o+=s,q.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!==0;)o+=1,a.push({name:"padding",type:"BYTE",value:0})}return n.sort(function(c,d){return c.value.tag>d.value.tag?1:-1}),t.fields=t.fields.concat(n),t.fields=t.fields.concat(a),t}function If(e,t,r){for(var n=0;n<t.length;n+=1){var a=e.charToGlyphIndex(t[n]);if(a>0){var o=e.glyphs.get(a);return o.getMetrics()}}return r}function R1(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}function _1(e){for(var t=[],r=[],n=[],a=[],o=[],i=[],l=[],s,u=0,c=0,d=0,f=0,h=0,y=0;y<e.glyphs.length;y+=1){var x=e.glyphs.get(y),k=x.unicode|0;if(isNaN(x.advanceWidth))throw new Error("Glyph "+x.name+" ("+y+"): advanceWidth is not a number.");(s>k||s===void 0)&&k>0&&(s=k),u<k&&(u=k);var p=Al.getUnicodeRange(k);if(p<32)c|=1<<p;else if(p<64)d|=1<<p-32;else if(p<96)f|=1<<p-64;else if(p<123)h|=1<<p-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(x.name!==".notdef"){var m=x.getMetrics();t.push(m.xMin),r.push(m.yMin),n.push(m.xMax),a.push(m.yMax),i.push(m.leftSideBearing),l.push(m.rightSideBearing),o.push(x.advanceWidth)}}var g={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,n),yMax:Math.max.apply(null,a),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:R1(o),minLeftSideBearing:Math.min.apply(null,i),maxLeftSideBearing:Math.max.apply(null,i),minRightSideBearing:Math.min.apply(null,l)};g.ascender=e.ascender,g.descender=e.descender;var S=cv.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:g.xMin,yMin:g.yMin,xMax:g.xMax,yMax:g.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),E=fv.make({ascender:g.ascender,descender:g.descender,advanceWidthMax:g.advanceWidthMax,minLeftSideBearing:g.minLeftSideBearing,minRightSideBearing:g.minRightSideBearing,xMaxExtent:g.maxLeftSideBearing+(g.xMax-g.xMin),numberOfHMetrics:e.glyphs.length}),N=hv.make(e.glyphs.length),w=Al.make(Object.assign({xAvgCharWidth:Math.round(g.advanceWidthAvg),usFirstCharIndex:s,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:d,ulUnicodeRange3:f,ulUnicodeRange4:h,sTypoAscender:g.ascender,sTypoDescender:g.descender,sTypoLineGap:0,usWinAscent:g.yMax,usWinDescent:Math.abs(g.yMin),ulCodePageRange1:1,sxHeight:If(e,"xyvw",{yMax:Math.round(g.ascender/2)}).yMax,sCapHeight:If(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",g).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),T=dv.make(e.glyphs),z=qh.make(e.glyphs),R=e.getEnglishName("fontFamily"),D=e.getEnglishName("fontSubfamily"),A=R+" "+D,j=e.getEnglishName("postScriptName");j||(j=R.replace(/\s/g,"")+"-"+D);var V={};for(var Q in e.names)V[Q]=e.names[Q];V.uniqueID||(V.uniqueID={en:e.getEnglishName("manufacturer")+":"+A}),V.postScriptName||(V.postScriptName={en:j}),V.preferredFamily||(V.preferredFamily=e.names.fontFamily),V.preferredSubfamily||(V.preferredSubfamily=e.names.fontSubfamily);var ee=[],H=xv.make(V,ee),O=ee.length>0?pv.make(ee):void 0,M=kv.make(),Z=uv.make(e.glyphs,{version:e.getEnglishName("version"),fullName:A,familyName:R,weightName:D,postScriptName:j,unitsPerEm:e.unitsPerEm,fontBBox:[0,g.yMin,g.ascender,g.advanceWidthMax]}),X=e.metas&&Object.keys(e.metas).length>0?wv.make(e.metas):void 0,re=[S,E,N,w,H,z,M,Z,T];O&&re.push(O),e.tables.gsub&&re.push(Sv.make(e.tables.gsub)),X&&re.push(X);for(var Ee=bv(re),ft=Ee.encode(),ze=Gu(ft),Je=Ee.fields,bt=!1,jr=0;jr<Je.length;jr+=1)if(Je[jr].name==="head table"){Je[jr].value.checkSumAdjustment=2981146554-ze,bt=!0;break}if(!bt)throw new Error("Could not find head table with checkSum to adjust.");return Ee}var N1={make:bv,fontToTable:_1,computeCheckSum:Gu};function Fs(e,t){for(var r=0,n=e.length-1;r<=n;){var a=r+n>>>1,o=e[a].tag;if(o===t)return a;o<t?r=a+1:n=a-1}return-r-1}function Mf(e,t){for(var r=0,n=e.length-1;r<=n;){var a=r+n>>>1,o=e[a];if(o===t)return a;o<t?r=a+1:n=a-1}return-r-1}function Bf(e,t){for(var r,n=0,a=e.length-1;n<=a;){var o=n+a>>>1;r=e[o];var i=r.start;if(i===t)return r;i<t?n=o+1:a=o-1}if(n>0)return r=e[n-1],t>r.end?0:r}function Ya(e,t){this.font=e,this.tableName=t}Ya.prototype={searchTag:Fs,binSearch:Mf,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(t){return t.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,r=0;r<e.scripts.length;r++){var n=e.scripts[r].tag;if(n==="DFLT")return n;n==="latn"&&(t=!0)}if(t)return"latn"}},getScriptTable:function(e,t){var r=this.getTable(t);if(r){e=e||"DFLT";var n=r.scripts,a=Fs(r.scripts,e);if(a>=0)return n[a].script;if(t){var o={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return n.splice(-1-a,0,o),o.script}}},getLangSysTable:function(e,t,r){var n=this.getScriptTable(e,r);if(n){if(!t||t==="dflt"||t==="DFLT")return n.defaultLangSys;var a=Fs(n.langSysRecords,t);if(a>=0)return n.langSysRecords[a].langSys;if(r){var o={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return n.langSysRecords.splice(-1-a,0,o),o.langSys}}},getFeatureTable:function(e,t,r,n){var a=this.getLangSysTable(e,t,n);if(a){for(var o,i=a.featureIndexes,l=this.font.tables[this.tableName].features,s=0;s<i.length;s++)if(o=l[i[s]],o.tag===r)return o.feature;if(n){var u=l.length;return q.assert(u===0||r>=l[u-1].tag,"Features must be added in alphabetical order."),o={tag:r,feature:{params:0,lookupListIndexes:[]}},l.push(o),i.push(u),o.feature}}},getLookupTables:function(e,t,r,n,a){var o=this.getFeatureTable(e,t,r,a),i=[];if(o){for(var l,s=o.lookupListIndexes,u=this.font.tables[this.tableName].lookups,c=0;c<s.length;c++)l=u[s[c]],l.lookupType===n&&i.push(l);if(i.length===0&&a){l={lookupType:n,lookupFlag:0,subtables:[],markFilteringSet:void 0};var d=u.length;return u.push(l),s.push(d),[l]}}return i},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var r=Bf(e.ranges,t);return r?r.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var r=Mf(e.glyphs,t);return r>=0?r:-1;case 2:var n=Bf(e.ranges,t);return n?n.index+t-n.start:-1}},expandCoverage:function(e){if(e.format===1)return e.glyphs;for(var t=[],r=e.ranges,n=0;n<r.length;n++)for(var a=r[n],o=a.start,i=a.end,l=o;l<=i;l++)t.push(l);return t}};function Qa(e){Ya.call(this,e,"gpos")}Qa.prototype=Ya.prototype;Qa.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)};Qa.prototype.getKerningValue=function(e,t,r){for(var n=0;n<e.length;n++)for(var a=e[n].subtables,o=0;o<a.length;o++){var i=a[o],l=this.getCoverageIndex(i.coverage,t);if(!(l<0))switch(i.posFormat){case 1:for(var s=i.pairSets[l],u=0;u<s.length;u++){var c=s[u];if(c.secondGlyph===r)return c.value1&&c.value1.xAdvance||0}break;case 2:var d=this.getGlyphClass(i.classDef1,t),f=this.getGlyphClass(i.classDef2,r),h=i.classRecords[d][f];return h.value1&&h.value1.xAdvance||0}}return 0};Qa.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)};function St(e){Ya.call(this,e,"gsub")}function L1(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function $u(e,t,r){for(var n=e.subtables,a=0;a<n.length;a++){var o=n[a];if(o.substFormat===t)return o}if(r)return n.push(r),r}St.prototype=Ya.prototype;St.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};St.prototype.getSingle=function(e,t,r){for(var n=[],a=this.getLookupTables(t,r,e,1),o=0;o<a.length;o++)for(var i=a[o].subtables,l=0;l<i.length;l++){var s=i[l],u=this.expandCoverage(s.coverage),c=void 0;if(s.substFormat===1){var d=s.deltaGlyphId;for(c=0;c<u.length;c++){var f=u[c];n.push({sub:f,by:f+d})}}else{var h=s.substitute;for(c=0;c<u.length;c++)n.push({sub:u[c],by:h[c]})}}return n};St.prototype.getMultiple=function(e,t,r){for(var n=[],a=this.getLookupTables(t,r,e,2),o=0;o<a.length;o++)for(var i=a[o].subtables,l=0;l<i.length;l++){var s=i[l],u=this.expandCoverage(s.coverage),c=void 0;for(c=0;c<u.length;c++){var d=u[c],f=s.sequences[c];n.push({sub:d,by:f})}}return n};St.prototype.getAlternates=function(e,t,r){for(var n=[],a=this.getLookupTables(t,r,e,3),o=0;o<a.length;o++)for(var i=a[o].subtables,l=0;l<i.length;l++)for(var s=i[l],u=this.expandCoverage(s.coverage),c=s.alternateSets,d=0;d<u.length;d++)n.push({sub:u[d],by:c[d]});return n};St.prototype.getLigatures=function(e,t,r){for(var n=[],a=this.getLookupTables(t,r,e,4),o=0;o<a.length;o++)for(var i=a[o].subtables,l=0;l<i.length;l++)for(var s=i[l],u=this.expandCoverage(s.coverage),c=s.ligatureSets,d=0;d<u.length;d++)for(var f=u[d],h=c[d],y=0;y<h.length;y++){var x=h[y];n.push({sub:[f].concat(x.components),by:x.ligGlyph})}return n};St.prototype.addSingle=function(e,t,r,n){var a=this.getLookupTables(r,n,e,1,!0)[0],o=$u(a,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});q.assert(o.coverage.format===1,"Single: unable to modify coverage table format "+o.coverage.format);var i=t.sub,l=this.binSearch(o.coverage.glyphs,i);l<0&&(l=-1-l,o.coverage.glyphs.splice(l,0,i),o.substitute.splice(l,0,0)),o.substitute[l]=t.by};St.prototype.addMultiple=function(e,t,r,n){q.assert(t.by instanceof Array&&t.by.length>1,'Multiple: "by" must be an array of two or more ids');var a=this.getLookupTables(r,n,e,2,!0)[0],o=$u(a,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});q.assert(o.coverage.format===1,"Multiple: unable to modify coverage table format "+o.coverage.format);var i=t.sub,l=this.binSearch(o.coverage.glyphs,i);l<0&&(l=-1-l,o.coverage.glyphs.splice(l,0,i),o.sequences.splice(l,0,0)),o.sequences[l]=t.by};St.prototype.addAlternate=function(e,t,r,n){var a=this.getLookupTables(r,n,e,3,!0)[0],o=$u(a,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});q.assert(o.coverage.format===1,"Alternate: unable to modify coverage table format "+o.coverage.format);var i=t.sub,l=this.binSearch(o.coverage.glyphs,i);l<0&&(l=-1-l,o.coverage.glyphs.splice(l,0,i),o.alternateSets.splice(l,0,0)),o.alternateSets[l]=t.by};St.prototype.addLigature=function(e,t,r,n){var a=this.getLookupTables(r,n,e,4,!0)[0],o=a.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},a.subtables[0]=o),q.assert(o.coverage.format===1,"Ligature: unable to modify coverage table format "+o.coverage.format);var i=t.sub[0],l=t.sub.slice(1),s={ligGlyph:t.by,components:l},u=this.binSearch(o.coverage.glyphs,i);if(u>=0){for(var c=o.ligatureSets[u],d=0;d<c.length;d++)if(L1(c[d].components,l))return;c.push(s)}else u=-1-u,o.coverage.glyphs.splice(u,0,i),o.ligatureSets.splice(u,0,[s])};St.prototype.getFeature=function(e,t,r){if(/ss\d\d/.test(e))return this.getSingle(e,t,r);switch(e){case"aalt":case"salt":return this.getSingle(e,t,r).concat(this.getAlternates(e,t,r));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,r);case"ccmp":return this.getMultiple(e,t,r).concat(this.getLigatures(e,t,r));case"stch":return this.getMultiple(e,t,r)}};St.prototype.add=function(e,t,r,n){if(/ss\d\d/.test(e))return this.addSingle(e,t,r,n);switch(e){case"aalt":case"salt":return typeof t.by=="number"?this.addSingle(e,t,r,n):this.addAlternate(e,t,r,n);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,r,n);case"ccmp":return t.by instanceof Array?this.addMultiple(e,t,r,n):this.addLigature(e,t,r,n)}};function O1(){return typeof window<"u"}function Tv(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;++n)r[n]=e[n];return t}function U1(e){for(var t=new Buffer(e.byteLength),r=new Uint8Array(e),n=0;n<t.length;++n)t[n]=r[n];return t}function sa(e,t){if(!e)throw t}function jf(e,t,r,n,a){var o;return(t&n)>0?(o=e.parseByte(),t&a||(o=-o),o=r+o):(t&a)>0?o=r:o=r+e.parseShort(),o}function Ev(e,t,r){var n=new $.Parser(t,r);e.numberOfContours=n.parseShort(),e._xMin=n.parseShort(),e._yMin=n.parseShort(),e._xMax=n.parseShort(),e._yMax=n.parseShort();var a,o;if(e.numberOfContours>0){for(var i=e.endPointIndices=[],l=0;l<e.numberOfContours;l+=1)i.push(n.parseUShort());e.instructionLength=n.parseUShort(),e.instructions=[];for(var s=0;s<e.instructionLength;s+=1)e.instructions.push(n.parseByte());var u=i[i.length-1]+1;a=[];for(var c=0;c<u;c+=1)if(o=n.parseByte(),a.push(o),(o&8)>0)for(var d=n.parseByte(),f=0;f<d;f+=1)a.push(o),c+=1;if(q.argument(a.length===u,"Bad flags."),i.length>0){var h=[],y;if(u>0){for(var x=0;x<u;x+=1)o=a[x],y={},y.onCurve=!!(o&1),y.lastPointOfContour=i.indexOf(x)>=0,h.push(y);for(var k=0,p=0;p<u;p+=1)o=a[p],y=h[p],y.x=jf(n,o,k,2,16),k=y.x;for(var m=0,g=0;g<u;g+=1)o=a[g],y=h[g],y.y=jf(n,o,m,4,32),m=y.y}e.points=h}else e.points=[]}else if(e.numberOfContours===0)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var S=!0;S;){a=n.parseUShort();var E={glyphIndex:n.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(a&1)>0?(a&2)>0?(E.dx=n.parseShort(),E.dy=n.parseShort()):E.matchedPoints=[n.parseUShort(),n.parseUShort()]:(a&2)>0?(E.dx=n.parseChar(),E.dy=n.parseChar()):E.matchedPoints=[n.parseByte(),n.parseByte()],(a&8)>0?E.xScale=E.yScale=n.parseF2Dot14():(a&64)>0?(E.xScale=n.parseF2Dot14(),E.yScale=n.parseF2Dot14()):(a&128)>0&&(E.xScale=n.parseF2Dot14(),E.scale01=n.parseF2Dot14(),E.scale10=n.parseF2Dot14(),E.yScale=n.parseF2Dot14()),e.components.push(E),S=!!(a&32)}if(a&256){e.instructionLength=n.parseUShort(),e.instructions=[];for(var N=0;N<e.instructionLength;N+=1)e.instructions.push(n.parseByte())}}}function Rs(e,t){for(var r=[],n=0;n<e.length;n+=1){var a=e[n],o={x:t.xScale*a.x+t.scale01*a.y+t.dx,y:t.scale10*a.x+t.yScale*a.y+t.dy,onCurve:a.onCurve,lastPointOfContour:a.lastPointOfContour};r.push(o)}return r}function D1(e){for(var t=[],r=[],n=0;n<e.length;n+=1){var a=e[n];r.push(a),a.lastPointOfContour&&(t.push(r),r=[])}return q.argument(r.length===0,"There are still points left in the current contour."),t}function Cv(e){var t=new De;if(!e)return t;for(var r=D1(e),n=0;n<r.length;++n){var a=r[n],o=null,i=a[a.length-1],l=a[0];if(i.onCurve)t.moveTo(i.x,i.y);else if(l.onCurve)t.moveTo(l.x,l.y);else{var s={x:(i.x+l.x)*.5,y:(i.y+l.y)*.5};t.moveTo(s.x,s.y)}for(var u=0;u<a.length;++u)if(o=i,i=l,l=a[(u+1)%a.length],i.onCurve)t.lineTo(i.x,i.y);else{var c=l;o.onCurve||((i.x+o.x)*.5,(i.y+o.y)*.5),l.onCurve||(c={x:(i.x+l.x)*.5,y:(i.y+l.y)*.5}),t.quadraticCurveTo(i.x,i.y,c.x,c.y)}t.closePath()}return t}function Fv(e,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var n=t.components[r],a=e.get(n.glyphIndex);if(a.getPath(),a.points){var o=void 0;if(n.matchedPoints===void 0)o=Rs(a.points,n);else{if(n.matchedPoints[0]>t.points.length-1||n.matchedPoints[1]>a.points.length-1)throw Error("Matched points out of range in "+t.name);var i=t.points[n.matchedPoints[0]],l=a.points[n.matchedPoints[1]],s={xScale:n.xScale,scale01:n.scale01,scale10:n.scale10,yScale:n.yScale,dx:0,dy:0};l=Rs([l],s)[0],s.dx=i.x-l.x,s.dy=i.y-l.y,o=Rs(a.points,s)}t.points=t.points.concat(o)}}return Cv(t.points)}function P1(e,t,r,n){for(var a=new qt.GlyphSet(n),o=0;o<r.length-1;o+=1){var i=r[o],l=r[o+1];i!==l?a.push(o,qt.ttfGlyphLoader(n,o,Ev,e,t+i,Fv)):a.push(o,qt.glyphLoader(n,o))}return a}function z1(e,t,r,n){var a=new qt.GlyphSet(n);return n._push=function(o){var i=r[o],l=r[o+1];i!==l?a.push(o,qt.ttfGlyphLoader(n,o,Ev,e,t+i,Fv)):a.push(o,qt.glyphLoader(n,o))},a}function A1(e,t,r,n,a){return a.lowMemory?z1(e,t,r,n):P1(e,t,r,n)}var Rv={getPath:Cv,parse:A1},_v,on,Nv,Il;function Lv(e){this.font=e,this.getCommands=function(t){return Rv.getPath(t).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function I1(e){return e}function Ov(e){return Math.sign(e)*Math.round(Math.abs(e))}function M1(e){return Math.sign(e)*Math.round(Math.abs(e*2))/2}function B1(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function j1(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function G1(e){return Math.sign(e)*Math.floor(Math.abs(e))}var Uv=function(e){var t=this.srPeriod,r=this.srPhase,n=this.srThreshold,a=1;return e<0&&(e=-e,a=-1),e+=n-r,e=Math.trunc(e/t)*t,e+=r,e<0?r*a:e*a},Yt={x:1,y:0,axis:"x",distance:function(e,t,r,n){return(r?e.xo:e.x)-(n?t.xo:t.x)},interpolate:function(e,t,r,n){var a,o,i,l,s,u,c;if(!n||n===this){if(a=e.xo-t.xo,o=e.xo-r.xo,s=t.x-t.xo,u=r.x-r.xo,i=Math.abs(a),l=Math.abs(o),c=i+l,c===0){e.x=e.xo+(s+u)/2;return}e.x=e.xo+(s*l+u*i)/c;return}if(a=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),s=n.distance(t,t,!1,!0),u=n.distance(r,r,!1,!0),i=Math.abs(a),l=Math.abs(o),c=i+l,c===0){Yt.setRelative(e,e,(s+u)/2,n,!0);return}Yt.setRelative(e,e,(s*l+u*i)/c,n,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,r,n,a){if(!n||n===this){e.x=(a?t.xo:t.x)+r;return}var o=a?t.xo:t.x,i=a?t.yo:t.y,l=o+r*n.x,s=i+r*n.y;e.x=l+(e.y-s)/n.normalSlope},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},nr={x:0,y:1,axis:"y",distance:function(e,t,r,n){return(r?e.yo:e.y)-(n?t.yo:t.y)},interpolate:function(e,t,r,n){var a,o,i,l,s,u,c;if(!n||n===this){if(a=e.yo-t.yo,o=e.yo-r.yo,s=t.y-t.yo,u=r.y-r.yo,i=Math.abs(a),l=Math.abs(o),c=i+l,c===0){e.y=e.yo+(s+u)/2;return}e.y=e.yo+(s*l+u*i)/c;return}if(a=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),s=n.distance(t,t,!1,!0),u=n.distance(r,r,!1,!0),i=Math.abs(a),l=Math.abs(o),c=i+l,c===0){nr.setRelative(e,e,(s+u)/2,n,!0);return}nr.setRelative(e,e,(s*l+u*i)/c,n,!0)},normalSlope:0,setRelative:function(e,t,r,n,a){if(!n||n===this){e.y=(a?t.yo:t.y)+r;return}var o=a?t.xo:t.x,i=a?t.yo:t.y,l=o+r*n.x,s=i+r*n.y;e.y=s+n.normalSlope*(e.x-l)},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};Object.freeze(Yt);Object.freeze(nr);function Ka(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}Ka.prototype.distance=function(e,t,r,n){return this.x*Yt.distance(e,t,r,n)+this.y*nr.distance(e,t,r,n)};Ka.prototype.interpolate=function(e,t,r,n){var a,o,i,l,s,u,c;if(i=n.distance(e,t,!0,!0),l=n.distance(e,r,!0,!0),a=n.distance(t,t,!1,!0),o=n.distance(r,r,!1,!0),s=Math.abs(i),u=Math.abs(l),c=s+u,c===0){this.setRelative(e,e,(a+o)/2,n,!0);return}this.setRelative(e,e,(a*u+o*s)/c,n,!0)};Ka.prototype.setRelative=function(e,t,r,n,a){n=n||this;var o=a?t.xo:t.x,i=a?t.yo:t.y,l=o+r*n.x,s=i+r*n.y,u=n.normalSlope,c=this.slope,d=e.x,f=e.y;e.x=(c*d-u*l+s-f)/(c-u),e.y=c*(e.x-d)+f};Ka.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0};function qa(e,t){var r=Math.sqrt(e*e+t*t);return e/=r,t/=r,e===1&&t===0?Yt:e===0&&t===1?nr:new Ka(e,t)}function or(e,t,r,n){this.x=this.xo=Math.round(e*64)/64,this.y=this.yo=Math.round(t*64)/64,this.lastPointOfContour=r,this.onCurve=n,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}or.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t};or.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var Ga=Object.freeze(new or(0,0)),$1={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function wr(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Yt,this.round=Ov}}Lv.prototype.exec=function(e,t){if(typeof t!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var r=this.font,n=this._prepState;if(!n||n.ppem!==t){var a=this._fpgmState;if(!a){wr.prototype=$1,a=this._fpgmState=new wr("fpgm",r.tables.fpgm),a.funcs=[],a.font=r,F.DEBUG&&(console.log("---EXEC FPGM---"),a.step=-1);try{on(a)}catch(u){console.log("Hinting error in FPGM:"+u),this._errorState=3;return}}wr.prototype=a,n=this._prepState=new wr("prep",r.tables.prep),n.ppem=t;var o=r.tables.cvt;if(o)for(var i=n.cvt=new Array(o.length),l=t/r.unitsPerEm,s=0;s<o.length;s++)i[s]=o[s]*l;else n.cvt=[];F.DEBUG&&(console.log("---EXEC PREP---"),n.step=-1);try{on(n)}catch(u){this._errorState<2&&console.log("Hinting error in PREP:"+u),this._errorState=2}}if(!(this._errorState>1))try{return Nv(e,n)}catch(u){this._errorState<1&&(console.log("Hinting error:"+u),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};Nv=function(e,t){var r=t.ppem/t.font.unitsPerEm,n=r,a=e.components,o,i,l;if(wr.prototype=t,!a)l=new wr("glyf",e.instructions),F.DEBUG&&(console.log("---EXEC GLYPH---"),l.step=-1),Il(e,l,r,n),i=l.gZone;else{var s=t.font;i=[],o=[];for(var u=0;u<a.length;u++){var c=a[u],d=s.glyphs.get(c.glyphIndex);l=new wr("glyf",d.instructions),F.DEBUG&&(console.log("---EXEC COMP "+u+"---"),l.step=-1),Il(d,l,r,n);for(var f=Math.round(c.dx*r),h=Math.round(c.dy*n),y=l.gZone,x=l.contours,k=0;k<y.length;k++){var p=y[k];p.xTouched=p.yTouched=!1,p.xo=p.x=p.x+f,p.yo=p.y=p.y+h}var m=i.length;i.push.apply(i,y);for(var g=0;g<x.length;g++)o.push(x[g]+m)}e.instructions&&!l.inhibitGridFit&&(l=new wr("glyf",e.instructions),l.gZone=l.z0=l.z1=l.z2=i,l.contours=o,i.push(new or(0,0),new or(Math.round(e.advanceWidth*r),0)),F.DEBUG&&(console.log("---EXEC COMPOSITE---"),l.step=-1),on(l),i.length-=2)}return i};Il=function(e,t,r,n){for(var a=e.points||[],o=a.length,i=t.gZone=t.z0=t.z1=t.z2=[],l=t.contours=[],s,u=0;u<o;u++)s=a[u],i[u]=new or(s.x*r,s.y*n,s.lastPointOfContour,s.onCurve);for(var c,d,f=0;f<o;f++)s=i[f],c||(c=s,l.push(f)),s.lastPointOfContour?(s.nextPointOnContour=c,c.prevPointOnContour=s,c=void 0):(d=i[f+1],s.nextPointOnContour=d,d.prevPointOnContour=s);if(!t.inhibitGridFit){if(F.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var h=0;h<o;h++)console.log(h,i[h].x,i[h].y)}if(i.push(new or(0,0),new or(Math.round(e.advanceWidth*r),0)),on(t),i.length-=2,F.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var y=0;y<o;y++)console.log(y,i[y].x,i[y].y)}}};on=function(e){var t=e.prog;if(t){var r=t.length,n;for(e.ip=0;e.ip<r;e.ip++){if(F.DEBUG&&e.step++,n=_v[t[e.ip]],!n)throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));n(e)}}};function Hi(e){for(var t=e.tZone=new Array(e.gZone.length),r=0;r<t.length;r++)t[r]=new or(0,0)}function Dv(e,t){var r=e.prog,n=e.ip,a=1,o;do if(o=r[++n],o===88)a++;else if(o===89)a--;else if(o===64)n+=r[n+1]+1;else if(o===65)n+=2*r[n+1]+1;else if(o>=176&&o<=183)n+=o-176+1;else if(o>=184&&o<=191)n+=(o-184+1)*2;else if(t&&a===1&&o===27)break;while(a>0);e.ip=n}function Gf(e,t){F.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function $f(e,t){F.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function Hf(e,t){F.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function Zf(e,t){var r=t.stack,n=r.pop(),a=r.pop(),o=t.z2[n],i=t.z1[a];F.DEBUG&&console.log("SPVTL["+e+"]",n,a);var l,s;e?(l=o.y-i.y,s=i.x-o.x):(l=i.x-o.x,s=i.y-o.y),t.pv=t.dpv=qa(l,s)}function Wf(e,t){var r=t.stack,n=r.pop(),a=r.pop(),o=t.z2[n],i=t.z1[a];F.DEBUG&&console.log("SFVTL["+e+"]",n,a);var l,s;e?(l=o.y-i.y,s=i.x-o.x):(l=i.x-o.x,s=i.y-o.y),t.fv=qa(l,s)}function H1(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.pv=e.dpv=qa(n,r)}function Z1(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.fv=qa(n,r)}function W1(e){var t=e.stack,r=e.pv;F.DEBUG&&console.log(e.step,"GPV[]"),t.push(r.x*16384),t.push(r.y*16384)}function V1(e){var t=e.stack,r=e.fv;F.DEBUG&&console.log(e.step,"GFV[]"),t.push(r.x*16384),t.push(r.y*16384)}function X1(e){e.fv=e.pv,F.DEBUG&&console.log(e.step,"SFVTPV[]")}function Y1(e){var t=e.stack,r=t.pop(),n=t.pop(),a=t.pop(),o=t.pop(),i=t.pop(),l=e.z0,s=e.z1,u=l[r],c=l[n],d=s[a],f=s[o],h=e.z2[i];F.DEBUG&&console.log("ISECT[], ",r,n,a,o,i);var y=u.x,x=u.y,k=c.x,p=c.y,m=d.x,g=d.y,S=f.x,E=f.y,N=(y-k)*(g-E)-(x-p)*(m-S),w=y*p-x*k,T=m*E-g*S;h.x=(w*(m-S)-T*(y-k))/N,h.y=(w*(g-E)-T*(x-p))/N}function Q1(e){e.rp0=e.stack.pop(),F.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)}function K1(e){e.rp1=e.stack.pop(),F.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)}function q1(e){e.rp2=e.stack.pop(),F.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)}function J1(e){var t=e.stack.pop();switch(F.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t,t){case 0:e.tZone||Hi(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function ex(e){var t=e.stack.pop();switch(F.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t,t){case 0:e.tZone||Hi(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function tx(e){var t=e.stack.pop();switch(F.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t,t){case 0:e.tZone||Hi(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function rx(e){var t=e.stack.pop();switch(F.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||Hi(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function nx(e){e.loop=e.stack.pop(),F.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)}function ax(e){F.DEBUG&&console.log(e.step,"RTG[]"),e.round=Ov}function ox(e){F.DEBUG&&console.log(e.step,"RTHG[]"),e.round=B1}function ix(e){var t=e.stack.pop();F.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64}function sx(e){F.DEBUG&&console.log(e.step,"ELSE[]"),Dv(e,!1)}function lx(e){var t=e.stack.pop();F.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1}function ux(e){var t=e.stack.pop();F.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64}function cx(e){var t=e.stack;F.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])}function _s(e){F.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function fx(e){F.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0}function dx(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"SWAP[]"),t.push(r),t.push(n)}function px(e){var t=e.stack;F.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)}function hx(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"LOOPCALL[]",r,n);var a=e.ip,o=e.prog;e.prog=e.funcs[r];for(var i=0;i<n;i++)on(e),F.DEBUG&&console.log(++e.step,i+1<n?"next loopcall":"done loopcall",i);e.ip=a,e.prog=o}function vx(e){var t=e.stack.pop();F.DEBUG&&console.log(e.step,"CALL[]",t);var r=e.ip,n=e.prog;e.prog=e.funcs[t],on(e),e.ip=r,e.prog=n,F.DEBUG&&console.log(++e.step,"returning from",t)}function gx(e){var t=e.stack,r=t.pop();F.DEBUG&&console.log(e.step,"CINDEX[]",r),t.push(t[t.length-r])}function mx(e){var t=e.stack,r=t.pop();F.DEBUG&&console.log(e.step,"MINDEX[]",r),t.push(t.splice(t.length-r,1)[0])}function yx(e){if(e.env!=="fpgm")throw new Error("FDEF not allowed here");var t=e.stack,r=e.prog,n=e.ip,a=t.pop(),o=n;for(F.DEBUG&&console.log(e.step,"FDEF[]",a);r[++n]!==45;);e.ip=n,e.funcs[a]=r.slice(o+1,n)}function Vf(e,t){var r=t.stack.pop(),n=t.z0[r],a=t.fv,o=t.pv;F.DEBUG&&console.log(t.step,"MDAP["+e+"]",r);var i=o.distance(n,Ga);e&&(i=t.round(i)),a.setRelative(n,Ga,i,o),a.touch(n),t.rp0=t.rp1=r}function Xf(e,t){var r=t.z2,n=r.length-2,a,o,i;F.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var l=0;l<n;l++)a=r[l],!e.touched(a)&&(o=a.prevTouched(e),o!==a&&(i=a.nextTouched(e),o===i&&e.setRelative(a,a,e.distance(o,o,!1,!0),e,!0),e.interpolate(a,o,i,e)))}function Yf(e,t){for(var r=t.stack,n=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[n],o=t.fv,i=t.pv,l=t.loop,s=t.z2;l--;){var u=r.pop(),c=s[u],d=i.distance(a,a,!1,!0);o.setRelative(c,c,d,i),o.touch(c),F.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-l)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",u)}t.loop=1}function Qf(e,t){var r=t.stack,n=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[n],o=t.fv,i=t.pv,l=r.pop(),s=t.z2[t.contours[l]],u=s;F.DEBUG&&console.log(t.step,"SHC["+e+"]",l);var c=i.distance(a,a,!1,!0);do u!==a&&o.setRelative(u,u,c,i),u=u.nextPointOnContour;while(u!==s)}function Kf(e,t){var r=t.stack,n=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[n],o=t.fv,i=t.pv,l=r.pop();F.DEBUG&&console.log(t.step,"SHZ["+e+"]",l);var s;switch(l){case 0:s=t.tZone;break;case 1:s=t.gZone;break;default:throw new Error("Invalid zone")}for(var u,c=i.distance(a,a,!1,!0),d=s.length-2,f=0;f<d;f++)u=s[f],o.setRelative(u,u,c,i)}function xx(e){for(var t=e.stack,r=e.loop,n=e.fv,a=t.pop()/64,o=e.z2;r--;){var i=t.pop(),l=o[i];F.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-r)+": ":"")+"SHPIX[]",i,a),n.setRelative(l,l,a),n.touch(l)}e.loop=1}function kx(e){for(var t=e.stack,r=e.rp1,n=e.rp2,a=e.loop,o=e.z0[r],i=e.z1[n],l=e.fv,s=e.dpv,u=e.z2;a--;){var c=t.pop(),d=u[c];F.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"IP[]",c,r,"<->",n),l.interpolate(d,o,i,s),l.touch(d)}e.loop=1}function qf(e,t){var r=t.stack,n=r.pop()/64,a=r.pop(),o=t.z1[a],i=t.z0[t.rp0],l=t.fv,s=t.pv;l.setRelative(o,i,n,s),l.touch(o),F.DEBUG&&console.log(t.step,"MSIRP["+e+"]",n,a),t.rp1=t.rp0,t.rp2=a,e&&(t.rp0=a)}function Sx(e){for(var t=e.stack,r=e.rp0,n=e.z0[r],a=e.loop,o=e.fv,i=e.pv,l=e.z1;a--;){var s=t.pop(),u=l[s];F.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"ALIGNRP[]",s),o.setRelative(u,n,0,i),o.touch(u)}e.loop=1}function wx(e){F.DEBUG&&console.log(e.step,"RTDG[]"),e.round=M1}function Jf(e,t){var r=t.stack,n=r.pop(),a=r.pop(),o=t.z0[a],i=t.fv,l=t.pv,s=t.cvt[n];F.DEBUG&&console.log(t.step,"MIAP["+e+"]",n,"(",s,")",a);var u=l.distance(o,Ga);e&&(Math.abs(u-s)<t.cvCutIn&&(u=s),u=t.round(u)),i.setRelative(o,Ga,u,l),t.zp0===0&&(o.xo=o.x,o.yo=o.y),i.touch(o),t.rp0=t.rp1=a}function bx(e){var t=e.prog,r=e.ip,n=e.stack,a=t[++r];F.DEBUG&&console.log(e.step,"NPUSHB[]",a);for(var o=0;o<a;o++)n.push(t[++r]);e.ip=r}function Tx(e){var t=e.ip,r=e.prog,n=e.stack,a=r[++t];F.DEBUG&&console.log(e.step,"NPUSHW[]",a);for(var o=0;o<a;o++){var i=r[++t]<<8|r[++t];i&32768&&(i=-((i^65535)+1)),n.push(i)}e.ip=t}function Ex(e){var t=e.stack,r=e.store;r||(r=e.store=[]);var n=t.pop(),a=t.pop();F.DEBUG&&console.log(e.step,"WS",n,a),r[a]=n}function Cx(e){var t=e.stack,r=e.store,n=t.pop();F.DEBUG&&console.log(e.step,"RS",n);var a=r&&r[n]||0;t.push(a)}function Fx(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"WCVTP",r,n),e.cvt[n]=r/64}function Rx(e){var t=e.stack,r=t.pop();F.DEBUG&&console.log(e.step,"RCVT",r),t.push(e.cvt[r]*64)}function ed(e,t){var r=t.stack,n=r.pop(),a=t.z2[n];F.DEBUG&&console.log(t.step,"GC["+e+"]",n),r.push(t.dpv.distance(a,Ga,e,!1)*64)}function td(e,t){var r=t.stack,n=r.pop(),a=r.pop(),o=t.z1[n],i=t.z0[a],l=t.dpv.distance(i,o,e,e);F.DEBUG&&console.log(t.step,"MD["+e+"]",n,a,"->",l),t.stack.push(Math.round(l*64))}function _x(e){F.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)}function Nx(e){F.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0}function Lx(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"LT[]",r,n),t.push(n<r?1:0)}function Ox(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"LTEQ[]",r,n),t.push(n<=r?1:0)}function Ux(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"GT[]",r,n),t.push(n>r?1:0)}function Dx(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"GTEQ[]",r,n),t.push(n>=r?1:0)}function Px(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"EQ[]",r,n),t.push(r===n?1:0)}function zx(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"NEQ[]",r,n),t.push(r!==n?1:0)}function Ax(e){var t=e.stack,r=t.pop();F.DEBUG&&console.log(e.step,"ODD[]",r),t.push(Math.trunc(r)%2?1:0)}function Ix(e){var t=e.stack,r=t.pop();F.DEBUG&&console.log(e.step,"EVEN[]",r),t.push(Math.trunc(r)%2?0:1)}function Mx(e){var t=e.stack.pop();F.DEBUG&&console.log(e.step,"IF[]",t),t||(Dv(e,!0),F.DEBUG&&console.log(e.step,"EIF[]"))}function Bx(e){F.DEBUG&&console.log(e.step,"EIF[]")}function jx(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"AND[]",r,n),t.push(r&&n?1:0)}function Gx(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"OR[]",r,n),t.push(r||n?1:0)}function $x(e){var t=e.stack,r=t.pop();F.DEBUG&&console.log(e.step,"NOT[]",r),t.push(r?0:1)}function Ns(e,t){var r=t.stack,n=r.pop(),a=t.fv,o=t.pv,i=t.ppem,l=t.deltaBase+(e-1)*16,s=t.deltaShift,u=t.z0;F.DEBUG&&console.log(t.step,"DELTAP["+e+"]",n,r);for(var c=0;c<n;c++){var d=r.pop(),f=r.pop(),h=l+((f&240)>>4);if(h===i){var y=(f&15)-8;y>=0&&y++,F.DEBUG&&console.log(t.step,"DELTAPFIX",d,"by",y*s);var x=u[d];a.setRelative(x,x,y*s,o)}}}function Hx(e){var t=e.stack,r=t.pop();F.DEBUG&&console.log(e.step,"SDB[]",r),e.deltaBase=r}function Zx(e){var t=e.stack,r=t.pop();F.DEBUG&&console.log(e.step,"SDS[]",r),e.deltaShift=Math.pow(.5,r)}function Wx(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"ADD[]",r,n),t.push(n+r)}function Vx(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"SUB[]",r,n),t.push(n-r)}function Xx(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"DIV[]",r,n),t.push(n*64/r)}function Yx(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"MUL[]",r,n),t.push(n*r/64)}function Qx(e){var t=e.stack,r=t.pop();F.DEBUG&&console.log(e.step,"ABS[]",r),t.push(Math.abs(r))}function Kx(e){var t=e.stack,r=t.pop();F.DEBUG&&console.log(e.step,"NEG[]",r),t.push(-r)}function qx(e){var t=e.stack,r=t.pop();F.DEBUG&&console.log(e.step,"FLOOR[]",r),t.push(Math.floor(r/64)*64)}function Jx(e){var t=e.stack,r=t.pop();F.DEBUG&&console.log(e.step,"CEILING[]",r),t.push(Math.ceil(r/64)*64)}function _o(e,t){var r=t.stack,n=r.pop();F.DEBUG&&console.log(t.step,"ROUND[]"),r.push(t.round(n/64)*64)}function ek(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"WCVTF[]",r,n),e.cvt[n]=r*e.ppem/e.font.unitsPerEm}function Ls(e,t){var r=t.stack,n=r.pop(),a=t.ppem,o=t.deltaBase+(e-1)*16,i=t.deltaShift;F.DEBUG&&console.log(t.step,"DELTAC["+e+"]",n,r);for(var l=0;l<n;l++){var s=r.pop(),u=r.pop(),c=o+((u&240)>>4);if(c===a){var d=(u&15)-8;d>=0&&d++;var f=d*i;F.DEBUG&&console.log(t.step,"DELTACFIX",s,"by",f),t.cvt[s]+=f}}}function tk(e){var t=e.stack.pop();F.DEBUG&&console.log(e.step,"SROUND[]",t),e.round=Uv;var r;switch(t&192){case 0:r=.5;break;case 64:r=1;break;case 128:r=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=r,t&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*r;break;case 32:e.srPhase=.5*r;break;case 48:e.srPhase=.75*r;break;default:throw new Error("invalid SROUND value")}t&=15,t===0?e.srThreshold=0:e.srThreshold=(t/8-.5)*r}function rk(e){var t=e.stack.pop();F.DEBUG&&console.log(e.step,"S45ROUND[]",t),e.round=Uv;var r;switch(t&192){case 0:r=Math.sqrt(2)/2;break;case 64:r=Math.sqrt(2);break;case 128:r=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=r,t&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*r;break;case 32:e.srPhase=.5*r;break;case 48:e.srPhase=.75*r;break;default:throw new Error("invalid S45ROUND value")}t&=15,t===0?e.srThreshold=0:e.srThreshold=(t/8-.5)*r}function nk(e){F.DEBUG&&console.log(e.step,"ROFF[]"),e.round=I1}function ak(e){F.DEBUG&&console.log(e.step,"RUTG[]"),e.round=j1}function ok(e){F.DEBUG&&console.log(e.step,"RDTG[]"),e.round=G1}function ik(e){var t=e.stack.pop();F.DEBUG&&console.log(e.step,"SCANCTRL[]",t)}function rd(e,t){var r=t.stack,n=r.pop(),a=r.pop(),o=t.z2[n],i=t.z1[a];F.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",n,a);var l,s;e?(l=o.y-i.y,s=i.x-o.x):(l=i.x-o.x,s=i.y-o.y),t.dpv=qa(l,s)}function sk(e){var t=e.stack,r=t.pop(),n=0;F.DEBUG&&console.log(e.step,"GETINFO[]",r),r&1&&(n=35),r&32&&(n|=4096),t.push(n)}function lk(e){var t=e.stack,r=t.pop(),n=t.pop(),a=t.pop();F.DEBUG&&console.log(e.step,"ROLL[]"),t.push(n),t.push(r),t.push(a)}function uk(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"MAX[]",r,n),t.push(Math.max(n,r))}function ck(e){var t=e.stack,r=t.pop(),n=t.pop();F.DEBUG&&console.log(e.step,"MIN[]",r,n),t.push(Math.min(n,r))}function fk(e){var t=e.stack.pop();F.DEBUG&&console.log(e.step,"SCANTYPE[]",t)}function dk(e){var t=e.stack.pop(),r=e.stack.pop();switch(F.DEBUG&&console.log(e.step,"INSTCTRL[]",t,r),t){case 1:e.inhibitGridFit=!!r;return;case 2:e.ignoreCvt=!!r;return;default:throw new Error("invalid INSTCTRL[] selector")}}function pr(e,t){var r=t.stack,n=t.prog,a=t.ip;F.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var o=0;o<e;o++)r.push(n[++a]);t.ip=a}function hr(e,t){var r=t.ip,n=t.prog,a=t.stack;F.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var o=0;o<e;o++){var i=n[++r]<<8|n[++r];i&32768&&(i=-((i^65535)+1)),a.push(i)}t.ip=r}function G(e,t,r,n,a,o){var i=o.stack,l=e&&i.pop(),s=i.pop(),u=o.rp0,c=o.z0[u],d=o.z1[s],f=o.minDis,h=o.fv,y=o.dpv,x,k,p,m;k=x=y.distance(d,c,!0,!0),p=k>=0?1:-1,k=Math.abs(k),e&&(m=o.cvt[l],n&&Math.abs(k-m)<o.cvCutIn&&(k=m)),r&&k<f&&(k=f),n&&(k=o.round(k)),h.setRelative(d,c,p*k,y),h.touch(d),F.DEBUG&&console.log(o.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(r?">":"_")+(n?"R":"_")+(a===0?"Gr":a===1?"Bl":a===2?"Wh":"")+"]",e?l+"("+o.cvt[l]+","+m+")":"",s,"(d =",x,"->",p*k,")"),o.rp1=o.rp0,o.rp2=s,t&&(o.rp0=s)}_v=[Gf.bind(void 0,nr),Gf.bind(void 0,Yt),$f.bind(void 0,nr),$f.bind(void 0,Yt),Hf.bind(void 0,nr),Hf.bind(void 0,Yt),Zf.bind(void 0,0),Zf.bind(void 0,1),Wf.bind(void 0,0),Wf.bind(void 0,1),H1,Z1,W1,V1,X1,Y1,Q1,K1,q1,J1,ex,tx,rx,nx,ax,ox,ix,sx,lx,ux,void 0,void 0,cx,_s,fx,dx,px,gx,mx,void 0,void 0,void 0,hx,vx,yx,void 0,Vf.bind(void 0,0),Vf.bind(void 0,1),Xf.bind(void 0,nr),Xf.bind(void 0,Yt),Yf.bind(void 0,0),Yf.bind(void 0,1),Qf.bind(void 0,0),Qf.bind(void 0,1),Kf.bind(void 0,0),Kf.bind(void 0,1),xx,kx,qf.bind(void 0,0),qf.bind(void 0,1),Sx,wx,Jf.bind(void 0,0),Jf.bind(void 0,1),bx,Tx,Ex,Cx,Fx,Rx,ed.bind(void 0,0),ed.bind(void 0,1),void 0,td.bind(void 0,0),td.bind(void 0,1),_x,void 0,Nx,void 0,void 0,Lx,Ox,Ux,Dx,Px,zx,Ax,Ix,Mx,Bx,jx,Gx,$x,Ns.bind(void 0,1),Hx,Zx,Wx,Vx,Xx,Yx,Qx,Kx,qx,Jx,_o.bind(void 0,0),_o.bind(void 0,1),_o.bind(void 0,2),_o.bind(void 0,3),void 0,void 0,void 0,void 0,ek,Ns.bind(void 0,2),Ns.bind(void 0,3),Ls.bind(void 0,1),Ls.bind(void 0,2),Ls.bind(void 0,3),tk,rk,void 0,void 0,nk,void 0,ak,ok,_s,_s,void 0,void 0,void 0,void 0,void 0,ik,rd.bind(void 0,0),rd.bind(void 0,1),sk,void 0,lk,uk,ck,fk,dk,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,pr.bind(void 0,1),pr.bind(void 0,2),pr.bind(void 0,3),pr.bind(void 0,4),pr.bind(void 0,5),pr.bind(void 0,6),pr.bind(void 0,7),pr.bind(void 0,8),hr.bind(void 0,1),hr.bind(void 0,2),hr.bind(void 0,3),hr.bind(void 0,4),hr.bind(void 0,5),hr.bind(void 0,6),hr.bind(void 0,7),hr.bind(void 0,8),G.bind(void 0,0,0,0,0,0),G.bind(void 0,0,0,0,0,1),G.bind(void 0,0,0,0,0,2),G.bind(void 0,0,0,0,0,3),G.bind(void 0,0,0,0,1,0),G.bind(void 0,0,0,0,1,1),G.bind(void 0,0,0,0,1,2),G.bind(void 0,0,0,0,1,3),G.bind(void 0,0,0,1,0,0),G.bind(void 0,0,0,1,0,1),G.bind(void 0,0,0,1,0,2),G.bind(void 0,0,0,1,0,3),G.bind(void 0,0,0,1,1,0),G.bind(void 0,0,0,1,1,1),G.bind(void 0,0,0,1,1,2),G.bind(void 0,0,0,1,1,3),G.bind(void 0,0,1,0,0,0),G.bind(void 0,0,1,0,0,1),G.bind(void 0,0,1,0,0,2),G.bind(void 0,0,1,0,0,3),G.bind(void 0,0,1,0,1,0),G.bind(void 0,0,1,0,1,1),G.bind(void 0,0,1,0,1,2),G.bind(void 0,0,1,0,1,3),G.bind(void 0,0,1,1,0,0),G.bind(void 0,0,1,1,0,1),G.bind(void 0,0,1,1,0,2),G.bind(void 0,0,1,1,0,3),G.bind(void 0,0,1,1,1,0),G.bind(void 0,0,1,1,1,1),G.bind(void 0,0,1,1,1,2),G.bind(void 0,0,1,1,1,3),G.bind(void 0,1,0,0,0,0),G.bind(void 0,1,0,0,0,1),G.bind(void 0,1,0,0,0,2),G.bind(void 0,1,0,0,0,3),G.bind(void 0,1,0,0,1,0),G.bind(void 0,1,0,0,1,1),G.bind(void 0,1,0,0,1,2),G.bind(void 0,1,0,0,1,3),G.bind(void 0,1,0,1,0,0),G.bind(void 0,1,0,1,0,1),G.bind(void 0,1,0,1,0,2),G.bind(void 0,1,0,1,0,3),G.bind(void 0,1,0,1,1,0),G.bind(void 0,1,0,1,1,1),G.bind(void 0,1,0,1,1,2),G.bind(void 0,1,0,1,1,3),G.bind(void 0,1,1,0,0,0),G.bind(void 0,1,1,0,0,1),G.bind(void 0,1,1,0,0,2),G.bind(void 0,1,1,0,0,3),G.bind(void 0,1,1,0,1,0),G.bind(void 0,1,1,0,1,1),G.bind(void 0,1,1,0,1,2),G.bind(void 0,1,1,0,1,3),G.bind(void 0,1,1,1,0,0),G.bind(void 0,1,1,1,0,1),G.bind(void 0,1,1,1,0,2),G.bind(void 0,1,1,1,0,3),G.bind(void 0,1,1,1,1,0),G.bind(void 0,1,1,1,1,1),G.bind(void 0,1,1,1,1,2),G.bind(void 0,1,1,1,1,3)];function Kn(e){this.char=e,this.state={},this.activeState=null}function Hu(e,t,r){this.contextName=r,this.startIndex=e,this.endOffset=t}function pk(e,t,r){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=r}function Mt(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function Zi(e){this.eventId=e,this.subscribers=[]}function hk(e){var t=this,r=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];r.forEach(function(a){Object.defineProperty(t.events,a,{value:new Zi(a)})}),e&&r.forEach(function(a){var o=e[a];typeof o=="function"&&t.events[a].subscribe(o)});var n=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];n.forEach(function(a){t.events[a].subscribe(t.updateContextsRanges)})}function Fe(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],hk.call(this,e)}Kn.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState};Kn.prototype.getState=function(e){return this.state[e]||null};Fe.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length};Fe.prototype.composeRUD=function(e){var t=this,r=!0,n=e.map(function(o){return t[o[0]].apply(t,o.slice(1).concat(r))}),a=function(o){return typeof o=="object"&&o.hasOwnProperty("FAIL")};if(n.every(a))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:n.filter(a)};this.dispatch("composeRUD",[n.filter(function(o){return!a(o)})])};Fe.prototype.replaceRange=function(e,t,r,n){t=t!==null?t:this.tokens.length;var a=r.every(function(i){return i instanceof Kn});if(!isNaN(e)&&this.inboundIndex(e)&&a){var o=this.tokens.splice.apply(this.tokens,[e,t].concat(r));return n||this.dispatch("replaceToken",[e,t,r]),[o,r]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};Fe.prototype.replaceToken=function(e,t,r){if(!isNaN(e)&&this.inboundIndex(e)&&t instanceof Kn){var n=this.tokens.splice(e,1,t);return r||this.dispatch("replaceToken",[e,t]),[n[0],t]}else return{FAIL:"replaceToken: invalid token or index."}};Fe.prototype.removeRange=function(e,t,r){t=isNaN(t)?this.tokens.length:t;var n=this.tokens.splice(e,t);return r||this.dispatch("removeRange",[n,e,t]),n};Fe.prototype.removeToken=function(e,t){if(!isNaN(e)&&this.inboundIndex(e)){var r=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[r,e]),r}else return{FAIL:"removeToken: invalid token index."}};Fe.prototype.insertToken=function(e,t,r){var n=e.every(function(a){return a instanceof Kn});return n?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),r||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}};Fe.prototype.registerModifier=function(e,t,r){this.events.newToken.subscribe(function(n,a){var o=[n,a],i=t===null||t.apply(this,o)===!0,l=[n,a];if(i){var s=r.apply(this,l);n.setState(e,s)}}),this.registeredModifiers.push(e)};Zi.prototype.subscribe=function(e){return typeof e=="function"?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};Zi.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)};Mt.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)};Mt.prototype.get=function(e){switch(!0){case e===0:return this.current;case(e<0&&Math.abs(e)<=this.backtrack.length):return this.backtrack.slice(e)[0];case(e>0&&e<=this.lookahead.length):return this.lookahead[e-1];default:return null}};Fe.prototype.rangeToText=function(e){if(e instanceof Hu)return this.getRangeTokens(e).map(function(t){return t.char}).join("")};Fe.prototype.getText=function(){return this.tokens.map(function(e){return e.char}).join("")};Fe.prototype.getContext=function(e){var t=this.registeredContexts[e];return t||null};Fe.prototype.on=function(e,t){var r=this.events[e];return r?r.subscribe(t):null};Fe.prototype.dispatch=function(e,t){var r=this,n=this.events[e];n instanceof Zi&&n.subscribers.forEach(function(a){a.apply(r,t||[])})};Fe.prototype.registerContextChecker=function(e,t,r){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if(typeof t!="function")return{FAIL:"missing context start check."};if(typeof r!="function")return{FAIL:"missing context end check."};var n=new pk(e,t,r);return this.registeredContexts[e]=n,this.contextCheckers.push(n),n};Fe.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))};Fe.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}};Fe.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];r.ranges=[]}};Fe.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map(function(n){return n.char}),t=0;t<e.length;t++){var r=new Mt(e,t);this.runContextCheck(r)}this.dispatch("updateContextsRanges",[this.registeredContexts])};Fe.prototype.setEndOffset=function(e,t){var r=this.getContext(t).openRange.startIndex,n=new Hu(r,e,t),a=this.getContext(t).ranges;return n.rangeId=t+"."+a.length,a.push(n),this.getContext(t).openRange=null,n};Fe.prototype.runContextCheck=function(e){var t=this,r=e.index;this.contextCheckers.forEach(function(n){var a=n.contextName,o=t.getContext(a).openRange;if(!o&&n.checkStart(e)&&(o=new Hu(r,null,a),t.getContext(a).openRange=o,t.dispatch("contextStart",[a,r])),o&&n.checkEnd(e)){var i=r-o.startIndex+1,l=t.setEndOffset(i,a);t.dispatch("contextEnd",[a,l])}})};Fe.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var r=0;r<t.length;r++){var n=t[r],a=new Mt(t,r);this.dispatch("next",[a]),this.runContextCheck(a);var o=new Kn(n);this.tokens.push(o),this.dispatch("newToken",[o,a])}return this.dispatch("end",[this.tokens]),this.tokens};function Lr(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function Pv(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function Dr(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function Vo(e){return/[A-z]/.test(e)}function vk(e){return/\s/.test(e)}function wt(e){this.font=e,this.features={}}function Vr(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function Ja(e,t){if(!e)return-1;switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var r=t.ranges,n=0;n<r.length;n++){var a=r[n];if(e>=a.start&&e<=a.end){var o=e-a.start;return a.index+o}}break;default:return-1}return-1}function gk(e,t){var r=Ja(e,t.coverage);return r===-1?null:e+t.deltaGlyphId}function mk(e,t){var r=Ja(e,t.coverage);return r===-1?null:t.substitute[r]}function Os(e,t){for(var r=[],n=0;n<e.length;n++){var a=e[n],o=t.current;o=Array.isArray(o)?o[0]:o;var i=Ja(o,a);i!==-1&&r.push(i)}return r.length!==e.length?-1:r}function yk(e,t){var r=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<r)return[];var n=Os(t.inputCoverage,e);if(n===-1)return[];var a=t.inputCoverage.length-1;if(e.lookahead.length<t.lookaheadCoverage.length)return[];for(var o=e.lookahead.slice(a);o.length&&Dr(o[0].char);)o.shift();var i=new Mt(o,0),l=Os(t.lookaheadCoverage,i),s=[].concat(e.backtrack);for(s.reverse();s.length&&Dr(s[0].char);)s.shift();if(s.length<t.backtrackCoverage.length)return[];var u=new Mt(s,0),c=Os(t.backtrackCoverage,u),d=n.length===t.inputCoverage.length&&l.length===t.lookaheadCoverage.length&&c.length===t.backtrackCoverage.length,f=[];if(d)for(var h=0;h<t.lookupRecords.length;h++)for(var y=t.lookupRecords[h],x=y.lookupListIndex,k=this.getLookupByIndex(x),p=0;p<k.subtables.length;p++){var m=k.subtables[p],g=this.getLookupMethod(k,m),S=this.getSubstitutionType(k,m);if(S==="12")for(var E=0;E<n.length;E++){var N=e.get(E),w=g(N);w&&f.push(w)}}return f}function xk(e,t){var r=e.current,n=Ja(r,t.coverage);if(n===-1)return null;for(var a,o=t.ligatureSets[n],i=0;i<o.length;i++){a=o[i];for(var l=0;l<a.components.length;l++){var s=e.lookahead[l],u=a.components[l];if(s!==u)break;if(l===a.components.length-1)return a}}return null}function kk(e,t){var r=Ja(e,t.coverage);return r===-1?null:t.sequences[r]}wt.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var r=e[t];if(r.tag==="DFLT")return r.script.defaultLangSys.featureIndexes}return[]};wt.prototype.getScriptFeaturesIndexes=function(e){var t=this.font.tables;if(!t.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var r=this.font.tables.gsub.scripts,n=0;n<r.length;n++){var a=r[n];if(a.tag===e&&a.script.defaultLangSys)return a.script.defaultLangSys.featureIndexes;var o=a.langSysRecords;if(o)for(var i=0;i<o.length;i++){var l=o[i];if(l.tag===e){var s=l.langSys;return s.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};wt.prototype.mapTagsToFeatures=function(e,t){for(var r={},n=0;n<e.length;n++){var a=e[n].tag,o=e[n].feature;r[a]=o}this.features[t].tags=r};wt.prototype.getScriptFeatures=function(e){var t=this.features[e];if(this.features.hasOwnProperty(e))return t;var r=this.getScriptFeaturesIndexes(e);if(!r)return null;var n=this.font.tables.gsub;return t=r.map(function(a){return n.features[a]}),this.features[e]=t,this.mapTagsToFeatures(t,e),t};wt.prototype.getSubstitutionType=function(e,t){var r=e.lookupType.toString(),n=t.substFormat.toString();return r+n};wt.prototype.getLookupMethod=function(e,t){var r=this,n=this.getSubstitutionType(e,t);switch(n){case"11":return function(a){return gk.apply(r,[a,t])};case"12":return function(a){return mk.apply(r,[a,t])};case"63":return function(a){return yk.apply(r,[a,t])};case"41":return function(a){return xk.apply(r,[a,t])};case"21":return function(a){return kk.apply(r,[a,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}};wt.prototype.lookupFeature=function(e){var t=e.contextParams,r=t.index,n=this.getFeature({tag:e.tag,script:e.script});if(!n)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var a=this.getFeatureLookups(n),o=[].concat(t.context),i=0;i<a.length;i++)for(var l=a[i],s=this.getLookupSubtables(l),u=0;u<s.length;u++){var c=s[u],d=this.getSubstitutionType(l,c),f=this.getLookupMethod(l,c),h=void 0;switch(d){case"11":h=f(t.current),h&&o.splice(r,1,new Vr({id:11,tag:e.tag,substitution:h}));break;case"12":h=f(t.current),h&&o.splice(r,1,new Vr({id:12,tag:e.tag,substitution:h}));break;case"63":h=f(t),Array.isArray(h)&&h.length&&o.splice(r,1,new Vr({id:63,tag:e.tag,substitution:h}));break;case"41":h=f(t),h&&o.splice(r,1,new Vr({id:41,tag:e.tag,substitution:h}));break;case"21":h=f(t.current),h&&o.splice(r,1,new Vr({id:21,tag:e.tag,substitution:h}));break}t=new Mt(o,r),!(Array.isArray(h)&&!h.length)&&(h=null)}return o.length?o:null};wt.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var t=this.features.hasOwnProperty(e.script);if(!e.tag)return t;var r=this.features[e.script].some(function(n){return n.tag===e.tag});return t&&r};wt.prototype.getLookupSubtables=function(e){return e.subtables||null};wt.prototype.getLookupByIndex=function(e){var t=this.font.tables.gsub.lookups;return t[e]||null};wt.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))};wt.prototype.getFeature=function(t){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(t.script)||this.getScriptFeatures(t.script);var r=this.features[t.script];return r?r.tags[t.tag]?this.features[t.script].tags[t.tag]:null:{FAIL:"No feature for script "+t.script}};function Sk(e){var t=e.current,r=e.get(-1);return r===null&&Lr(t)||!Lr(r)&&Lr(t)}function wk(e){var t=e.get(1);return t===null||!Lr(t)}var bk={startCheck:Sk,endCheck:wk};function Tk(e){var t=e.current,r=e.get(-1);return(Lr(t)||Dr(t))&&!Lr(r)}function Ek(e){var t=e.get(1);switch(!0){case t===null:return!0;case(!Lr(t)&&!Dr(t)):var r=vk(t);if(!r)return!0;if(r){var n=!1;if(n=e.lookahead.some(function(a){return Lr(a)||Dr(a)}),!n)return!0}break;default:return!1}}var Ck={startCheck:Tk,endCheck:Ek};function Fk(e,t,r){t[r].setState(e.tag,e.substitution)}function Rk(e,t,r){t[r].setState(e.tag,e.substitution)}function _k(e,t,r){e.substitution.forEach(function(n,a){var o=t[r+a];o.setState(e.tag,n)})}function Nk(e,t,r){var n=t[r];n.setState(e.tag,e.substitution.ligGlyph);for(var a=e.substitution.components.length,o=0;o<a;o++)n=t[r+o+1],n.setState("deleted",!0)}var nd={11:Fk,12:Rk,63:_k,41:Nk};function Zu(e,t,r){e instanceof Vr&&nd[e.id]&&nd[e.id](e,t,r)}function Lk(e){for(var t=[].concat(e.backtrack),r=t.length-1;r>=0;r--){var n=t[r],a=Pv(n),o=Dr(n);if(!a&&!o)return!0;if(a)return!1}return!1}function Ok(e){if(Pv(e.current))return!1;for(var t=0;t<e.lookahead.length;t++){var r=e.lookahead[t],n=Dr(r);if(!n)return!0}return!1}function Uk(e){var t=this,r="arab",n=this.featuresTags[r],a=this.tokenizer.getRangeTokens(e);if(a.length!==1){var o=new Mt(a.map(function(l){return l.getState("glyphIndex")}),0),i=new Mt(a.map(function(l){return l.char}),0);a.forEach(function(l,s){if(!Dr(l.char)){o.setCurrentIndex(s),i.setCurrentIndex(s);var u=0;Lk(i)&&(u|=1),Ok(i)&&(u|=2);var c;switch(u){case 1:c="fina";break;case 2:c="init";break;case 3:c="medi";break}if(n.indexOf(c)!==-1){var d=t.query.lookupFeature({tag:c,script:r,contextParams:o});if(d instanceof Error)return console.info(d.message);d.forEach(function(f,h){f instanceof Vr&&(Zu(f,a,h),o.context[h]=f.substitution)})}}})}}function ad(e,t){var r=e.map(function(n){return n.activeState.value});return new Mt(r,0)}function Dk(e){var t=this,r="arab",n=this.tokenizer.getRangeTokens(e),a=ad(n);a.context.forEach(function(o,i){a.setCurrentIndex(i);var l=t.query.lookupFeature({tag:"rlig",script:r,contextParams:a});l.length&&(l.forEach(function(s){return Zu(s,n,i)}),a=ad(n))})}function Pk(e){var t=e.current,r=e.get(-1);return r===null&&Vo(t)||!Vo(r)&&Vo(t)}function zk(e){var t=e.get(1);return t===null||!Vo(t)}var Ak={startCheck:Pk,endCheck:zk};function od(e,t){var r=e.map(function(n){return n.activeState.value});return new Mt(r,0)}function Ik(e){var t=this,r="latn",n=this.tokenizer.getRangeTokens(e),a=od(n);a.context.forEach(function(o,i){a.setCurrentIndex(i);var l=t.query.lookupFeature({tag:"liga",script:r,contextParams:a});l.length&&(l.forEach(function(s){return Zu(s,n,i)}),a=od(n))})}function Gt(e){this.baseDir=e||"ltr",this.tokenizer=new Fe,this.featuresTags={}}Gt.prototype.setText=function(e){this.text=e};Gt.prototype.contextChecks={latinWordCheck:Ak,arabicWordCheck:bk,arabicSentenceCheck:Ck};function Us(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function Mk(){return Us.call(this,"latinWord"),Us.call(this,"arabicWord"),Us.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function Bk(){var e=this,t=this.tokenizer.getContextRanges("arabicSentence");t.forEach(function(r){var n=e.tokenizer.getRangeTokens(r);e.tokenizer.replaceRange(r.startIndex,r.endOffset,n.reverse())})}Gt.prototype.registerFeatures=function(e,t){var r=this,n=t.filter(function(a){return r.query.supports({script:e,tag:a})});this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(n):this.featuresTags[e]=n};Gt.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new wt(e));for(var r=0;r<t.length;r++){var n=t[r];this.query.supports({script:n.script})&&this.registerFeatures(n.script,n.tags)}};Gt.prototype.registerModifier=function(e,t,r){this.tokenizer.registerModifier(e,t,r)};function Wu(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function jk(){var e=this,t="arab";if(this.featuresTags.hasOwnProperty(t)){Wu.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(n){Uk.call(e,n)})}}function Gk(){var e=this,t="arab";if(this.featuresTags.hasOwnProperty(t)){var r=this.featuresTags[t];if(r.indexOf("rlig")!==-1){Wu.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(a){Dk.call(e,a)})}}}function $k(){var e=this,t="latn";if(this.featuresTags.hasOwnProperty(t)){var r=this.featuresTags[t];if(r.indexOf("liga")!==-1){Wu.call(this);var n=this.tokenizer.getContextRanges("latinWord");n.forEach(function(a){Ik.call(e,a)})}}}Gt.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)};Gt.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(jk.call(this),Gk.call(this)),this.checkContextReady("latinWord")&&$k.call(this),this.checkContextReady("arabicSentence")&&Bk.call(this)};Gt.prototype.processText=function(e){(!this.text||this.text!==e)&&(this.setText(e),Mk.call(this),this.applyFeaturesToContexts())};Gt.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()};Gt.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],r=0;r<this.tokenizer.tokens.length;r++){var n=this.tokenizer.tokens[r];if(!n.state.deleted){var a=n.activeState.value;t.push(Array.isArray(a)?a[0]:a)}}return t};function ue(e){e=e||{},e.tables=e.tables||{},e.empty||(sa(e.familyName,"When creating a new Font object, familyName is required."),sa(e.styleName,"When creating a new Font object, styleName is required."),sa(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),sa(e.ascender,"When creating a new Font object, ascender is required."),sa(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new qt.GlyphSet(this,e.glyphs||[]),this.encoding=new Jh(this),this.position=new Qa(this),this.substitution=new St(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new Lv(this)}})}ue.prototype.hasChar=function(e){return this.encoding.charToGlyphIndex(e)!==null};ue.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)};ue.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r};ue.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map(function(t){return t.script==="latn"?{script:"latn",tags:t.tags.filter(function(r){return e[r]})}:t})};ue.prototype.stringToGlyphs=function(e,t){var r=this,n=new Gt,a=function(d){return r.charToGlyphIndex(d.char)};n.registerModifier("glyphIndex",null,a);var o=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;n.applyFeatures(this,o);for(var i=n.getTextGlyphs(e),l=i.length,s=new Array(l),u=this.glyphs.get(0),c=0;c<l;c+=1)s[c]=this.glyphs.get(i[c])||u;return s};ue.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)};ue.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r};ue.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""};ue.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.position.defaultKerningTables;return r?this.position.getKerningValue(r,e,t):this.kerningPairs[e+","+t]||0};ue.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};ue.prototype.forEachGlyph=function(e,t,r,n,a,o){t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:72,a=Object.assign({},this.defaultRenderOptions,a);var i=1/this.unitsPerEm*n,l=this.stringToGlyphs(e,a),s;if(a.kerning){var u=a.script||this.position.getDefaultScriptName();s=this.position.getKerningTables(u,a.language)}for(var c=0;c<l.length;c+=1){var d=l[c];if(o.call(this,d,t,r,n,a),d.advanceWidth&&(t+=d.advanceWidth*i),a.kerning&&c<l.length-1){var f=s?this.position.getKerningValue(s,d.index,l[c+1].index):this.getKerningValue(d,l[c+1]);t+=f*i}a.letterSpacing?t+=a.letterSpacing*n:a.tracking&&(t+=a.tracking/1e3*n)}return t};ue.prototype.getPath=function(e,t,r,n,a){var o=new De;return this.forEachGlyph(e,t,r,n,a,function(i,l,s,u){var c=i.getPath(l,s,u,a,this);o.extend(c)}),o};ue.prototype.getPaths=function(e,t,r,n,a){var o=[];return this.forEachGlyph(e,t,r,n,a,function(i,l,s,u){var c=i.getPath(l,s,u,a,this);o.push(c)}),o};ue.prototype.getAdvanceWidth=function(e,t,r){return this.forEachGlyph(e,0,0,t,r,function(){})};ue.prototype.draw=function(e,t,r,n,a,o){this.getPath(t,r,n,a,o).draw(e)};ue.prototype.drawPoints=function(e,t,r,n,a,o){this.forEachGlyph(t,r,n,a,o,function(i,l,s,u){i.drawPoints(e,l,s,u)})};ue.prototype.drawMetrics=function(e,t,r,n,a,o){this.forEachGlyph(t,r,n,a,o,function(i,l,s,u){i.drawMetrics(e,l,s,u)})};ue.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en};ue.prototype.validate=function(){var e=this;function t(n,a){}function r(n){var a=e.getEnglishName(n);a&&a.trim().length>0}r("fontFamily"),r("weightName"),r("manufacturer"),r("copyright"),r("version"),this.unitsPerEm>0};ue.prototype.toTables=function(){return N1.fontToTable(this)};ue.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};ue.prototype.toArrayBuffer=function(){for(var e=this.toTables(),t=e.encode(),r=new ArrayBuffer(t.length),n=new Uint8Array(r),a=0;a<t.length;a++)n[a]=t[a];return r};ue.prototype.download=function(e){var t=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");e=e||t.replace(/\s/g,"")+"-"+r+".otf";var n=this.toArrayBuffer();if(O1())if(window.URL=window.URL||window.webkitURL,window.URL){var a=new DataView(n),o=new Blob([a],{type:"font/opentype"}),i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.download=e;var l=document.createEvent("MouseEvents");l.initEvent("click",!0,!1),i.dispatchEvent(l)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var s=require("fs"),u=U1(n);s.writeFileSync(e,u)}};ue.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};ue.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};ue.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function zv(e,t){var r=JSON.stringify(e),n=256;for(var a in t){var o=parseInt(a);if(!(!o||o<256)){if(JSON.stringify(t[a])===r)return o;n<=o&&(n=o+1)}}return t[n]=e,n}function Hk(e,t,r){var n=zv(t.name,r);return[{name:"tag_"+e,type:"TAG",value:t.tag},{name:"minValue_"+e,type:"FIXED",value:t.minValue<<16},{name:"defaultValue_"+e,type:"FIXED",value:t.defaultValue<<16},{name:"maxValue_"+e,type:"FIXED",value:t.maxValue<<16},{name:"flags_"+e,type:"USHORT",value:0},{name:"nameID_"+e,type:"USHORT",value:n}]}function Zk(e,t,r){var n={},a=new $.Parser(e,t);return n.tag=a.parseTag(),n.minValue=a.parseFixed(),n.defaultValue=a.parseFixed(),n.maxValue=a.parseFixed(),a.skip("uShort",1),n.name=r[a.parseUShort()]||{},n}function Wk(e,t,r,n){for(var a=zv(t.name,n),o=[{name:"nameID_"+e,type:"USHORT",value:a},{name:"flags_"+e,type:"USHORT",value:0}],i=0;i<r.length;++i){var l=r[i].tag;o.push({name:"axis_"+e+" "+l,type:"FIXED",value:t.coordinates[l]<<16})}return o}function Vk(e,t,r,n){var a={},o=new $.Parser(e,t);a.name=n[o.parseUShort()]||{},o.skip("uShort",1),a.coordinates={};for(var i=0;i<r.length;++i)a.coordinates[r[i].tag]=o.parseFixed();return a}function Xk(e,t){var r=new I.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+e.axes.length*4}]);r.offsetToData=r.sizeOf();for(var n=0;n<e.axes.length;n++)r.fields=r.fields.concat(Hk(n,e.axes[n],t));for(var a=0;a<e.instances.length;a++)r.fields=r.fields.concat(Wk(a,e.instances[a],e.axes,t));return r}function Yk(e,t,r){var n=new $.Parser(e,t),a=n.parseULong();q.argument(a===65536,"Unsupported fvar table version.");var o=n.parseOffset16();n.skip("uShort",1);for(var i=n.parseUShort(),l=n.parseUShort(),s=n.parseUShort(),u=n.parseUShort(),c=[],d=0;d<i;d++)c.push(Zk(e,t+o+d*l,r));for(var f=[],h=t+o+i*l,y=0;y<s;y++)f.push(Vk(e,h+y*u,c,r));return{axes:c,instances:f}}var Qk={make:Xk,parse:Yk},Kk=function(){return{coverage:this.parsePointer(b.coverage),attachPoints:this.parseList(b.pointer(b.uShortList))}},qk=function(){var e=this.parseUShort();if(q.argument(e===1||e===2||e===3,"Unsupported CaretValue table version."),e===1)return{coordinate:this.parseShort()};if(e===2)return{pointindex:this.parseShort()};if(e===3)return{coordinate:this.parseShort()}},Jk=function(){return this.parseList(b.pointer(qk))},eS=function(){return{coverage:this.parsePointer(b.coverage),ligGlyphs:this.parseList(b.pointer(Jk))}},tS=function(){return this.parseUShort(),this.parseList(b.pointer(b.coverage))};function rS(e,t){t=t||0;var r=new b(e,t),n=r.parseVersion(1);q.argument(n===1||n===1.2||n===1.3,"Unsupported GDEF table version.");var a={version:n,classDef:r.parsePointer(b.classDef),attachList:r.parsePointer(Kk),ligCaretList:r.parsePointer(eS),markAttachClassDef:r.parsePointer(b.classDef)};return n>=1.2&&(a.markGlyphSets=r.parsePointer(tS)),a}var nS={parse:rS},Bt=new Array(10);Bt[1]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{posFormat:1,coverage:this.parsePointer(b.coverage),value:this.parseValueRecord()};if(r===2)return{posFormat:2,coverage:this.parsePointer(b.coverage),values:this.parseValueRecordList()};q.assert(!1,"0x"+t.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Bt[2]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();q.assert(r===1||r===2,"0x"+t.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var n=this.parsePointer(b.coverage),a=this.parseUShort(),o=this.parseUShort();if(r===1)return{posFormat:r,coverage:n,valueFormat1:a,valueFormat2:o,pairSets:this.parseList(b.pointer(b.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(a),value2:this.parseValueRecord(o)}})))};if(r===2){var i=this.parsePointer(b.classDef),l=this.parsePointer(b.classDef),s=this.parseUShort(),u=this.parseUShort();return{posFormat:r,coverage:n,valueFormat1:a,valueFormat2:o,classDef1:i,classDef2:l,class1Count:s,class2Count:u,classRecords:this.parseList(s,b.list(u,function(){return{value1:this.parseValueRecord(a),value2:this.parseValueRecord(o)}}))}}};Bt[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Bt[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Bt[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Bt[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Bt[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Bt[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Bt[9]=function(){return{error:"GPOS Lookup 9 not supported"}};function aS(e,t){t=t||0;var r=new b(e,t),n=r.parseVersion(1);return q.argument(n===1||n===1.1,"Unsupported GPOS table version "+n),n===1?{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(Bt)}:{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(Bt),variations:r.parseFeatureVariationsList()}}var oS=new Array(10);function iS(e){return new I.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new I.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new I.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new I.LookupList(e.lookups,oS)}])}var sS={parse:aS,make:iS};function lS(e){var t={};e.skip("uShort");var r=e.parseUShort();q.argument(r===0,"Unsupported kern sub-table version."),e.skip("uShort",2);var n=e.parseUShort();e.skip("uShort",3);for(var a=0;a<n;a+=1){var o=e.parseUShort(),i=e.parseUShort(),l=e.parseShort();t[o+","+i]=l}return t}function uS(e){var t={};e.skip("uShort");var r=e.parseULong();r>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var n=e.parseUShort(),a=n&255;if(e.skip("uShort"),a===0){var o=e.parseUShort();e.skip("uShort",3);for(var i=0;i<o;i+=1){var l=e.parseUShort(),s=e.parseUShort(),u=e.parseShort();t[l+","+s]=u}}return t}function cS(e,t){var r=new $.Parser(e,t),n=r.parseUShort();if(n===0)return lS(r);if(n===1)return uS(r);throw new Error("Unsupported kern table version ("+n+").")}var fS={parse:cS};function dS(e,t,r,n){for(var a=new $.Parser(e,t),o=n?a.parseUShort:a.parseULong,i=[],l=0;l<r+1;l+=1){var s=o.call(a);n&&(s*=2),i.push(s)}return i}var pS={parse:dS};function hS(e,t){var r=require("fs");r.readFile(e,function(n,a){if(n)return t(n.message);t(null,Tv(a))})}function vS(e,t){var r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="arraybuffer",r.onload=function(){return r.response?t(null,r.response):t("Font could not be loaded: "+r.statusText)},r.onerror=function(){t("Font could not be loaded")},r.send()}function id(e,t){for(var r=[],n=12,a=0;a<t;a+=1){var o=$.getTag(e,n),i=$.getULong(e,n+4),l=$.getULong(e,n+8),s=$.getULong(e,n+12);r.push({tag:o,checksum:i,offset:l,length:s,compression:!1}),n+=16}return r}function gS(e,t){for(var r=[],n=44,a=0;a<t;a+=1){var o=$.getTag(e,n),i=$.getULong(e,n+4),l=$.getULong(e,n+8),s=$.getULong(e,n+12),u=void 0;l<s?u="WOFF":u=!1,r.push({tag:o,offset:i,compression:u,compressedLength:l,length:s}),n+=20}return r}function _e(e,t){if(t.compression==="WOFF"){var r=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),n=new Uint8Array(t.length);if(sy(r,n),n.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");var a=new DataView(n.buffer,0);return{data:a,offset:0}}else return{data:e,offset:t.offset}}function Vu(e,t){t=t??{};var r,n,a=new ue({empty:!0}),o=new DataView(e,0),i,l=[],s=$.getTag(o,0);if(s==="\0\0\0"||s==="true"||s==="typ1")a.outlinesFormat="truetype",i=$.getUShort(o,4),l=id(o,i);else if(s==="OTTO")a.outlinesFormat="cff",i=$.getUShort(o,4),l=id(o,i);else if(s==="wOFF"){var u=$.getTag(o,4);if(u==="\0\0\0")a.outlinesFormat="truetype";else if(u==="OTTO")a.outlinesFormat="cff";else throw new Error("Unsupported OpenType flavor "+s);i=$.getUShort(o,12),l=gS(o,i)}else throw new Error("Unsupported OpenType signature "+s);for(var c,d,f,h,y,x,k,p,m,g,S,E,N=0;N<i;N+=1){var w=l[N],T=void 0;switch(w.tag){case"cmap":T=_e(o,w),a.tables.cmap=qh.parse(T.data,T.offset),a.encoding=new ev(a.tables.cmap);break;case"cvt ":T=_e(o,w),E=new $.Parser(T.data,T.offset),a.tables.cvt=E.parseShortList(w.length/2);break;case"fvar":d=w;break;case"fpgm":T=_e(o,w),E=new $.Parser(T.data,T.offset),a.tables.fpgm=E.parseByteList(w.length);break;case"head":T=_e(o,w),a.tables.head=cv.parse(T.data,T.offset),a.unitsPerEm=a.tables.head.unitsPerEm,r=a.tables.head.indexToLocFormat;break;case"hhea":T=_e(o,w),a.tables.hhea=fv.parse(T.data,T.offset),a.ascender=a.tables.hhea.ascender,a.descender=a.tables.hhea.descender,a.numberOfHMetrics=a.tables.hhea.numberOfHMetrics;break;case"hmtx":k=w;break;case"ltag":T=_e(o,w),n=pv.parse(T.data,T.offset);break;case"maxp":T=_e(o,w),a.tables.maxp=hv.parse(T.data,T.offset),a.numGlyphs=a.tables.maxp.numGlyphs;break;case"name":g=w;break;case"OS/2":T=_e(o,w),a.tables.os2=Al.parse(T.data,T.offset);break;case"post":T=_e(o,w),a.tables.post=kv.parse(T.data,T.offset),a.glyphNames=new Bu(a.tables.post);break;case"prep":T=_e(o,w),E=new $.Parser(T.data,T.offset),a.tables.prep=E.parseByteList(w.length);break;case"glyf":f=w;break;case"loca":m=w;break;case"CFF ":c=w;break;case"kern":p=w;break;case"GDEF":h=w;break;case"GPOS":y=w;break;case"GSUB":x=w;break;case"meta":S=w;break}}var z=_e(o,g);if(a.tables.name=xv.parse(z.data,z.offset,n),a.names=a.tables.name,f&&m){var R=r===0,D=_e(o,m),A=pS.parse(D.data,D.offset,a.numGlyphs,R),j=_e(o,f);a.glyphs=Rv.parse(j.data,j.offset,A,a,t)}else if(c){var V=_e(o,c);uv.parse(V.data,V.offset,a,t)}else throw new Error("Font doesn't contain TrueType or CFF outlines.");var Q=_e(o,k);if(dv.parse(a,Q.data,Q.offset,a.numberOfHMetrics,a.numGlyphs,a.glyphs,t),Ry(a,t),p){var ee=_e(o,p);a.kerningPairs=fS.parse(ee.data,ee.offset)}else a.kerningPairs={};if(h){var H=_e(o,h);a.tables.gdef=nS.parse(H.data,H.offset)}if(y){var O=_e(o,y);a.tables.gpos=sS.parse(O.data,O.offset),a.position.init()}if(x){var M=_e(o,x);a.tables.gsub=Sv.parse(M.data,M.offset)}if(d){var Z=_e(o,d);a.tables.fvar=Qk.parse(Z.data,Z.offset,a.names)}if(S){var X=_e(o,S);a.tables.meta=wv.parse(X.data,X.offset),a.metas=a.tables.meta}return a}function mS(e,t,r){r=r??{};var n=typeof window>"u",a=n&&!r.isUrl?hS:vS;return new Promise(function(o,i){a(e,function(l,s){if(l){if(t)return t(l);i(l)}var u;try{u=Vu(s,r)}catch(c){if(t)return t(c,null);i(c)}if(t)return t(null,u);o(u)})})}function yS(e,t){var r=require("fs"),n=r.readFileSync(e);return Vu(Tv(n),t)}var vn=Object.freeze({__proto__:null,Font:ue,Glyph:kt,Path:De,BoundingBox:fr,_parse:$,parse:Vu,load:mS,loadSync:yS});const xS=e=>{const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=`${e.meta.familyName}-${e.meta.styleName}.json`,n.click(),URL.revokeObjectURL(r)},kS=(e,t,r)=>{const n=e.shapes.map(s=>Jm(s)).join(`
`),a=`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${t} ${t}" width="${t}" height="${t}">
${n}
</svg>`,o=new Blob([a],{type:"image/svg+xml"}),i=URL.createObjectURL(o),l=document.createElement("a");l.href=i,l.download=`${r}-${e.char}.svg`,l.click(),URL.revokeObjectURL(i)},SS=(e,t)=>{const r=new vn.Path,{type:n,x:a,y:o,width:i,height:l,rotation:s,corner:u}=e,c=h=>t-h,d=c(o+l),f=c(o);switch(n){case se.SQUARE:r.moveTo(a,d),r.lineTo(a+i,d),r.lineTo(a+i,f),r.lineTo(a,f),r.close();break;case se.CIRCLE:{const h=a+i/2,y=c(o+l/2),x=i/2,k=l/2,p=.5522847498;r.moveTo(h,y-k),r.curveTo(h+x*p,y-k,h+x,y-k*p,h+x,y),r.curveTo(h+x,y+k*p,h+x*p,y+k,h,y+k),r.curveTo(h-x*p,y+k,h-x,y+k*p,h-x,y),r.curveTo(h-x,y-k*p,h-x*p,y-k,h,y-k),r.close()}break;case se.TRIANGLE:{const h=a+i/2,y=c(o+l/2),x=[{x:a,y:d},{x:a+i,y:d},{x:a,y:f}];if(s!==0){const k=s*Math.PI/180,p=Math.cos(k),m=Math.sin(k);x.forEach((g,S)=>{const E=g.x-h,N=c(g.y)-y;x[S]={x:h+E*p-N*m,y:c(y+E*m+N*p)}})}r.moveTo(x[0].x,x[0].y),r.lineTo(x[1].x,x[1].y),r.lineTo(x[2].x,x[2].y),r.close()}break;case se.QUARTER_CIRCLE:{const h=u||K.TL,y=i,x=l,k=.5522847498;switch(h){case K.TL:r.moveTo(a+i,d),r.curveTo(a+i,d+x*k,a+y*k,f,a,f),r.lineTo(a,d),r.close();break;case K.TR:r.moveTo(a,d),r.curveTo(a+i-y*k,d,a+i,d+x*k,a+i,f),r.lineTo(a+i,d),r.close();break;case K.BL:r.moveTo(a+i,f),r.curveTo(a+i-y*k,f,a,f-x*k,a,d),r.lineTo(a,f),r.close();break;case K.BR:r.moveTo(a,f),r.curveTo(a,f-x*k,a+i-y*k,d,a+i,d),r.lineTo(a+i,f),r.close();break}}break}return r},wS=e=>{try{const{meta:t,metrics:r,glyphs:n}=e;if(Object.values(n).filter(k=>k.shapes.length>0).length===0){alert(`No glyphs with shapes found!

Please draw shapes on some glyphs before exporting.

1. Select a glyph from the left sidebar
2. Use the Draw tool (D)
3. Draw shapes on the canvas
4. Then export your font`);return}const o=1e3,l=r.gridSize*te,s=o/l,c=[new vn.Glyph({name:".notdef",unicode:0,advanceWidth:Math.round(r.defaultAdvanceWidth*s),path:new vn.Path})];Object.values(n).forEach(k=>{if(k.shapes.length===0)return;const p=new vn.Path;k.shapes.forEach(g=>{const S=SS(g,l);p.commands=p.commands.concat(S.commands)}),p.commands.forEach(g=>{g.x!==void 0&&(g.x=Math.round(g.x*s)),g.y!==void 0&&(g.y=Math.round(g.y*s)),g.x1!==void 0&&(g.x1=Math.round(g.x1*s)),g.y1!==void 0&&(g.y1=Math.round(g.y1*s)),g.x2!==void 0&&(g.x2=Math.round(g.x2*s)),g.y2!==void 0&&(g.y2=Math.round(g.y2*s))});const m=new vn.Glyph({name:k.char===" "?"space":k.char,unicode:k.unicode,advanceWidth:Math.round(k.advanceWidth*s),path:p});c.push(m)});const f=new vn.Font({familyName:t.familyName,styleName:t.styleName,unitsPerEm:o,ascender:Math.round(r.ascender*s),descender:Math.round(r.descender*s),glyphs:c}).toArrayBuffer(),h=new Blob([f],{type:"font/ttf"}),y=URL.createObjectURL(h),x=document.createElement("a");x.href=y,x.download=`${t.familyName}-${t.styleName}.ttf`,x.click(),URL.revokeObjectURL(y)}catch(t){console.error("Error exporting TTF:",t),alert(`Error exporting TTF: ${t instanceof Error?t.message:String(t)}`)}},bS=(e,t,r)=>{const n=_.useCallback(s=>{if(!s||typeof s.id!="number"){console.warn("Invalid shape provided to flipHorizontal");return}t();let u={};if(s.type===se.TRIANGLE){const c=(360-s.rotation)%360;u.rotation=c}else if(s.type===se.QUARTER_CIRCLE){const c={[K.TL]:K.TR,[K.TR]:K.TL,[K.BL]:K.BR,[K.BR]:K.BL};u.corner=c[s.corner||K.TL]}r(s.id,u)},[t,r]),a=_.useCallback(s=>{if(!s||typeof s.id!="number"){console.warn("Invalid shape provided to flipVertical");return}t();let u={};if(s.type===se.TRIANGLE){const c=s.rotation===0?180:s.rotation===90?270:s.rotation===180?0:90;u.rotation=c}else if(s.type===se.QUARTER_CIRCLE){const c={[K.TL]:K.BL,[K.TR]:K.BR,[K.BL]:K.TL,[K.BR]:K.TR};u.corner=c[s.corner||K.TL]}r(s.id,u)},[t,r]),o=_.useCallback(s=>{if(!s||typeof s.id!="number"){console.warn("Invalid shape provided to rotate90");return}if(t(),s.type===se.TRIANGLE)r(s.id,{rotation:(s.rotation+90)%360});else if(s.type===se.QUARTER_CIRCLE){const u={[K.TL]:K.TR,[K.TR]:K.BR,[K.BR]:K.BL,[K.BL]:K.TL};r(s.id,{corner:u[s.corner||K.TL]})}},[t,r]),i=_.useCallback((s,u)=>{t();let c={};switch(u){case ie.LEFT:c.x=0;break;case ie.RIGHT:c.x=e-s.width;break;case ie.CENTER_H:c.x=(e-s.width)/2;break;case ie.TOP:c.y=0;break;case ie.BOTTOM:c.y=e-s.height;break;case ie.CENTER_V:c.y=(e-s.height)/2;break}r(s.id,c)},[e,t,r]),l=_.useCallback((s,u)=>{if(s.length===0)return;if(t(),s.length===1){const d=s[0];let f={};switch(u){case ie.LEFT:f.x=0;break;case ie.RIGHT:f.x=e-d.width;break;case ie.CENTER_H:f.x=(e-d.width)/2;break;case ie.TOP:f.y=0;break;case ie.BOTTOM:f.y=e-d.height;break;case ie.CENTER_V:f.y=(e-d.height)/2;break}r(d.id,f);return}let c;switch(u){case ie.LEFT:c=Math.min(...s.map(p=>p.x)),s.forEach(p=>{r(p.id,{x:c})});break;case ie.RIGHT:const d=Math.max(...s.map(p=>p.x+p.width));s.forEach(p=>{r(p.id,{x:d-p.width})});break;case ie.CENTER_H:const f=s.map(p=>p.x+p.width/2),h=f.reduce((p,m)=>p+m,0)/f.length;s.forEach(p=>{r(p.id,{x:h-p.width/2})});break;case ie.TOP:c=Math.min(...s.map(p=>p.y)),s.forEach(p=>{r(p.id,{y:c})});break;case ie.BOTTOM:const y=Math.max(...s.map(p=>p.y+p.height));s.forEach(p=>{r(p.id,{y:y-p.height})});break;case ie.CENTER_V:const x=s.map(p=>p.y+p.height/2),k=x.reduce((p,m)=>p+m,0)/x.length;s.forEach(p=>{r(p.id,{y:k-p.height/2})});break}},[e,t,r]);return{flipHorizontal:n,flipVertical:a,rotate90:o,alignShape:i,alignShapes:l}};function TS(e){let t=null,r=null;const n=(...a)=>{r=a,t===null&&(t=requestAnimationFrame(()=>{r&&e(...r),t=null,r=null}))};return n.cancel=()=>{t!==null&&(cancelAnimationFrame(t),t=null),r=null},n}function ES(e,t,r){if(e<r.x||e>r.x+r.width||t<r.y||t>r.y+r.height)return!1;if(!r.type||r.type==="SQUARE")return!0;if(r.type==="CIRCLE"){const n=r.x+r.width/2,a=r.y+r.height/2,o=r.width/2,i=r.height/2,l=(e-n)/o,s=(t-a)/i;return l*l+s*s<=1}if(r.type==="TRIANGLE"){const n=r.rotation||0,a=r.x+r.width/2,o=r.y+r.height/2,i=Math.cos(-n*Math.PI/180),l=Math.sin(-n*Math.PI/180),s=e-a,u=t-o,c=a+(s*i-u*l),d=o+(s*l+u*i),f=r.x,h=r.y,y=r.x+r.width,x=r.y+r.height,k=r.x,p=r.y+r.height,m=(x-p)*(f-k)+(k-y)*(h-p),g=((x-p)*(c-k)+(k-y)*(d-p))/m,S=((p-h)*(c-k)+(f-k)*(d-p))/m,E=1-g-S;return g>=0&&g<=1&&S>=0&&S<=1&&E>=0&&E<=1}if(r.type==="QUARTER_CIRCLE"){const n=r.corner||"tl",a=e-r.x,o=t-r.y;let i,l;switch(n){case"tl":case"TL":i=0,l=0;break;case"tr":case"TR":i=r.width,l=0;break;case"bl":case"BL":i=0,l=r.height;break;case"br":case"BR":i=r.width,l=r.height;break;default:i=0,l=0}const s=a-i,u=o-l;if(Math.sqrt((s/r.width)**2+(u/r.height)**2)>1)return!1;switch(n){case"tl":case"TL":return a>=0&&o>=0;case"tr":case"TR":return a<=r.width&&o>=0;case"bl":case"BL":return a>=0&&o<=r.height;case"br":case"BR":return a<=r.width&&o<=r.height;default:return!0}}return!0}function Zt(e,t,r){return Math.max(t,Math.min(r,e))}const CS=({font:e,currentGlyph:t,selectedShapeType:r,tool:n,onToolChange:a,onAddShape:o,onUpdateShape:i,onDeleteShape:l,onClearGlyph:s,onUndo:u,onRedo:c,history:d,saveToHistory:f,onDuplicateShape:h,onUpdateMetrics:y,selectedShapeIds:x,onSelectionChange:k})=>{const p=e.glyphs[t],m=_.useRef(null),g=_.useRef(null),S=_.useRef((p==null?void 0:p.shapes)||[]),[E,N]=_.useState(1),[w,T]=_.useState(!1),[z,R]=_.useState(!1),[D,A]=_.useState(!1),[j,V]=_.useState(null),[Q,ee]=_.useState(new Map),[H,O]=_.useState(null),[M,Z]=_.useState(null),[X,re]=_.useState(null),[Ee,ft]=_.useState(null),[ze,Je]=_.useState(null),[bt,jr]=_.useState(!1),[Me,rc]=_.useState(null),[et,l0]=_.useState(null),[Gr,u0]=_.useState(!0),[ce,c0]=_.useState(!0),pe=((p==null?void 0:p.gridSize)||16)*te,fn=_.useCallback(W=>pe-W*te,[pe]),nc=_.useCallback(W=>(pe-W)/te,[pe]),$e=_.useCallback(W=>{switch(W){case"baseline":return fn(e.metrics.baseline);case"xHeight":return fn(e.metrics.xHeight);case"capHeight":return fn(e.metrics.capHeight);case"ascender":return fn(e.metrics.ascender);case"descender":return fn(e.metrics.descender)}},[e.metrics,fn]),ro=_.useCallback(W=>{if(!Gr||ce)return null;const U=["baseline","xHeight","capHeight","ascender","descender"],ne=6;for(const xe of U){const he=$e(xe);if(Math.abs(W-he)<ne)return xe}return null},[Gr,ce,$e]),ac=_.useCallback((W,U)=>{const ne=Math.round(nc(U));switch(W){case"baseline":y({baseline:ne});break;case"xHeight":y({xHeight:ne});break;case"capHeight":y({capHeight:ne});break;case"ascender":y({ascender:ne});break;case"descender":y({descender:ne});break}},[nc,y]),{flipHorizontal:oc,flipVertical:ic,rotate90:sc,alignShapes:lc}=bS(pe,f,i);_.useEffect(()=>{p&&(S.current=p.shapes)},[p]),_.useEffect(()=>{p&&(T(!1),R(!1),A(!1),k([]),V(null),ee(new Map),O(null),Z(null),re(null),ft(null),Je(null))},[p==null?void 0:p.char,k]);const Qi=_.useCallback(()=>{x.length===0||!p||x.forEach(W=>{const U=p.shapes.find(ne=>ne.id===W);U&&oc(U)})},[x,p,oc]),Ki=_.useCallback(()=>{x.length===0||!p||x.forEach(W=>{const U=p.shapes.find(ne=>ne.id===W);U&&ic(U)})},[x,p,ic]),qi=_.useCallback(()=>{x.length===0||!p||x.forEach(W=>{const U=p.shapes.find(ne=>ne.id===W);U&&sc(U)})},[x,p,sc]),dt=_.useCallback(W=>{if(x.length===0||!p)return;const U=p.shapes.filter(ne=>x.includes(ne.id));lc(U,W)},[x,p,lc]),f0=_.useCallback(()=>{p&&kS(p,pe,e.meta.familyName)},[p,pe,e]),uc=_.useCallback(W=>{if(W.target.tagName==="BUTTON"||W.target.tagName==="INPUT"||!p)return;const U=Sf(W,m.current),ne=ro(U.y);if(ne){W.preventDefault(),jr(!0),rc(ne);return}if(n===Qe.SELECT&&x.length===1){const he=W.target.getAttribute("data-handle");if(he){W.preventDefault();const ke=p.shapes.find(Re=>Re.id===x[0]);ke&&(R(!0),Z(he),V(U),O({...ke}));return}}if(n===Qe.DRAW&&r){W.preventDefault();const xe=Ye(U.x),he=Ye(U.y);re({x:xe,y:he})}else if(n===Qe.SELECT){let xe=null;for(let he=p.shapes.length-1;he>=0;he--){const ke=p.shapes[he];if(ES(U.x,U.y,ke)){xe=ke;break}}if(xe){W.preventDefault();const he=W.shiftKey||W.metaKey||W.ctrlKey,ke=x.includes(xe.id);if(he)k(ke?x.filter(Re=>Re!==xe.id):[...x,xe.id]);else{const Re=ke?x:[xe.id];ke||k(Re),T(!0),V(U);const pt=new Map;Re.forEach(oo=>{const qn=p.shapes.find(v0=>v0.id===oo);qn&&pt.set(oo,{x:qn.x,y:qn.y})}),ee(pt)}}else!W.shiftKey&&!W.metaKey&&!W.ctrlKey&&k([]),A(!0),V(U)}},[n,x,r,p,ro,k]),cc=_.useCallback(W=>{const U=Sf(W,m.current);if(bt&&Me){ac(Me,U.y);return}if(!w&&!z&&!D&&!X){const ne=ro(U.y);l0(ne)}if(X&&!D){const ne=Math.abs(U.x-X.x),xe=Math.abs(U.y-X.y),he=Math.min(X.x,U.x),ke=Math.min(X.y,U.y);ft({x:Ye(he),y:Ye(ke),width:Ye(ne),height:Ye(xe)})}else if(D&&j){const ne=Math.abs(U.x-j.x),xe=Math.abs(U.y-j.y),he=Math.min(j.x,U.x),ke=Math.min(j.y,U.y);Je({x:he,y:ke,width:ne,height:xe})}else if(w&&x.length>0&&j&&Q.size>0){const ne=U.x-j.x,xe=U.y-j.y;x.forEach(he=>{const ke=S.current.find(qn=>qn.id===he),Re=Q.get(he);if(!ke||!Re)return;const pt=Zt(Ye(Re.x+ne),0,pe-ke.width),oo=Zt(Ye(Re.y+xe),0,pe-ke.height);i(he,{x:pt,y:oo})})}else if(z&&x.length===1&&j&&M&&H){const ne=x[0],xe=U.x-j.x,he=U.y-j.y;let ke={};switch(M){case"resize-nw":{const Re=Zt(Ye(H.x+xe),0,H.x+H.width-te),pt=Zt(Ye(H.y+he),0,H.y+H.height-te);ke={x:Re,y:pt,width:Math.max(te,H.x+H.width-Re),height:Math.max(te,H.y+H.height-pt)};break}case"resize-ne":{const Re=Zt(Ye(H.y+he),0,H.y+H.height-te),pt=Math.max(te,Ye(H.width+xe));ke={y:Re,width:Zt(pt,te,pe-H.x),height:Math.max(te,H.y+H.height-Re)};break}case"resize-sw":{const Re=Zt(Ye(H.x+xe),0,H.x+H.width-te),pt=Math.max(te,Ye(H.height+he));ke={x:Re,width:Math.max(te,H.x+H.width-Re),height:Zt(pt,te,pe-H.y)};break}case"resize-se":{const Re=Math.max(te,Ye(H.width+xe)),pt=Math.max(te,Ye(H.height+he));ke={width:Zt(Re,te,pe-H.x),height:Zt(pt,te,pe-H.y)};break}}i(ne,ke)}},[X,w,z,D,bt,Me,x,j,Q,M,H,pe,i,ac,ro]),no=_.useMemo(()=>TS(cc),[cc]);_.useEffect(()=>()=>{no.cancel()},[no]);const ao=_.useCallback(()=>{if(bt){jr(!1),rc(null);return}if(X&&Ee&&!D&&(Ee.width>=te&&Ee.height>=te&&(f(),o(Qm(r,Ee.x,Ee.y,Ee.width,Ee.height))),re(null),ft(null)),D&&ze&&p){const W=[];p.shapes.forEach(U=>{U.x<ze.x+ze.width&&U.x+U.width>ze.x&&U.y<ze.y+ze.height&&U.y+U.height>ze.y&&W.push(U.id)}),k(W),Je(null),A(!1)}(w||z)&&f(),T(!1),R(!1),V(null),ee(new Map),Z(null),O(null)},[X,Ee,ze,w,z,D,bt,f,o,r,p,k]);_.useEffect(()=>{const W=U=>{U.target.tagName!=="INPUT"&&p&&(U.key==="Delete"||U.key==="Backspace"?x.length>0&&(U.preventDefault(),x.forEach(ne=>l(ne)),k([])):U.key==="d"||U.key==="D"?U.ctrlKey||U.metaKey?(U.preventDefault(),x.length>0&&x.forEach(ne=>h(ne))):(U.preventDefault(),a(Qe.DRAW)):U.key==="v"||U.key==="V"?U.shiftKey&&x.length>0?(U.preventDefault(),Ki()):U.shiftKey||(U.preventDefault(),a(Qe.SELECT)):U.key==="Escape"?k([]):U.key==="a"&&(U.ctrlKey||U.metaKey)?(U.preventDefault(),k(p.shapes.map(ne=>ne.id))):(U.key==="h"||U.key==="H")&&x.length>0?(U.preventDefault(),Qi()):(U.key==="r"||U.key==="R")&&x.length>0?(U.preventDefault(),qi()):U.shiftKey&&x.length>0&&(U.key==="L"?(U.preventDefault(),dt(ie.LEFT)):U.key==="R"?(U.preventDefault(),dt(ie.RIGHT)):U.key==="T"?(U.preventDefault(),dt(ie.TOP)):U.key==="B"?(U.preventDefault(),dt(ie.BOTTOM)):U.key==="C"?(U.preventDefault(),dt(ie.CENTER_H)):U.key==="M"&&(U.preventDefault(),dt(ie.CENTER_V))))};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[x,p,l,a,Qi,Ki,qi,h,dt,k]);const dn=_.useMemo(()=>p?p.shapes.filter(W=>x.includes(W.id)):[],[p,x]),d0=_.useMemo(()=>n===Qe.DRAW?"cursor-crosshair":n===Qe.SELECT&&w?"cursor-move":"cursor-default",[n,w]),p0=_.useMemo(()=>v.jsx("defs",{children:v.jsxs("pattern",{id:"grid",width:te,height:te,patternUnits:"userSpaceOnUse",children:[v.jsx("rect",{width:te,height:te,fill:"white"}),v.jsx("path",{d:`M ${te} 0 L 0 0 0 ${te}`,fill:"none",stroke:"#e5e7eb",strokeWidth:"1"})]})}),[]),h0=W=>{var ne;(ne=W.target.files)!=null&&ne[0]&&(alert("SVG import coming soon"),W.target.value="")};return p?v.jsxs("div",{className:"flex-1 flex flex-col bg-white p-6",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-neutral-200",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("i",{className:"ph ph-magnifying-glass text-sm text-neutral-400"}),v.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.25",value:E,onChange:W=>N(parseFloat(W.target.value)),className:"w-20"}),v.jsxs("span",{className:"text-xs text-neutral-500 w-10",children:[(E*100).toFixed(0),"%"]})]}),v.jsx("div",{className:"w-px h-6 bg-neutral-200"}),dn.length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex gap-1",children:[v.jsx("button",{onClick:Qi,className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Flip Horizontal (H)",children:v.jsx("i",{className:"ph ph-arrows-left-right text-base"})}),v.jsx("button",{onClick:Ki,className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Flip Vertical (Shift+V)",children:v.jsx("i",{className:"ph ph-arrows-down-up text-base"})}),v.jsx("button",{onClick:qi,className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Rotate 90 (R)",children:v.jsx("i",{className:"ph ph-arrow-clockwise text-base"})})]}),v.jsx("div",{className:"w-px h-6 bg-neutral-200"}),v.jsx("button",{onClick:()=>x.forEach(W=>h(W)),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Duplicate (Ctrl+D)",children:v.jsx("i",{className:"ph ph-copy text-base"})}),v.jsx("div",{className:"w-px h-6 bg-neutral-200"}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx("button",{onClick:()=>dt(ie.LEFT),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Align Left (Shift+L)",children:v.jsx("i",{className:"ph ph-align-left text-base"})}),v.jsx("button",{onClick:()=>dt(ie.CENTER_H),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Center H (Shift+C)",children:v.jsx("i",{className:"ph ph-align-center-horizontal text-base"})}),v.jsx("button",{onClick:()=>dt(ie.RIGHT),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Align Right (Shift+R)",children:v.jsx("i",{className:"ph ph-align-right text-base"})}),v.jsx("div",{className:"w-px h-4 bg-neutral-200 mx-1"}),v.jsx("button",{onClick:()=>dt(ie.TOP),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Align Top (Shift+T)",children:v.jsx("i",{className:"ph ph-align-top text-base"})}),v.jsx("button",{onClick:()=>dt(ie.CENTER_V),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Center V (Shift+M)",children:v.jsx("i",{className:"ph ph-align-center-vertical text-base"})}),v.jsx("button",{onClick:()=>dt(ie.BOTTOM),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Align Bottom (Shift+B)",children:v.jsx("i",{className:"ph ph-align-bottom text-base"})})]}),v.jsx("div",{className:"w-px h-6 bg-neutral-200"}),v.jsx("div",{className:"text-xs text-neutral-500",children:dn.length===1?`Size: ${Math.round(dn[0].width/te)}${Math.round(dn[0].height/te)}`:`${dn.length} shapes selected`}),v.jsxs("button",{onClick:()=>{x.forEach(W=>l(W)),k([])},className:"tool-btn px-3 py-1.5 rounded bg-white text-neutral-700 flex items-center gap-1.5",title:"Delete (Del)",children:[v.jsx("i",{className:"ph ph-trash text-base"}),v.jsx("span",{className:"text-xs",children:"Delete"})]}),v.jsx("div",{className:"w-px h-6 bg-neutral-200"})]}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx("button",{onClick:u,disabled:!d[t]||d[t].past.length===0,className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700 disabled:opacity-30",title:"Undo (Cmd+Z)",children:v.jsx("i",{className:"ph ph-arrow-counter-clockwise text-base"})}),v.jsx("button",{onClick:c,disabled:!d[t]||d[t].future.length===0,className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700 disabled:opacity-30",title:"Redo (Cmd+Shift+Z)",children:v.jsx("i",{className:"ph ph-arrow-clockwise text-base"})})]}),v.jsx("div",{className:"flex-1"}),v.jsx("button",{onClick:()=>u0(!Gr),className:`tool-btn px-2.5 py-2 rounded ${Gr?"bg-blue-50 text-blue-600 border border-blue-200":"bg-white text-neutral-700"}`,title:Gr?"Hide Guides":"Show Guides",children:v.jsx("i",{className:"ph ph-ruler text-base"})}),Gr&&v.jsx("button",{onClick:()=>c0(!ce),className:`tool-btn px-2.5 py-2 rounded ${ce?"bg-white text-neutral-700":"bg-amber-50 text-amber-600 border border-amber-200"}`,title:ce?"Unlock Guides to Edit":"Lock Guides",children:v.jsx("i",{className:`ph ${ce?"ph-lock":"ph-lock-open"} text-base`})}),v.jsx("div",{className:"w-px h-6 bg-neutral-200"}),v.jsx("button",{onClick:()=>{var W;return(W=g.current)==null?void 0:W.click()},className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700",title:"Import SVG",children:v.jsx("i",{className:"ph ph-upload-simple text-base"})}),v.jsx("button",{onClick:f0,className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700",title:"Export Glyph as SVG",children:v.jsx("i",{className:"ph ph-download-simple text-base"})}),v.jsx("div",{className:"w-px h-6 bg-neutral-200"}),v.jsx("button",{onClick:s,className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700",title:"Clear",children:v.jsx("i",{className:"ph ph-trash text-base"})}),v.jsx("input",{ref:g,type:"file",accept:".svg",onChange:h0,className:"hidden"})]}),v.jsx("div",{className:"flex-1 flex items-center justify-center bg-neutral-50",children:v.jsxs("svg",{ref:m,width:pe*E,height:pe*E,viewBox:`0 0 ${pe} ${pe}`,className:d0,style:{border:"1px solid #e5e5e5",touchAction:"none",userSelect:"none"},onMouseDown:uc,onMouseMove:no,onMouseUp:ao,onMouseLeave:ao,onPointerDown:uc,onPointerMove:no,onPointerUp:ao,onPointerLeave:ao,children:[p0,v.jsx("rect",{width:pe,height:pe,fill:"url(#grid)"}),Gr&&v.jsxs("g",{className:"guides",children:[v.jsx("line",{x1:"0",y1:$e("ascender"),x2:pe,y2:$e("ascender"),stroke:et==="ascender"||Me==="ascender"?"#3b82f6":ce?"#cbd5e1":"#94a3b8",strokeWidth:et==="ascender"||Me==="ascender"?"2":"1",strokeDasharray:"4 4",opacity:ce?"0.5":"1",style:{cursor:ce?"default":"ns-resize"}}),!ce&&(et==="ascender"||Me==="ascender")&&v.jsxs("text",{x:"4",y:$e("ascender")-4,fontSize:"10",fill:"#3b82f6",fontFamily:"system-ui",children:["Ascender (",e.metrics.ascender,")"]}),v.jsx("line",{x1:"0",y1:$e("capHeight"),x2:pe,y2:$e("capHeight"),stroke:et==="capHeight"||Me==="capHeight"?"#8b5cf6":ce?"#cbd5e1":"#94a3b8",strokeWidth:et==="capHeight"||Me==="capHeight"?"2":"1",strokeDasharray:"4 4",opacity:ce?"0.5":"1",style:{cursor:ce?"default":"ns-resize"}}),!ce&&(et==="capHeight"||Me==="capHeight")&&v.jsxs("text",{x:"4",y:$e("capHeight")-4,fontSize:"10",fill:"#8b5cf6",fontFamily:"system-ui",children:["Cap Height (",e.metrics.capHeight,")"]}),v.jsx("line",{x1:"0",y1:$e("xHeight"),x2:pe,y2:$e("xHeight"),stroke:et==="xHeight"||Me==="xHeight"?"#10b981":ce?"#cbd5e1":"#94a3b8",strokeWidth:et==="xHeight"||Me==="xHeight"?"2":"1",strokeDasharray:"4 4",opacity:ce?"0.5":"1",style:{cursor:ce?"default":"ns-resize"}}),!ce&&(et==="xHeight"||Me==="xHeight")&&v.jsxs("text",{x:"4",y:$e("xHeight")-4,fontSize:"10",fill:"#10b981",fontFamily:"system-ui",children:["X-Height (",e.metrics.xHeight,")"]}),v.jsx("line",{x1:"0",y1:$e("baseline"),x2:pe,y2:$e("baseline"),stroke:et==="baseline"||Me==="baseline"?"#ef4444":ce?"#cbd5e1":"#64748b",strokeWidth:et==="baseline"||Me==="baseline"?"3":"2",opacity:ce?"0.5":"1",style:{cursor:ce?"default":"ns-resize"}}),!ce&&(et==="baseline"||Me==="baseline")&&v.jsxs("text",{x:"4",y:$e("baseline")-4,fontSize:"10",fill:"#ef4444",fontWeight:"bold",fontFamily:"system-ui",children:["Baseline (",e.metrics.baseline,")"]}),v.jsx("line",{x1:"0",y1:$e("descender"),x2:pe,y2:$e("descender"),stroke:et==="descender"||Me==="descender"?"#f59e0b":ce?"#cbd5e1":"#94a3b8",strokeWidth:et==="descender"||Me==="descender"?"2":"1",strokeDasharray:"4 4",opacity:ce?"0.5":"1",style:{cursor:ce?"default":"ns-resize"}}),!ce&&(et==="descender"||Me==="descender")&&v.jsxs("text",{x:"4",y:$e("descender")+12,fontSize:"10",fill:"#f59e0b",fontFamily:"system-ui",children:["Descender (",e.metrics.descender,")"]})]}),p.shapes.map(W=>Gh(W)),dn.map(W=>Vm(W)),Ee&&v.jsx("rect",{x:Ee.x,y:Ee.y,width:Ee.width,height:Ee.height,fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"4 4",opacity:"0.5"}),ze&&v.jsx("rect",{x:ze.x,y:ze.y,width:ze.width,height:ze.height,fill:"rgba(59, 130, 246, 0.1)",stroke:"#3b82f6",strokeWidth:"1",strokeDasharray:"4 4"})]})})]}):v.jsx("div",{className:"flex-1 flex items-center justify-center text-neutral-500",children:"Select a glyph"})},FS=({font:e,currentGlyph:t,onUpdateGlyph:r,selectedShapeIds:n,onUpdateShape:a,onSaveHistory:o})=>{const i=e.glyphs[t];if(!i)return null;const l=_.useMemo(()=>i.gridSize*te,[i.gridSize]),s=_.useMemo(()=>i.shapes.filter(y=>n.includes(y.id)),[i.shapes,n]),u=_.useRef(!1);_.useEffect(()=>{u.current=!1},[n.join(","),i.char]);const c=()=>{u.current||(o(),u.current=!0)},d=(y,x)=>Number.isNaN(y)?0:Math.min(Math.max(y,0),x),f=(y,x)=>{y&&(c(),a(y.id,x))},h=y=>{const x=Math.round(y.x/te),k=Math.round(y.y/te),p=Math.round(y.width/te),m=Math.round(y.height/te),g=Math.floor((l-y.width)/te),S=Math.floor((l-y.height)/te),E=i.gridSize-Math.floor(y.x/te),N=i.gridSize-Math.floor(y.y/te);return v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-neutral-500 block mb-1",children:"X (cells)"}),v.jsx("input",{type:"number",min:0,max:g,value:x,onChange:w=>{const T=parseInt(w.target.value,10);if(Number.isNaN(T))return;const z=d(T*te,l-y.width);f(y,{x:z})},className:"w-full px-2 py-1 text-xs border border-neutral-300 rounded"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-neutral-500 block mb-1",children:"Y (cells)"}),v.jsx("input",{type:"number",min:0,max:S,value:k,onChange:w=>{const T=parseInt(w.target.value,10);if(Number.isNaN(T))return;const z=d(T*te,l-y.height);f(y,{y:z})},className:"w-full px-2 py-1 text-xs border border-neutral-300 rounded"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-neutral-500 block mb-1",children:"Width (cells)"}),v.jsx("input",{type:"number",min:1,max:E,value:p,onChange:w=>{const T=parseInt(w.target.value,10);if(Number.isNaN(T))return;const z=Math.max(1,Math.min(T,E));f(y,{width:z*te})},className:"w-full px-2 py-1 text-xs border border-neutral-300 rounded"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-neutral-500 block mb-1",children:"Height (cells)"}),v.jsx("input",{type:"number",min:1,max:N,value:m,onChange:w=>{const T=parseInt(w.target.value,10);if(Number.isNaN(T))return;const z=Math.max(1,Math.min(T,N));f(y,{height:z*te})},className:"w-full px-2 py-1 text-xs border border-neutral-300 rounded"})]})]}),y.type===se.TRIANGLE&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-neutral-500 block mb-1",children:"Rotation"}),v.jsx("select",{value:y.rotation??0,onChange:w=>{const T=parseInt(w.target.value,10)%360;f(y,{rotation:T})},className:"w-full px-2 py-1 text-xs border border-neutral-300 rounded",children:[0,90,180,270].map(w=>v.jsxs("option",{value:w,children:[w,""]},w))})]}),y.type===se.QUARTER_CIRCLE&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-neutral-500 block mb-1",children:"Corner"}),v.jsxs("select",{value:y.corner??K.TL,onChange:w=>{const T=w.target.value;f(y,{corner:T})},className:"w-full px-2 py-1 text-xs border border-neutral-300 rounded",children:[v.jsx("option",{value:K.TL,children:"Top Left"}),v.jsx("option",{value:K.TR,children:"Top Right"}),v.jsx("option",{value:K.BL,children:"Bottom Left"}),v.jsx("option",{value:K.BR,children:"Bottom Right"})]})]})]})};return v.jsxs("div",{className:"w-full h-full bg-white border-l border-neutral-200 p-4 overflow-auto",children:[v.jsx("h2",{className:"text-sm font-semibold mb-4 text-neutral-900",children:"Properties"}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs font-medium mb-3 text-neutral-500 uppercase tracking-wide",children:"Character"}),v.jsx("div",{className:"text-4xl text-neutral-900 font-light mb-2",children:i.char===" "?"":i.char}),v.jsxs("div",{className:"text-xs text-neutral-500",children:["U+",i.unicode.toString(16).toUpperCase().padStart(4,"0")]})]}),v.jsxs("div",{className:"pt-4 border-t border-neutral-200",children:[v.jsx("h3",{className:"text-xs font-medium mb-3 text-neutral-500 uppercase tracking-wide",children:"Info"}),v.jsxs("div",{className:"text-xs text-neutral-600 space-y-1",children:[v.jsxs("div",{children:["Shapes: ",i.shapes.length]}),v.jsxs("div",{children:["Grid: ",i.gridSize,"",i.gridSize]})]})]}),v.jsxs("div",{className:"pt-4 border-t border-neutral-200",children:[v.jsx("h3",{className:"text-xs font-medium mb-3 text-neutral-500 uppercase tracking-wide",children:"Grid Resolution"}),v.jsx("div",{className:"space-y-3",children:v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-neutral-500 block mb-1",children:"Grid Size"}),v.jsxs("select",{value:i.gridSize,onChange:y=>r("gridSize",parseInt(y.target.value)),className:"w-full px-2 py-1 text-xs border border-neutral-300 rounded",children:[v.jsx("option",{value:"6",children:"66"}),v.jsx("option",{value:"8",children:"88"}),v.jsx("option",{value:"10",children:"1010"}),v.jsx("option",{value:"12",children:"1212"}),v.jsx("option",{value:"16",children:"1616"})]})]})})]}),v.jsxs("div",{className:"pt-4 border-t border-neutral-200",children:[v.jsx("h3",{className:"text-xs font-medium mb-3 text-neutral-500 uppercase tracking-wide",children:"Shape"}),s.length===0&&v.jsx("div",{className:"text-xs text-neutral-500",children:"Select a shape to edit its properties."}),s.length>1&&v.jsx("div",{className:"text-xs text-neutral-500",children:"Multiple shapes selected. Use alignment tools for batch adjustments."}),s.length===1&&h(s[0])]})]})]})},RS=(e,t,r,n=0,a="text")=>{let o=0;const i=[],l=r.metrics.gridSize,s=t/(l*32),u=(r.metrics.tracking+n)*s;for(let c=0;c<e.length;c++){const d=e[c],f=r.glyphs[d];if(!f){o+=r.metrics.defaultAdvanceWidth*s+u;continue}const h=v.jsx("g",{transform:`translate(${o}, 0) scale(${s})`,children:f.shapes.map(y=>jh(y,!1))},`${a}-${c}-${d}`);i.push(h),o+=f.advanceWidth*32*s+u}return{elements:i,width:o,height:t}},_S=(e,t,r,n,a=0,o="text")=>{let i=0;const l=[],s=n.gridSize,u=t/(s*32),c=(n.tracking+a)*u;for(let d=0;d<e.length;d++){const f=e[d],h=r[f];if(!h){i+=n.defaultAdvanceWidth*u+c;continue}const y=v.jsx("g",{transform:`translate(${i}, 0) scale(${u})`,children:h.shapes.map(x=>jh(x,!1))},`${o}-${d}-${f}`);l.push(y),i+=h.advanceWidth*32*u+c}return l},NS=Jr.memo(({font:e})=>{const[t,r]=_.useState("Hamburgefonts"),[n,a]=_.useState(64),[o,i]=_.useState(0),l=_.useDeferredValue(o),s=_.useMemo(()=>{const c=new Set(t),d={};return c.forEach(f=>{e.glyphs[f]&&(d[f]=e.glyphs[f])}),d},[t,e]),u=_.useMemo(()=>_S(t,n,s,e.metrics,l,"preview"),[t,n,l,s,e.metrics]);return v.jsxs("div",{className:"w-full h-full bg-white p-4 flex flex-col",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-3 flex-shrink-0",children:[v.jsx("input",{type:"text",value:t,onChange:c=>r(c.target.value),className:"flex-1 px-3 py-2 bg-white border border-neutral-200 rounded text-sm focus:outline-none focus:border-neutral-400",placeholder:"Preview text..."}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("i",{className:"ph ph-text-aa text-sm text-neutral-400"}),v.jsx("input",{type:"range",min:"32",max:"128",step:"8",value:n,onChange:c=>a(parseInt(c.target.value)),className:"w-24"}),v.jsxs("span",{className:"text-xs text-neutral-500 w-10",children:[n,"px"]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("i",{className:"ph ph-arrows-horizontal text-sm text-neutral-400"}),v.jsx("input",{type:"range",min:"-20",max:"40",step:"1",value:o,onChange:c=>i(parseInt(c.target.value)),className:"w-24"}),v.jsxs("span",{className:"text-xs text-neutral-500 font-mono w-10",children:[o>0?"+":"",o]})]})]}),v.jsx("div",{className:"flex-1 overflow-auto flex items-center",children:v.jsx("svg",{width:"100%",height:n+20,style:{minHeight:"100%"},children:u})})]})}),LS=Jr.memo(({font:e})=>{const[t,r]=_.useState(0),n=_.useDeferredValue(t),a=[{size:72,text:"The quick brown fox"},{size:60,text:"The quick brown fox jumps"},{size:48,text:"The quick brown fox jumps over"},{size:36,text:"The quick brown fox jumps over the lazy dog"},{size:28,text:"Pack my box with five dozen liquor jugs"},{size:20,text:"How vexingly quick daft zebras jump!"},{size:16,text:"Sphinx of black quartz, judge my vow"},{size:12,text:"The five boxing wizards jump quickly"}],o=_.useCallback((s,u,c=0)=>RS(s,u,e,n+c,`typeface-${s.substring(0,10)}`),[e,n]),i=_.useMemo(()=>{const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",u="abcdefghijklmnopqrstuvwxyz",c="0123456789",f=o(s,48),h=o(u,48),y=o(c,48);return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs font-medium text-neutral-500 mb-2",children:"UPPERCASE"}),v.jsx("svg",{width:"100%",height:58,children:v.jsx("g",{transform:"translate(0, 0)",children:f.elements})})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs font-medium text-neutral-500 mb-2",children:"LOWERCASE"}),v.jsx("svg",{width:"100%",height:58,children:v.jsx("g",{transform:"translate(0, 0)",children:h.elements})})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs font-medium text-neutral-500 mb-2",children:"NUMBERS"}),v.jsx("svg",{width:"100%",height:58,children:v.jsx("g",{transform:"translate(0, 0)",children:y.elements})})]})]})},[o]),l=_.useMemo(()=>v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-xs font-medium text-neutral-500 mb-3",children:"WATERFALL"}),a.map((s,u)=>{const c=o(s.text,s.size);return v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("span",{className:"text-xs text-neutral-400 font-mono w-8 flex-shrink-0",children:[s.size,"px"]}),v.jsx("svg",{width:"100%",height:s.size+10,children:v.jsx("g",{transform:"translate(0, 0)",children:c.elements})})]},u)})]}),[o,a]);return v.jsxs("div",{className:"w-full h-full bg-white flex flex-col",children:[v.jsx("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-neutral-200 flex-shrink-0",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("i",{className:"ph ph-arrows-horizontal text-sm text-neutral-400"}),v.jsx("label",{className:"text-xs text-neutral-600 font-medium",children:"Tracking:"}),v.jsx("input",{type:"range",min:"-20",max:"40",step:"1",value:t,onChange:s=>r(parseInt(s.target.value)),className:"w-32"}),v.jsxs("span",{className:"text-xs text-neutral-500 font-mono w-12",children:[t>0?"+":"",t]}),t!==0&&v.jsx("button",{onClick:()=>r(0),className:"text-xs text-blue-500 hover:text-blue-600",children:"Reset"})]})}),v.jsx("div",{className:"flex-1 overflow-auto p-6",children:v.jsxs("div",{className:"space-y-12 max-w-[1400px]",children:[i,v.jsx("div",{className:"border-t border-neutral-200 pt-8",children:l})]})})]})}),OS=({font:e})=>{const[t,r]=_.useState("text");return v.jsxs("div",{className:"w-full h-full bg-white border-t border-neutral-200 flex flex-col",children:[v.jsxs("div",{className:"flex items-center border-b border-neutral-200 bg-neutral-50 flex-shrink-0",children:[v.jsxs("button",{onClick:()=>r("text"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${t==="text"?"text-blue-600 bg-white":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:[v.jsx("i",{className:"ph ph-text-aa mr-1.5"}),"Text Preview",t==="text"&&v.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600"})]}),v.jsxs("button",{onClick:()=>r("typeface"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${t==="typeface"?"text-blue-600 bg-white":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:[v.jsx("i",{className:"ph ph-grid-four mr-1.5"}),"Typeface Preview",t==="typeface"&&v.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600"})]})]}),v.jsx("div",{className:"flex-1 overflow-hidden",children:t==="text"?v.jsx(NS,{font:e}):v.jsx(LS,{font:e})})]})},US=[{category:"Tools",items:[{keys:"V",description:"Select tool"},{keys:"D",description:"Draw tool"}]},{category:"Editing",items:[{keys:"Ctrl/Cmd + Z",description:"Undo"},{keys:"Ctrl/Cmd + Shift + Z",description:"Redo"},{keys:"Ctrl/Cmd + D",description:"Duplicate selected shape"},{keys:"Delete / Backspace",description:"Delete selected shape"},{keys:"H",description:"Flip horizontal"},{keys:"Shift + V",description:"Flip vertical"},{keys:"R",description:"Rotate 90"}]},{category:"Alignment",items:[{keys:"Shift + L",description:"Align left"},{keys:"Shift + R",description:"Align right"},{keys:"Shift + T",description:"Align top"},{keys:"Shift + B",description:"Align bottom"},{keys:"Shift + C",description:"Center horizontally"},{keys:"Shift + M",description:"Center vertically (Middle)"}]},{category:"View",items:[{keys:"?",description:"Show shortcuts"}]}],DS=({onClose:e})=>v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4",onClick:t=>t.stopPropagation(),children:[v.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Keyboard Shortcuts"}),v.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-neutral-600",children:v.jsx("i",{className:"ph ph-x text-xl"})})]}),v.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:US.map(({category:t,items:r})=>v.jsxs("div",{className:"mb-6 last:mb-0",children:[v.jsx("h3",{className:"text-sm font-bold text-neutral-500 uppercase mb-3",children:t}),v.jsx("div",{className:"space-y-2",children:r.map(({keys:n,description:a})=>v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-neutral-700",children:a}),v.jsx("kbd",{className:"px-3 py-1 bg-neutral-100 border border-neutral-300 rounded text-sm font-mono",children:n})]},n))})]},t))})]})}),Ds=({children:e,defaultSize:t,minSize:r=200,maxSize:n=800,direction:a,position:o,storageKey:i,className:l=""})=>{const s=()=>{if(i)try{const w=localStorage.getItem(i);if(w){const T=parseInt(w,10);return Math.max(r,Math.min(n,T))}}catch(w){console.warn("Failed to load panel size from localStorage:",w)}return t},[u,c]=_.useState(s),[d,f]=_.useState(!1),[h,y]=_.useState(!1),x=_.useRef(0),k=_.useRef(0);_.useEffect(()=>{if(i)try{localStorage.setItem(i,u.toString())}catch(w){console.warn("Failed to save panel size to localStorage:",w)}},[u,i]);const p=_.useCallback(w=>{w.preventDefault(),f(!0),x.current=a==="horizontal"?w.clientX:w.clientY,k.current=u,document.body.style.userSelect="none"},[a,u]),m=_.useCallback(w=>{if(!d)return;let z=(a==="horizontal"?w.clientX:w.clientY)-x.current;(o==="right"||o==="bottom")&&(z=-z);const R=k.current+z,D=Math.max(r,Math.min(n,R));c(D)},[d,a,o,r,n]),g=_.useCallback(()=>{f(!1),document.body.style.userSelect=""},[]);_.useEffect(()=>{if(d)return window.addEventListener("mousemove",m),window.addEventListener("mouseup",g),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",g)}},[d,m,g]);const S=()=>a==="horizontal"?"cursor-col-resize":"cursor-row-resize",E=()=>{const w="absolute z-10 transition-colors",T="bg-transparent";if(a==="horizontal"){const z=`${w} ${T} top-0 bottom-0 w-2 ${S()}`;return o==="left"?`${z} -right-1`:`${z} -left-1`}else{const z=`${w} ${T} left-0 right-0 h-2 ${S()}`;return o==="top"?`${z} -bottom-1`:`${z} -top-1`}},N=()=>a==="horizontal"?{width:`${u}px`,flexShrink:0}:{height:`${u}px`,flexShrink:0};return v.jsxs("div",{className:`relative ${l}`,style:N(),children:[e,v.jsx("div",{className:E(),onMouseDown:p,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:(h||d)&&v.jsx("div",{className:"absolute bg-blue-500 transition-opacity pointer-events-none",style:{width:a==="horizontal"?"2px":"100%",height:a==="vertical"?"2px":"100%",left:a==="horizontal"?"50%":0,top:a==="vertical"?"50%":0,transform:a==="horizontal"?"translateX(-50%)":"translateY(-50%)",opacity:d?.8:.5}})})]})},PS=(e,t)=>({char:e,unicode:e.charCodeAt(0),gridSize:t,shapes:[],leftBearing:1,rightBearing:1,advanceWidth:t,modifiedAt:Date.now()}),zS=()=>{const e={gridSize:12,ascender:10,capHeight:8,xHeight:5,baseline:0,descender:-2,defaultAdvanceWidth:12,tracking:0},t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:-_+/?! ",r={};for(const n of t)r[n]=PS(n,e.gridSize);return{meta:{familyName:"ModGrid",styleName:"Regular"},metrics:e,glyphs:r,version:4}},AS=()=>{const[e,t]=_.useState(zS()),[r,n]=_.useState("A"),[a,o]=_.useState({}),i=_.useRef(null),l=_.useRef(new Map);_.useEffect(()=>()=>{i.current!==null&&(cancelAnimationFrame(i.current),i.current=null),l.current.clear()},[]);const s=_.useCallback(()=>{if(l.current.size===0)return;const R=new Map(l.current);l.current.clear(),t(D=>{let A=null;return R.forEach((j,V)=>{const Q=D.glyphs[V];if(!Q||j.size===0)return;let ee=!1;const H=Q.shapes.map(O=>{const M=j.get(O.id);return M?(ee=!0,{...O,...M}):O});ee&&(A||(A={...D.glyphs}),A[V]={...Q,shapes:H,modifiedAt:Date.now()})}),A?{...D,glyphs:A}:D})},[]),u=_.useCallback(()=>{i.current===null&&(i.current=requestAnimationFrame(()=>{i.current=null,s(),l.current.size>0&&u()}))},[s]),c=_.useCallback((R,D)=>{const A=l.current.get(R);return!A||A.size===0?D.shapes.map(j=>({...j})):D.shapes.map(j=>{const V=A.get(j.id);return V?{...j,...V}:{...j}})},[]),d=_.useCallback((R,D)=>{const A=l.current.get(R);A&&(A.delete(D),A.size===0&&l.current.delete(R))},[]),f=_.useCallback(R=>{l.current.delete(R)},[]),h=_.useCallback(()=>{i.current!==null&&(cancelAnimationFrame(i.current),i.current=null)},[]),y=_.useCallback(()=>{const R=e.glyphs[r];if(!R)return;const D=c(r,R);o(A=>{const V=[...(A[r]||{past:[]}).past,D];return V.length>50&&V.shift(),{...A,[r]:{past:V,future:[]}}}),u()},[e,r,c,u]),x=_.useCallback(R=>{h(),s(),t(D=>{const A=D.glyphs[r];return A?{...D,glyphs:{...D.glyphs,[r]:{...A,shapes:[...A.shapes,R],modifiedAt:Date.now()}}}:D})},[r,h,s]),k=_.useCallback((R,D)=>{if(!D||Object.keys(D).length===0)return;const A=r,j=l.current;let V=j.get(A);V||(V=new Map,j.set(A,V));const Q=V.get(R);V.set(R,Q?{...Q,...D}:{...D}),u()},[r,u]),p=_.useCallback(R=>{e.glyphs[r]&&(y(),d(r,R),t(A=>{const j=A.glyphs[r];if(!j)return A;const V=j.shapes.filter(Q=>Q.id!==R);return V.length===j.shapes.length?A:{...A,glyphs:{...A.glyphs,[r]:{...j,shapes:V,modifiedAt:Date.now()}}}}))},[e,r,y,d]),m=_.useCallback(R=>{const D=e.glyphs[r];if(!D)return;const j=c(r,D).find(ee=>ee.id===R);if(!j)return;y();const V=32,Q={...j,id:Date.now()+Math.random(),x:j.x+V,y:j.y+V};t(ee=>{const H=ee.glyphs[r];return H?{...ee,glyphs:{...ee.glyphs,[r]:{...H,shapes:[...H.shapes,Q],modifiedAt:Date.now()}}}:ee})},[e,r,c,y]),g=_.useCallback(()=>{const R=e.glyphs[r];R&&(R.shapes.length>0&&!confirm(`Clear all shapes from "${R.char}"?`)||(y(),h(),f(r),t(D=>{const A=D.glyphs[r];return A?{...D,glyphs:{...D.glyphs,[r]:{...A,shapes:[],modifiedAt:Date.now()}}}:D})))},[e,r,y,h,f]),S=_.useCallback(()=>{const R=a[r];if(!R||R.past.length===0)return;h(),f(r);const D=e.glyphs[r];if(!D)return;const A=R.past[R.past.length-1],j=R.past.slice(0,-1),V=[[...c(r,D)],...R.future];t(Q=>{const ee=Q.glyphs[r];return ee?{...Q,glyphs:{...Q.glyphs,[r]:{...ee,shapes:A,modifiedAt:Date.now()}}}:Q}),o(Q=>({...Q,[r]:{past:j,future:V}}))},[e,r,a,c,h,f]),E=_.useCallback(()=>{const R=a[r];if(!R||R.future.length===0)return;h(),f(r);const D=e.glyphs[r];if(!D)return;const A=R.future[0],j=[...R.past,[...c(r,D)]],V=R.future.slice(1);t(Q=>{const ee=Q.glyphs[r];return ee?{...Q,glyphs:{...Q.glyphs,[r]:{...ee,shapes:A,modifiedAt:Date.now()}}}:Q}),o(Q=>({...Q,[r]:{past:j,future:V}}))},[e,r,a,c,h,f]),N=_.useCallback((R,D)=>{h(),s(),t(A=>{const j=A.glyphs[r];return j?{...A,glyphs:{...A.glyphs,[r]:{...j,[R]:D,modifiedAt:Date.now()}}}:A})},[r,h,s]),w=_.useCallback(R=>{t(D=>({...D,metrics:{...D.metrics,...R}}))},[]),T=_.useCallback(R=>{h(),l.current.clear(),t(R),o({}),n(Object.keys(R.glyphs)[0]??"A")},[h]),z=_.useCallback(R=>{h(),s(),n(R)},[h,s]);return{font:e,currentGlyph:r,history:a,setCurrentGlyph:z,saveToHistory:y,addShape:x,updateShape:k,deleteShape:p,duplicateShape:m,clearGlyph:g,undo:S,redo:E,updateGlyph:N,updateMetrics:w,importFont:T}};function IS(e,t=[]){_.useEffect(()=>{const r=n=>{if(n.target.tagName!=="INPUT"&&n.target.tagName!=="TEXTAREA")for(const a of e){const o=a.ctrl===void 0||a.ctrl===(n.ctrlKey||n.metaKey),i=a.shift===void 0||a.shift===n.shiftKey,l=a.meta===void 0||a.meta===n.metaKey,s=n.key.toLowerCase()===a.key.toLowerCase();if(o&&i&&l&&s){n.preventDefault(),a.handler();break}}};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[e,...t])}function C(e,t,r){function n(l,s){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(e),t(l,s);for(const c in i.prototype)c in l||Object.defineProperty(l,c,{value:i.prototype[c].bind(l)});l._zod.constr=i,l._zod.def=s}const a=(r==null?void 0:r.Parent)??Object;class o extends a{}Object.defineProperty(o,"name",{value:e});function i(l){var s;const u=r!=null&&r.Parent?new o:this;n(u,l),(s=u._zod).deferred??(s.deferred=[]);for(const c of u._zod.deferred)c();return u}return Object.defineProperty(i,"init",{value:n}),Object.defineProperty(i,Symbol.hasInstance,{value:l=>{var s,u;return r!=null&&r.Parent&&l instanceof r.Parent?!0:(u=(s=l==null?void 0:l._zod)==null?void 0:s.traits)==null?void 0:u.has(e)}}),Object.defineProperty(i,"name",{value:e}),i}class An extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Av extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Iv={};function Pr(e){return Iv}function MS(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function Ml(e,t){return typeof t=="bigint"?t.toString():t}function Xu(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Yu(e){return e==null}function Qu(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function BS(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const s=n.match(/\d?e-(\d?)/);s!=null&&s[1]&&(a=Number.parseInt(s[1]))}const o=r>a?r:a,i=Number.parseInt(e.toFixed(o).replace(".","")),l=Number.parseInt(t.toFixed(o).replace(".",""));return i%l/10**o}const sd=Symbol("evaluating");function de(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==sd)return n===void 0&&(n=sd,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function un(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function cn(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function ld(e){return JSON.stringify(e)}const Mv="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Ti(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const jS=Xu(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Wn(e){if(Ti(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(Ti(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Bv(e){return Wn(e)?{...e}:Array.isArray(e)?[...e]:e}const GS=new Set(["string","number","symbol"]);function Wi(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Br(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(n._zod.parent=e),n}function Y(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function $S(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const HS={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function ZS(e,t){const r=e._zod.def,n=cn(e._zod.def,{get shape(){const a={};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(a[o]=r.shape[o])}return un(this,"shape",a),a},checks:[]});return Br(e,n)}function WS(e,t){const r=e._zod.def,n=cn(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete a[o]}return un(this,"shape",a),a},checks:[]});return Br(e,n)}function VS(e,t){if(!Wn(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=cn(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return un(this,"shape",o),o},checks:[]});return Br(e,a)}function XS(e,t){if(!Wn(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return un(this,"shape",n),n},checks:e._zod.def.checks};return Br(e,r)}function YS(e,t){const r=cn(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return un(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Br(e,r)}function QS(e,t,r){const n=cn(t._zod.def,{get shape(){const a=t._zod.def.shape,o={...a};if(r)for(const i in r){if(!(i in a))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(o[i]=e?new e({type:"optional",innerType:a[i]}):a[i])}else for(const i in a)o[i]=e?new e({type:"optional",innerType:a[i]}):a[i];return un(this,"shape",o),o},checks:[]});return Br(t,n)}function KS(e,t,r){const n=cn(t._zod.def,{get shape(){const a=t._zod.def.shape,o={...a};if(r)for(const i in r){if(!(i in o))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(o[i]=new e({type:"nonoptional",innerType:a[i]}))}else for(const i in a)o[i]=new e({type:"nonoptional",innerType:a[i]});return un(this,"shape",o),o},checks:[]});return Br(t,n)}function Rn(e,t=0){var r;if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(((r=e.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function _n(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function No(e){return typeof e=="string"?e:e==null?void 0:e.message}function zr(e,t,r){var a,o,i,l,s,u;const n={...e,path:e.path??[]};if(!e.message){const c=No((i=(o=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:o.error)==null?void 0:i.call(o,e))??No((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??No((s=r.customError)==null?void 0:s.call(r,e))??No((u=r.localeError)==null?void 0:u.call(r,e))??"Invalid input";n.message=c}return delete n.inst,delete n.continue,t!=null&&t.reportInput||delete n.input,n}function Ku(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function $a(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const jv=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Ml,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Gv=C("$ZodError",jv),$v=C("$ZodError",jv,{Parent:Error});function qS(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function JS(e,t=r=>r.message){const r={_errors:[]},n=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(i=>n({issues:i}));else if(o.code==="invalid_key")n({issues:o.issues});else if(o.code==="invalid_element")n({issues:o.issues});else if(o.path.length===0)r._errors.push(t(o));else{let i=r,l=0;for(;l<o.path.length;){const s=o.path[l];l===o.path.length-1?(i[s]=i[s]||{_errors:[]},i[s]._errors.push(t(o))):i[s]=i[s]||{_errors:[]},i=i[s],l++}}};return n(e),r}const qu=e=>(t,r,n,a)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},i=t._zod.run({value:r,issues:[]},o);if(i instanceof Promise)throw new An;if(i.issues.length){const l=new((a==null?void 0:a.Err)??e)(i.issues.map(s=>zr(s,o,Pr())));throw Mv(l,a==null?void 0:a.callee),l}return i.value},Ju=e=>async(t,r,n,a)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},o);if(i instanceof Promise&&(i=await i),i.issues.length){const l=new((a==null?void 0:a.Err)??e)(i.issues.map(s=>zr(s,o,Pr())));throw Mv(l,a==null?void 0:a.callee),l}return i.value},Vi=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},a);if(o instanceof Promise)throw new An;return o.issues.length?{success:!1,error:new(e??Gv)(o.issues.map(i=>zr(i,a,Pr())))}:{success:!0,data:o.value}},ew=Vi($v),Xi=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(i=>zr(i,a,Pr())))}:{success:!0,data:o.value}},tw=Xi($v),rw=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return qu(e)(t,r,a)},nw=e=>(t,r,n)=>qu(e)(t,r,n),aw=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Ju(e)(t,r,a)},ow=e=>async(t,r,n)=>Ju(e)(t,r,n),iw=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Vi(e)(t,r,a)},sw=e=>(t,r,n)=>Vi(e)(t,r,n),lw=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Xi(e)(t,r,a)},uw=e=>async(t,r,n)=>Xi(e)(t,r,n),cw=/^[cC][^\s-]{8,}$/,fw=/^[0-9a-z]+$/,dw=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,pw=/^[0-9a-vA-V]{20}$/,hw=/^[A-Za-z0-9]{27}$/,vw=/^[a-zA-Z0-9_-]{21}$/,gw=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,mw=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ud=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,yw=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,xw="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function kw(){return new RegExp(xw,"u")}const Sw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ww=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,bw=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Tw=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ew=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Hv=/^[A-Za-z0-9_-]*$/,Cw=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Fw=/^\+(?:[0-9]){6,14}[0-9]$/,Zv="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Rw=new RegExp(`^${Zv}$`);function Wv(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function _w(e){return new RegExp(`^${Wv(e)}$`)}function Nw(e){const t=Wv({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${Zv}T(?:${n})$`)}const Lw=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Ow=/^-?\d+$/,Uw=/^-?\d+(?:\.\d+)?/,Dw=/^[^A-Z]*$/,Pw=/^[^a-z]*$/,ct=C("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),Vv={number:"number",bigint:"bigint",object:"date"},Xv=C("$ZodCheckLessThan",(e,t)=>{ct.init(e,t);const r=Vv[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,o=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Yv=C("$ZodCheckGreaterThan",(e,t)=>{ct.init(e,t);const r=Vv[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,o=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),zw=C("$ZodCheckMultipleOf",(e,t)=>{ct.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):BS(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),Aw=C("$ZodCheckNumberFormat",(e,t)=>{var i;ct.init(e,t),t.format=t.format||"float64";const r=(i=t.format)==null?void 0:i.includes("int"),n=r?"int":"number",[a,o]=HS[t.format];e._zod.onattach.push(l=>{const s=l._zod.bag;s.format=t.format,s.minimum=a,s.maximum=o,r&&(s.pattern=Ow)}),e._zod.check=l=>{const s=l.value;if(r){if(!Number.isInteger(s)){l.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});return}if(!Number.isSafeInteger(s)){s>0?l.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):l.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}s<a&&l.issues.push({origin:"number",input:s,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),s>o&&l.issues.push({origin:"number",input:s,code:"too_big",maximum:o,inst:e})}}),Iw=C("$ZodCheckMaxLength",(e,t)=>{var r;ct.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!Yu(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const i=Ku(a);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Mw=C("$ZodCheckMinLength",(e,t)=>{var r;ct.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!Yu(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const i=Ku(a);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Bw=C("$ZodCheckLengthEquals",(e,t)=>{var r;ct.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!Yu(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,o=a.length;if(o===t.length)return;const i=Ku(a),l=o>t.length;n.issues.push({origin:i,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Yi=C("$ZodCheckStringFormat",(e,t)=>{var r,n;ct.init(e,t),e._zod.onattach.push(a=>{const o=a._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),jw=C("$ZodCheckRegex",(e,t)=>{Yi.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Gw=C("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Dw),Yi.init(e,t)}),$w=C("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Pw),Yi.init(e,t)}),Hw=C("$ZodCheckIncludes",(e,t)=>{ct.init(e,t);const r=Wi(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),Zw=C("$ZodCheckStartsWith",(e,t)=>{ct.init(e,t);const r=new RegExp(`^${Wi(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Ww=C("$ZodCheckEndsWith",(e,t)=>{ct.init(e,t);const r=new RegExp(`.*${Wi(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),Vw=C("$ZodCheckOverwrite",(e,t)=>{ct.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class Xw{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(i=>i),a=Math.min(...n.map(i=>i.length-i.trimStart().length)),o=n.map(i=>i.slice(a)).map(i=>" ".repeat(this.indent*2)+i);for(const i of o)this.content.push(i)}compile(){const t=Function,r=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...r,a.join(`
`))}}const Yw={major:4,minor:1,patch:12},Oe=C("$ZodType",(e,t)=>{var a;var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Yw;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const o of n)for(const i of o._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const o=(l,s,u)=>{let c=Rn(l),d;for(const f of s){if(f._zod.def.when){if(!f._zod.def.when(l))continue}else if(c)continue;const h=l.issues.length,y=f._zod.check(l);if(y instanceof Promise&&(u==null?void 0:u.async)===!1)throw new An;if(d||y instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await y,l.issues.length!==h&&(c||(c=Rn(l,h)))});else{if(l.issues.length===h)continue;c||(c=Rn(l,h))}}return d?d.then(()=>l):l},i=(l,s,u)=>{if(Rn(l))return l.aborted=!0,l;const c=o(s,n,u);if(c instanceof Promise){if(u.async===!1)throw new An;return c.then(d=>e._zod.parse(d,u))}return e._zod.parse(c,u)};e._zod.run=(l,s)=>{if(s.skipChecks)return e._zod.parse(l,s);if(s.direction==="backward"){const c=e._zod.parse({value:l.value,issues:[]},{...s,skipChecks:!0});return c instanceof Promise?c.then(d=>i(d,l,s)):i(c,l,s)}const u=e._zod.parse(l,s);if(u instanceof Promise){if(s.async===!1)throw new An;return u.then(c=>o(c,n,s))}return o(u,n,s)}}e["~standard"]={validate:o=>{var i;try{const l=ew(e,o);return l.success?{value:l.data}:{issues:(i=l.error)==null?void 0:i.issues}}catch{return tw(e,o).then(s=>{var u;return s.success?{value:s.data}:{issues:(u=s.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),ec=C("$ZodString",(e,t)=>{var r;Oe.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??Lw(e._zod.bag),e._zod.parse=(n,a)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),ye=C("$ZodStringFormat",(e,t)=>{Yi.init(e,t),ec.init(e,t)}),Qw=C("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=mw),ye.init(e,t)}),Kw=C("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=ud(n))}else t.pattern??(t.pattern=ud());ye.init(e,t)}),qw=C("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=yw),ye.init(e,t)}),Jw=C("$ZodURL",(e,t)=>{ye.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Cw.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),e2=C("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=kw()),ye.init(e,t)}),t2=C("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=vw),ye.init(e,t)}),r2=C("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=cw),ye.init(e,t)}),n2=C("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=fw),ye.init(e,t)}),a2=C("$ZodULID",(e,t)=>{t.pattern??(t.pattern=dw),ye.init(e,t)}),o2=C("$ZodXID",(e,t)=>{t.pattern??(t.pattern=pw),ye.init(e,t)}),i2=C("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=hw),ye.init(e,t)}),s2=C("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Nw(t)),ye.init(e,t)}),l2=C("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Rw),ye.init(e,t)}),u2=C("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=_w(t)),ye.init(e,t)}),c2=C("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=gw),ye.init(e,t)}),f2=C("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Sw),ye.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),d2=C("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=ww),ye.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),p2=C("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=bw),ye.init(e,t)}),h2=C("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Tw),ye.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[a,o]=n;if(!o)throw new Error;const i=Number(o);if(`${i}`!==o)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function Qv(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const v2=C("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Ew),ye.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{Qv(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function g2(e){if(!Hv.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return Qv(r)}const m2=C("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Hv),ye.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{g2(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),y2=C("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Fw),ye.init(e,t)});function x2(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const k2=C("$ZodJWT",(e,t)=>{ye.init(e,t),e._zod.check=r=>{x2(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),Kv=C("$ZodNumber",(e,t)=>{Oe.init(e,t),e._zod.pattern=e._zod.bag.pattern??Uw,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...o?{received:o}:{}}),r}}),S2=C("$ZodNumber",(e,t)=>{Aw.init(e,t),Kv.init(e,t)}),w2=C("$ZodUnknown",(e,t)=>{Oe.init(e,t),e._zod.parse=r=>r}),b2=C("$ZodNever",(e,t)=>{Oe.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function cd(e,t,r){e.issues.length&&t.issues.push(..._n(r,e.issues)),t.value[r]=e.value}const T2=C("$ZodArray",(e,t)=>{Oe.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const o=[];for(let i=0;i<a.length;i++){const l=a[i],s=t.element._zod.run({value:l,issues:[]},n);s instanceof Promise?o.push(s.then(u=>cd(u,r,i))):cd(s,r,i)}return o.length?Promise.all(o).then(()=>r):r}});function Ei(e,t,r,n){e.issues.length&&t.issues.push(..._n(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function qv(e){var n,a,o,i;const t=Object.keys(e.shape);for(const l of t)if(!((i=(o=(a=(n=e.shape)==null?void 0:n[l])==null?void 0:a._zod)==null?void 0:o.traits)!=null&&i.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const r=$S(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function Jv(e,t,r,n,a,o){const i=[],l=a.keySet,s=a.catchall._zod,u=s.def.type;for(const c of Object.keys(t)){if(l.has(c))continue;if(u==="never"){i.push(c);continue}const d=s.run({value:t[c],issues:[]},n);d instanceof Promise?e.push(d.then(f=>Ei(f,r,c,t))):Ei(d,r,c,t)}return i.length&&r.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:o}),e.length?Promise.all(e).then(()=>r):r}const E2=C("$ZodObject",(e,t)=>{Oe.init(e,t);const r=Object.getOwnPropertyDescriptor(t,"shape");if(!(r!=null&&r.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const s={...l};return Object.defineProperty(t,"shape",{value:s}),s}})}const n=Xu(()=>qv(t));de(e._zod,"propValues",()=>{const l=t.shape,s={};for(const u in l){const c=l[u]._zod;if(c.values){s[u]??(s[u]=new Set);for(const d of c.values)s[u].add(d)}}return s});const a=Ti,o=t.catchall;let i;e._zod.parse=(l,s)=>{i??(i=n.value);const u=l.value;if(!a(u))return l.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),l;l.value={};const c=[],d=i.shape;for(const f of i.keys){const y=d[f]._zod.run({value:u[f],issues:[]},s);y instanceof Promise?c.push(y.then(x=>Ei(x,l,f,u))):Ei(y,l,f,u)}return o?Jv(c,u,l,s,n.value,e):c.length?Promise.all(c).then(()=>l):l}}),C2=C("$ZodObjectJIT",(e,t)=>{E2.init(e,t);const r=e._zod.parse,n=Xu(()=>qv(t)),a=f=>{const h=new Xw(["shape","payload","ctx"]),y=n.value,x=g=>{const S=ld(g);return`shape[${S}]._zod.run({ value: input[${S}], issues: [] }, ctx)`};h.write("const input = payload.value;");const k=Object.create(null);let p=0;for(const g of y.keys)k[g]=`key_${p++}`;h.write("const newResult = {};");for(const g of y.keys){const S=k[g],E=ld(g);h.write(`const ${S} = ${x(g)};`),h.write(`
        if (${S}.issues.length) {
          payload.issues = payload.issues.concat(${S}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${E}, ...iss.path] : [${E}]
          })));
        }
        
        
        if (${S}.value === undefined) {
          if (${E} in input) {
            newResult[${E}] = undefined;
          }
        } else {
          newResult[${E}] = ${S}.value;
        }
        
      `)}h.write("payload.value = newResult;"),h.write("return payload;");const m=h.compile();return(g,S)=>m(f,g,S)};let o;const i=Ti,l=!Iv.jitless,u=l&&jS.value,c=t.catchall;let d;e._zod.parse=(f,h)=>{d??(d=n.value);const y=f.value;return i(y)?l&&u&&(h==null?void 0:h.async)===!1&&h.jitless!==!0?(o||(o=a(t.shape)),f=o(f,h),c?Jv([],y,f,h,d,e):f):r(f,h):(f.issues.push({expected:"object",code:"invalid_type",input:y,inst:e}),f)}});function fd(e,t,r,n){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const a=e.filter(o=>!Rn(o));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(o=>o.issues.map(i=>zr(i,n,Pr())))}),t)}const F2=C("$ZodUnion",(e,t)=>{Oe.init(e,t),de(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),de(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),de(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),de(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>Qu(o.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,o)=>{if(r)return n(a,o);let i=!1;const l=[];for(const s of t.options){const u=s._zod.run({value:a.value,issues:[]},o);if(u instanceof Promise)l.push(u),i=!0;else{if(u.issues.length===0)return u;l.push(u)}}return i?Promise.all(l).then(s=>fd(s,a,e,o)):fd(l,a,e,o)}}),R2=C("$ZodIntersection",(e,t)=>{Oe.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,o=t.left._zod.run({value:a,issues:[]},n),i=t.right._zod.run({value:a,issues:[]},n);return o instanceof Promise||i instanceof Promise?Promise.all([o,i]).then(([s,u])=>dd(r,s,u)):dd(r,o,i)}});function Bl(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Wn(e)&&Wn(t)){const r=Object.keys(t),n=Object.keys(e).filter(o=>r.indexOf(o)!==-1),a={...e,...t};for(const o of n){const i=Bl(e[o],t[o]);if(!i.valid)return{valid:!1,mergeErrorPath:[o,...i.mergeErrorPath]};a[o]=i.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],o=t[n],i=Bl(a,o);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};r.push(i.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function dd(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),Rn(e))return e;const n=Bl(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const _2=C("$ZodRecord",(e,t)=>{Oe.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Wn(a))return r.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),r;const o=[];if(t.keyType._zod.values){const i=t.keyType._zod.values;r.value={};for(const s of i)if(typeof s=="string"||typeof s=="number"||typeof s=="symbol"){const u=t.valueType._zod.run({value:a[s],issues:[]},n);u instanceof Promise?o.push(u.then(c=>{c.issues.length&&r.issues.push(..._n(s,c.issues)),r.value[s]=c.value})):(u.issues.length&&r.issues.push(..._n(s,u.issues)),r.value[s]=u.value)}let l;for(const s in a)i.has(s)||(l=l??[],l.push(s));l&&l.length>0&&r.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:l})}else{r.value={};for(const i of Reflect.ownKeys(a)){if(i==="__proto__")continue;const l=t.keyType._zod.run({value:i,issues:[]},n);if(l instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(l.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(u=>zr(u,n,Pr())),input:i,path:[i],inst:e}),r.value[l.value]=l.value;continue}const s=t.valueType._zod.run({value:a[i],issues:[]},n);s instanceof Promise?o.push(s.then(u=>{u.issues.length&&r.issues.push(..._n(i,u.issues)),r.value[l.value]=u.value})):(s.issues.length&&r.issues.push(..._n(i,s.issues)),r.value[l.value]=s.value)}}return o.length?Promise.all(o).then(()=>r):r}}),N2=C("$ZodEnum",(e,t)=>{Oe.init(e,t);const r=MS(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>GS.has(typeof a)).map(a=>typeof a=="string"?Wi(a):a.toString()).join("|")})$`),e._zod.parse=(a,o)=>{const i=a.value;return n.has(i)||a.issues.push({code:"invalid_value",values:r,input:i,inst:e}),a}}),L2=C("$ZodTransform",(e,t)=>{Oe.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Av(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(i=>(r.value=i,r));if(a instanceof Promise)throw new An;return r.value=a,r}});function pd(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const O2=C("$ZodOptional",(e,t)=>{Oe.init(e,t),e._zod.optin="optional",e._zod.optout="optional",de(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),de(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Qu(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>pd(o,r.value)):pd(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),U2=C("$ZodNullable",(e,t)=>{Oe.init(e,t),de(e._zod,"optin",()=>t.innerType._zod.optin),de(e._zod,"optout",()=>t.innerType._zod.optout),de(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Qu(r.source)}|null)$`):void 0}),de(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),D2=C("$ZodDefault",(e,t)=>{Oe.init(e,t),e._zod.optin="optional",de(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>hd(o,t)):hd(a,t)}});function hd(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const P2=C("$ZodPrefault",(e,t)=>{Oe.init(e,t),e._zod.optin="optional",de(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),z2=C("$ZodNonOptional",(e,t)=>{Oe.init(e,t),de(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>vd(o,e)):vd(a,e)}});function vd(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const A2=C("$ZodCatch",(e,t)=>{Oe.init(e,t),de(e._zod,"optin",()=>t.innerType._zod.optin),de(e._zod,"optout",()=>t.innerType._zod.optout),de(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(i=>zr(i,n,Pr()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(o=>zr(o,n,Pr()))},input:r.value}),r.issues=[]),r)}}),I2=C("$ZodPipe",(e,t)=>{Oe.init(e,t),de(e._zod,"values",()=>t.in._zod.values),de(e._zod,"optin",()=>t.in._zod.optin),de(e._zod,"optout",()=>t.out._zod.optout),de(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const o=t.out._zod.run(r,n);return o instanceof Promise?o.then(i=>Lo(i,t.in,n)):Lo(o,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(o=>Lo(o,t.out,n)):Lo(a,t.out,n)}});function Lo(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const M2=C("$ZodReadonly",(e,t)=>{Oe.init(e,t),de(e._zod,"propValues",()=>t.innerType._zod.propValues),de(e._zod,"values",()=>t.innerType._zod.values),de(e._zod,"optin",()=>t.innerType._zod.optin),de(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(gd):gd(a)}});function gd(e){return e.value=Object.freeze(e.value),e}const B2=C("$ZodCustom",(e,t)=>{ct.init(e,t),Oe.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(o=>md(o,r,n,e));md(a,r,n,e)}});function md(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push($a(a))}}class j2{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function G2(){return new j2}const Oo=G2();function $2(e,t){return new e({type:"string",...Y(t)})}function H2(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Y(t)})}function yd(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Y(t)})}function Z2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Y(t)})}function W2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Y(t)})}function V2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Y(t)})}function X2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Y(t)})}function Y2(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Y(t)})}function Q2(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Y(t)})}function K2(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Y(t)})}function q2(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Y(t)})}function J2(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Y(t)})}function eb(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Y(t)})}function tb(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Y(t)})}function rb(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Y(t)})}function nb(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Y(t)})}function ab(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Y(t)})}function ob(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Y(t)})}function ib(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Y(t)})}function sb(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Y(t)})}function lb(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Y(t)})}function ub(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Y(t)})}function cb(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Y(t)})}function fb(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Y(t)})}function db(e,t){return new e({type:"string",format:"date",check:"string_format",...Y(t)})}function pb(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Y(t)})}function hb(e,t){return new e({type:"string",format:"duration",check:"string_format",...Y(t)})}function vb(e,t){return new e({type:"number",checks:[],...Y(t)})}function gb(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Y(t)})}function mb(e){return new e({type:"unknown"})}function yb(e,t){return new e({type:"never",...Y(t)})}function xd(e,t){return new Xv({check:"less_than",...Y(t),value:e,inclusive:!1})}function Ps(e,t){return new Xv({check:"less_than",...Y(t),value:e,inclusive:!0})}function kd(e,t){return new Yv({check:"greater_than",...Y(t),value:e,inclusive:!1})}function zs(e,t){return new Yv({check:"greater_than",...Y(t),value:e,inclusive:!0})}function Sd(e,t){return new zw({check:"multiple_of",...Y(t),value:e})}function e0(e,t){return new Iw({check:"max_length",...Y(t),maximum:e})}function Ci(e,t){return new Mw({check:"min_length",...Y(t),minimum:e})}function t0(e,t){return new Bw({check:"length_equals",...Y(t),length:e})}function xb(e,t){return new jw({check:"string_format",format:"regex",...Y(t),pattern:e})}function kb(e){return new Gw({check:"string_format",format:"lowercase",...Y(e)})}function Sb(e){return new $w({check:"string_format",format:"uppercase",...Y(e)})}function wb(e,t){return new Hw({check:"string_format",format:"includes",...Y(t),includes:e})}function bb(e,t){return new Zw({check:"string_format",format:"starts_with",...Y(t),prefix:e})}function Tb(e,t){return new Ww({check:"string_format",format:"ends_with",...Y(t),suffix:e})}function eo(e){return new Vw({check:"overwrite",tx:e})}function Eb(e){return eo(t=>t.normalize(e))}function Cb(){return eo(e=>e.trim())}function Fb(){return eo(e=>e.toLowerCase())}function Rb(){return eo(e=>e.toUpperCase())}function _b(e,t,r){return new e({type:"array",element:t,...Y(r)})}function Nb(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Y(r)})}function Lb(e){const t=Ob(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push($a(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push($a(a))}},e(r.value,r)));return t}function Ob(e,t){const r=new ct({check:"custom",...Y(t)});return r._zod.check=e,r}const Ub=C("ZodISODateTime",(e,t)=>{s2.init(e,t),Te.init(e,t)});function Db(e){return fb(Ub,e)}const Pb=C("ZodISODate",(e,t)=>{l2.init(e,t),Te.init(e,t)});function zb(e){return db(Pb,e)}const Ab=C("ZodISOTime",(e,t)=>{u2.init(e,t),Te.init(e,t)});function Ib(e){return pb(Ab,e)}const Mb=C("ZodISODuration",(e,t)=>{c2.init(e,t),Te.init(e,t)});function Bb(e){return hb(Mb,e)}const r0=(e,t)=>{Gv.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>JS(e,r)},flatten:{value:r=>qS(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Ml,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Ml,2)}},isEmpty:{get(){return e.issues.length===0}}})},jb=C("ZodError",r0),Nt=C("ZodError",r0,{Parent:Error}),Gb=qu(Nt),$b=Ju(Nt),Hb=Vi(Nt),Zb=Xi(Nt),Wb=rw(Nt),Vb=nw(Nt),Xb=aw(Nt),Yb=ow(Nt),Qb=iw(Nt),Kb=sw(Nt),qb=lw(Nt),Jb=uw(Nt),Pe=C("ZodType",(e,t)=>(Oe.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(cn(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>Br(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>Gb(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>Hb(e,r,n),e.parseAsync=async(r,n)=>$b(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Zb(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>Wb(e,r,n),e.decode=(r,n)=>Vb(e,r,n),e.encodeAsync=async(r,n)=>Xb(e,r,n),e.decodeAsync=async(r,n)=>Yb(e,r,n),e.safeEncode=(r,n)=>Qb(e,r,n),e.safeDecode=(r,n)=>Kb(e,r,n),e.safeEncodeAsync=async(r,n)=>qb(e,r,n),e.safeDecodeAsync=async(r,n)=>Jb(e,r,n),e.refine=(r,n)=>e.check(HT(r,n)),e.superRefine=r=>e.check(ZT(r)),e.overwrite=r=>e.check(eo(r)),e.optional=()=>Ed(e),e.nullable=()=>Cd(e),e.nullish=()=>Ed(Cd(e)),e.nonoptional=r=>AT(e,r),e.array=()=>o0(e),e.or=r=>ET([e,r]),e.and=r=>FT(e,r),e.transform=r=>Fd(e,LT(r)),e.default=r=>DT(e,r),e.prefault=r=>zT(e,r),e.catch=r=>MT(e,r),e.pipe=r=>Fd(e,r),e.readonly=()=>GT(e),e.describe=r=>{const n=e.clone();return Oo.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){var r;return(r=Oo.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Oo.get(e);const n=e.clone();return Oo.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),n0=C("_ZodString",(e,t)=>{ec.init(e,t),Pe.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(xb(...n)),e.includes=(...n)=>e.check(wb(...n)),e.startsWith=(...n)=>e.check(bb(...n)),e.endsWith=(...n)=>e.check(Tb(...n)),e.min=(...n)=>e.check(Ci(...n)),e.max=(...n)=>e.check(e0(...n)),e.length=(...n)=>e.check(t0(...n)),e.nonempty=(...n)=>e.check(Ci(1,...n)),e.lowercase=n=>e.check(kb(n)),e.uppercase=n=>e.check(Sb(n)),e.trim=()=>e.check(Cb()),e.normalize=(...n)=>e.check(Eb(...n)),e.toLowerCase=()=>e.check(Fb()),e.toUpperCase=()=>e.check(Rb())}),eT=C("ZodString",(e,t)=>{ec.init(e,t),n0.init(e,t),e.email=r=>e.check(H2(tT,r)),e.url=r=>e.check(Y2(rT,r)),e.jwt=r=>e.check(cb(mT,r)),e.emoji=r=>e.check(Q2(nT,r)),e.guid=r=>e.check(yd(wd,r)),e.uuid=r=>e.check(Z2(Uo,r)),e.uuidv4=r=>e.check(W2(Uo,r)),e.uuidv6=r=>e.check(V2(Uo,r)),e.uuidv7=r=>e.check(X2(Uo,r)),e.nanoid=r=>e.check(K2(aT,r)),e.guid=r=>e.check(yd(wd,r)),e.cuid=r=>e.check(q2(oT,r)),e.cuid2=r=>e.check(J2(iT,r)),e.ulid=r=>e.check(eb(sT,r)),e.base64=r=>e.check(sb(hT,r)),e.base64url=r=>e.check(lb(vT,r)),e.xid=r=>e.check(tb(lT,r)),e.ksuid=r=>e.check(rb(uT,r)),e.ipv4=r=>e.check(nb(cT,r)),e.ipv6=r=>e.check(ab(fT,r)),e.cidrv4=r=>e.check(ob(dT,r)),e.cidrv6=r=>e.check(ib(pT,r)),e.e164=r=>e.check(ub(gT,r)),e.datetime=r=>e.check(Db(r)),e.date=r=>e.check(zb(r)),e.time=r=>e.check(Ib(r)),e.duration=r=>e.check(Bb(r))});function Fi(e){return $2(eT,e)}const Te=C("ZodStringFormat",(e,t)=>{ye.init(e,t),n0.init(e,t)}),tT=C("ZodEmail",(e,t)=>{qw.init(e,t),Te.init(e,t)}),wd=C("ZodGUID",(e,t)=>{Qw.init(e,t),Te.init(e,t)}),Uo=C("ZodUUID",(e,t)=>{Kw.init(e,t),Te.init(e,t)}),rT=C("ZodURL",(e,t)=>{Jw.init(e,t),Te.init(e,t)}),nT=C("ZodEmoji",(e,t)=>{e2.init(e,t),Te.init(e,t)}),aT=C("ZodNanoID",(e,t)=>{t2.init(e,t),Te.init(e,t)}),oT=C("ZodCUID",(e,t)=>{r2.init(e,t),Te.init(e,t)}),iT=C("ZodCUID2",(e,t)=>{n2.init(e,t),Te.init(e,t)}),sT=C("ZodULID",(e,t)=>{a2.init(e,t),Te.init(e,t)}),lT=C("ZodXID",(e,t)=>{o2.init(e,t),Te.init(e,t)}),uT=C("ZodKSUID",(e,t)=>{i2.init(e,t),Te.init(e,t)}),cT=C("ZodIPv4",(e,t)=>{f2.init(e,t),Te.init(e,t)}),fT=C("ZodIPv6",(e,t)=>{d2.init(e,t),Te.init(e,t)}),dT=C("ZodCIDRv4",(e,t)=>{p2.init(e,t),Te.init(e,t)}),pT=C("ZodCIDRv6",(e,t)=>{h2.init(e,t),Te.init(e,t)}),hT=C("ZodBase64",(e,t)=>{v2.init(e,t),Te.init(e,t)}),vT=C("ZodBase64URL",(e,t)=>{m2.init(e,t),Te.init(e,t)}),gT=C("ZodE164",(e,t)=>{y2.init(e,t),Te.init(e,t)}),mT=C("ZodJWT",(e,t)=>{k2.init(e,t),Te.init(e,t)}),a0=C("ZodNumber",(e,t)=>{Kv.init(e,t),Pe.init(e,t),e.gt=(n,a)=>e.check(kd(n,a)),e.gte=(n,a)=>e.check(zs(n,a)),e.min=(n,a)=>e.check(zs(n,a)),e.lt=(n,a)=>e.check(xd(n,a)),e.lte=(n,a)=>e.check(Ps(n,a)),e.max=(n,a)=>e.check(Ps(n,a)),e.int=n=>e.check(bd(n)),e.safe=n=>e.check(bd(n)),e.positive=n=>e.check(kd(0,n)),e.nonnegative=n=>e.check(zs(0,n)),e.negative=n=>e.check(xd(0,n)),e.nonpositive=n=>e.check(Ps(0,n)),e.multipleOf=(n,a)=>e.check(Sd(n,a)),e.step=(n,a)=>e.check(Sd(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Ne(e){return vb(a0,e)}const yT=C("ZodNumberFormat",(e,t)=>{S2.init(e,t),a0.init(e,t)});function bd(e){return gb(yT,e)}const xT=C("ZodUnknown",(e,t)=>{w2.init(e,t),Pe.init(e,t)});function Td(){return mb(xT)}const kT=C("ZodNever",(e,t)=>{b2.init(e,t),Pe.init(e,t)});function ST(e){return yb(kT,e)}const wT=C("ZodArray",(e,t)=>{T2.init(e,t),Pe.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(Ci(r,n)),e.nonempty=r=>e.check(Ci(1,r)),e.max=(r,n)=>e.check(e0(r,n)),e.length=(r,n)=>e.check(t0(r,n)),e.unwrap=()=>e.element});function o0(e,t){return _b(wT,e,t)}const bT=C("ZodObject",(e,t)=>{C2.init(e,t),Pe.init(e,t),de(e,"shape",()=>t.shape),e.keyof=()=>tc(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Td()}),e.loose=()=>e.clone({...e._zod.def,catchall:Td()}),e.strict=()=>e.clone({...e._zod.def,catchall:ST()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>VS(e,r),e.safeExtend=r=>XS(e,r),e.merge=r=>YS(e,r),e.pick=r=>ZS(e,r),e.omit=r=>WS(e,r),e.partial=(...r)=>QS(i0,e,r[0]),e.required=(...r)=>KS(s0,e,r[0])});function to(e,t){const r={type:"object",shape:e??{},...Y(t)};return new bT(r)}const TT=C("ZodUnion",(e,t)=>{F2.init(e,t),Pe.init(e,t),e.options=t.options});function ET(e,t){return new TT({type:"union",options:e,...Y(t)})}const CT=C("ZodIntersection",(e,t)=>{R2.init(e,t),Pe.init(e,t)});function FT(e,t){return new CT({type:"intersection",left:e,right:t})}const RT=C("ZodRecord",(e,t)=>{_2.init(e,t),Pe.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function _T(e,t,r){return new RT({type:"record",keyType:e,valueType:t,...Y(r)})}const jl=C("ZodEnum",(e,t)=>{N2.init(e,t),Pe.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const o={};for(const i of n)if(r.has(i))o[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new jl({...t,checks:[],...Y(a),entries:o})},e.exclude=(n,a)=>{const o={...t.entries};for(const i of n)if(r.has(i))delete o[i];else throw new Error(`Key ${i} not found in enum`);return new jl({...t,checks:[],...Y(a),entries:o})}});function tc(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new jl({type:"enum",entries:r,...Y(t)})}const NT=C("ZodTransform",(e,t)=>{L2.init(e,t),Pe.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Av(e.constructor.name);r.addIssue=o=>{if(typeof o=="string")r.issues.push($a(o,r.value,t));else{const i=o;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),r.issues.push($a(i))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(o=>(r.value=o,r)):(r.value=a,r)}});function LT(e){return new NT({type:"transform",transform:e})}const i0=C("ZodOptional",(e,t)=>{O2.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ed(e){return new i0({type:"optional",innerType:e})}const OT=C("ZodNullable",(e,t)=>{U2.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Cd(e){return new OT({type:"nullable",innerType:e})}const UT=C("ZodDefault",(e,t)=>{D2.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function DT(e,t){return new UT({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Bv(t)}})}const PT=C("ZodPrefault",(e,t)=>{P2.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function zT(e,t){return new PT({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Bv(t)}})}const s0=C("ZodNonOptional",(e,t)=>{z2.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function AT(e,t){return new s0({type:"nonoptional",innerType:e,...Y(t)})}const IT=C("ZodCatch",(e,t)=>{A2.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function MT(e,t){return new IT({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const BT=C("ZodPipe",(e,t)=>{I2.init(e,t),Pe.init(e,t),e.in=t.in,e.out=t.out});function Fd(e,t){return new BT({type:"pipe",in:e,out:t})}const jT=C("ZodReadonly",(e,t)=>{M2.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function GT(e){return new jT({type:"readonly",innerType:e})}const $T=C("ZodCustom",(e,t)=>{B2.init(e,t),Pe.init(e,t)});function HT(e,t={}){return Nb($T,e,t)}function ZT(e){return Lb(e)}const WT=tc([K.TL,K.TR,K.BL,K.BR]),VT=tc([se.SQUARE,se.CIRCLE,se.TRIANGLE,se.QUARTER_CIRCLE]),XT=to({id:Ne(),type:VT,x:Ne(),y:Ne(),width:Ne().min(0),height:Ne().min(0),rotation:Ne(),corner:WT.nullable()}),YT=to({char:Fi(),unicode:Ne(),gridSize:Ne().min(1),shapes:o0(XT),leftBearing:Ne(),rightBearing:Ne(),advanceWidth:Ne(),modifiedAt:Ne()}),QT=to({gridSize:Ne().min(1),ascender:Ne(),capHeight:Ne(),xHeight:Ne(),baseline:Ne(),descender:Ne(),defaultAdvanceWidth:Ne(),tracking:Ne()}),KT=to({familyName:Fi().min(1),styleName:Fi().min(1)}),qT=to({meta:KT,metrics:QT,glyphs:_T(Fi(),YT),version:Ne()}),JT=e=>{try{return{success:!0,font:qT.parse(e)}}catch(t){return t instanceof jb?{success:!1,errors:t.issues.map(n=>`${n.path.join(".")||"<root>"}: ${n.message}`)}:{success:!1,errors:["Unknown validation error"]}}};function eE(){const{font:e,currentGlyph:t,history:r,setCurrentGlyph:n,saveToHistory:a,addShape:o,updateShape:i,deleteShape:l,duplicateShape:s,clearGlyph:u,undo:c,redo:d,updateGlyph:f,updateMetrics:h,importFont:y}=AS(),[x,k]=_.useState(se.SQUARE),[p,m]=_.useState(Qe.DRAW),[g,S]=_.useState(!1),[E,N]=_.useState([]);_.useEffect(()=>{N([])},[t]);const w=()=>{xS(e)},T=()=>{wS(e)},z=R=>{var j;const D=(j=R.target.files)==null?void 0:j[0];if(!D)return;const A=new FileReader;A.onload=V=>{var Q;try{const ee=JSON.parse((Q=V.target)==null?void 0:Q.result),H=JT(ee);if(H.success)y(H.font);else{const O=H.errors.join(`
- `);alert(`Failed to import font. Validation errors:
- ${O}`),console.error("Font import validation errors:",H.errors)}}catch(ee){alert("Failed to import font: Invalid JSON format"),console.error("JSON parse error:",ee)}},A.readAsText(D),R.target.value=""};return IS([{key:"?",handler:()=>S(!0),description:"Show keyboard shortcuts"},{key:"z",ctrl:!0,shift:!1,handler:()=>c(),description:"Undo"},{key:"z",ctrl:!0,shift:!0,handler:()=>d(),description:"Redo"}],[c,d]),v.jsxs("div",{className:"h-screen flex flex-col bg-neutral-50",children:[v.jsx(Hm,{font:e,onExportJSON:w,onExportTTF:T,onImportJSON:z,onShowShortcuts:()=>S(!0)}),v.jsx(Wm,{selectedShape:x,onSelectShape:k,tool:p,onToolChange:m}),v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[v.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[v.jsx(Ds,{defaultSize:280,minSize:200,maxSize:500,direction:"horizontal",position:"left",storageKey:"panel-glyph-grid-width",children:v.jsx(Xm,{font:e,currentGlyph:t,onSelectGlyph:n})}),v.jsx("div",{className:"flex-1 flex overflow-hidden",children:v.jsx(CS,{font:e,currentGlyph:t,selectedShapeType:x,tool:p,onToolChange:m,onAddShape:o,onUpdateShape:i,onDeleteShape:l,onClearGlyph:u,onUndo:c,onRedo:d,history:r,saveToHistory:a,onDuplicateShape:s,onUpdateMetrics:h,selectedShapeIds:E,onSelectionChange:N})}),v.jsx(Ds,{defaultSize:320,minSize:250,maxSize:600,direction:"horizontal",position:"right",storageKey:"panel-inspector-width",children:v.jsx(FS,{font:e,currentGlyph:t,onUpdateGlyph:f,onUpdateMetrics:h,selectedShapeIds:E,onUpdateShape:i,onSaveHistory:a})})]}),v.jsx(Ds,{defaultSize:120,minSize:80,maxSize:300,direction:"vertical",position:"bottom",storageKey:"panel-preview-height",children:v.jsx(OS,{font:e})})]}),g&&v.jsx(DS,{onClose:()=>S(!1)})]})}As.createRoot(document.getElementById("root")).render(v.jsx(Jr.StrictMode,{children:v.jsx(eE,{})}))});export default tE();
