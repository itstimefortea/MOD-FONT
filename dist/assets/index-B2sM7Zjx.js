var v0=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var eb=v0(R=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function g0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cp={exports:{}},Ci={},Fp={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a=Symbol.for("react.element"),m0=Symbol.for("react.portal"),y0=Symbol.for("react.fragment"),x0=Symbol.for("react.strict_mode"),k0=Symbol.for("react.profiler"),S0=Symbol.for("react.provider"),w0=Symbol.for("react.context"),T0=Symbol.for("react.forward_ref"),E0=Symbol.for("react.suspense"),b0=Symbol.for("react.memo"),C0=Symbol.for("react.lazy"),uc=Symbol.iterator;function F0(e){return e===null||typeof e!="object"?null:(e=uc&&e[uc]||e["@@iterator"],typeof e=="function"?e:null)}var Rp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_p=Object.assign,Lp={};function Vr(e,t,n){this.props=e,this.context=t,this.refs=Lp,this.updater=n||Rp}Vr.prototype.isReactComponent={};Vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Np(){}Np.prototype=Vr.prototype;function Bl(e,t,n){this.props=e,this.context=t,this.refs=Lp,this.updater=n||Rp}var jl=Bl.prototype=new Np;jl.constructor=Bl;_p(jl,Vr.prototype);jl.isPureReactComponent=!0;var cc=Array.isArray,Op=Object.prototype.hasOwnProperty,Gl={current:null},Up={key:!0,ref:!0,__self:!0,__source:!0};function Dp(e,t,n){var r,a={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Op.call(t,r)&&!Up.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];a.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:$a,type:e,key:o,ref:i,props:a,_owner:Gl.current}}function R0(e,t){return{$$typeof:$a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $l(e){return typeof e=="object"&&e!==null&&e.$$typeof===$a}function _0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fc=/\/+/g;function Ki(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_0(""+e.key):t.toString(36)}function Oo(e,t,n,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case $a:case m0:i=!0}}if(i)return i=e,a=a(i),e=r===""?"."+Ki(i,0):r,cc(a)?(n="",e!=null&&(n=e.replace(fc,"$&/")+"/"),Oo(a,t,n,"",function(u){return u})):a!=null&&($l(a)&&(a=R0(a,n+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(fc,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=r===""?".":r+":",cc(e))for(var l=0;l<e.length;l++){o=e[l];var s=r+Ki(o,l);i+=Oo(o,t,n,s,a)}else if(s=F0(e),typeof s=="function")for(e=s.call(e),l=0;!(o=e.next()).done;)o=o.value,s=r+Ki(o,l++),i+=Oo(o,t,n,s,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ao(e,t,n){if(e==null)return e;var r=[],a=0;return Oo(e,r,"","",function(o){return t.call(n,o,a++)}),r}function L0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rt={current:null},Uo={transition:null},N0={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Uo,ReactCurrentOwner:Gl};function Pp(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:ao,forEach:function(e,t,n){ao(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ao(e,function(){t++}),t},toArray:function(e){return ao(e,function(t){return t})||[]},only:function(e){if(!$l(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Vr;re.Fragment=y0;re.Profiler=k0;re.PureComponent=Bl;re.StrictMode=x0;re.Suspense=E0;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N0;re.act=Pp;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_p({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Gl.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)Op.call(t,s)&&!Up.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&l!==void 0?l[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:$a,type:e.type,key:a,ref:o,props:r,_owner:i}};re.createContext=function(e){return e={$$typeof:w0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:S0,_context:e},e.Consumer=e};re.createElement=Dp;re.createFactory=function(e){var t=Dp.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:T0,render:e}};re.isValidElement=$l;re.lazy=function(e){return{$$typeof:C0,_payload:{_status:-1,_result:e},_init:L0}};re.memo=function(e,t){return{$$typeof:b0,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Uo.transition;Uo.transition={};try{e()}finally{Uo.transition=t}};re.unstable_act=Pp;re.useCallback=function(e,t){return rt.current.useCallback(e,t)};re.useContext=function(e){return rt.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return rt.current.useDeferredValue(e)};re.useEffect=function(e,t){return rt.current.useEffect(e,t)};re.useId=function(){return rt.current.useId()};re.useImperativeHandle=function(e,t,n){return rt.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return rt.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return rt.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return rt.current.useMemo(e,t)};re.useReducer=function(e,t,n){return rt.current.useReducer(e,t,n)};re.useRef=function(e){return rt.current.useRef(e)};re.useState=function(e){return rt.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return rt.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return rt.current.useTransition()};re.version="18.3.1";Fp.exports=re;var L=Fp.exports;const er=g0(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0=L,U0=Symbol.for("react.element"),D0=Symbol.for("react.fragment"),P0=Object.prototype.hasOwnProperty,z0=O0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I0={key:!0,ref:!0,__self:!0,__source:!0};function zp(e,t,n){var r,a={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)P0.call(t,r)&&!I0.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:U0,type:e,key:o,ref:i,props:a,_owner:z0.current}}Ci.Fragment=D0;Ci.jsx=zp;Ci.jsxs=zp;Cp.exports=Ci;var m=Cp.exports,Ps={},Ip={exports:{}},mt={},Ap={exports:{}},Mp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,A){var Z=U.length;U.push(A);e:for(;0<Z;){var X=Z-1>>>1,te=U[X];if(0<a(te,A))U[X]=A,U[Z]=te,Z=X;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var A=U[0],Z=U.pop();if(Z!==A){U[0]=Z;e:for(var X=0,te=U.length,Ee=te>>>1;X<Ee;){var ft=2*(X+1)-1,ze=U[ft],Je=ft+1,wt=U[Je];if(0>a(ze,Z))Je<te&&0>a(wt,ze)?(U[X]=wt,U[Je]=Z,X=Je):(U[X]=ze,U[ft]=Z,X=ft);else if(Je<te&&0>a(wt,Z))U[X]=wt,U[Je]=Z,X=Je;else break e}}return A}function a(U,A){var Z=U.sortIndex-A.sortIndex;return Z!==0?Z:U.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var s=[],u=[],c=1,p=null,f=3,d=!1,x=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(U){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=U)r(u),A.sortIndex=A.expirationTime,t(s,A);else break;A=n(u)}}function S(U){if(y=!1,v(U),!x)if(n(s)!==null)x=!0,ee(T);else{var A=n(u);A!==null&&W(S,A.startTime-U)}}function T(U,A){x=!1,y&&(y=!1,h(b),b=-1),d=!0;var Z=f;try{for(v(A),p=n(s);p!==null&&(!(p.expirationTime>A)||U&&!F());){var X=p.callback;if(typeof X=="function"){p.callback=null,f=p.priorityLevel;var te=X(p.expirationTime<=A);A=e.unstable_now(),typeof te=="function"?p.callback=te:p===n(s)&&r(s),v(A)}else r(s);p=n(s)}if(p!==null)var Ee=!0;else{var ft=n(u);ft!==null&&W(S,ft.startTime-A),Ee=!1}return Ee}finally{p=null,f=Z,d=!1}}var N=!1,E=null,b=-1,B=5,_=-1;function F(){return!(e.unstable_now()-_<B)}function z(){if(E!==null){var U=e.unstable_now();_=U;var A=!0;try{A=E(!0,U)}finally{A?j():(N=!1,E=null)}}else N=!1}var j;if(typeof g=="function")j=function(){g(z)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Y=H.port2;H.port1.onmessage=z,j=function(){Y.postMessage(null)}}else j=function(){k(z,0)};function ee(U){E=U,N||(N=!0,j())}function W(U,A){b=k(function(){U(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){x||d||(x=!0,ee(T))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(U){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var Z=f;f=A;try{return U()}finally{f=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,A){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=f;f=U;try{return A()}finally{f=Z}},e.unstable_scheduleCallback=function(U,A,Z){var X=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?X+Z:X):Z=X,U){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Z+te,U={id:c++,callback:A,priorityLevel:U,startTime:Z,expirationTime:te,sortIndex:-1},Z>X?(U.sortIndex=Z,t(u,U),n(s)===null&&U===n(u)&&(y?(h(b),b=-1):y=!0,W(S,Z-X))):(U.sortIndex=te,t(s,U),x||d||(x=!0,ee(T))),U},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(U){var A=f;return function(){var Z=f;f=A;try{return U.apply(this,arguments)}finally{f=Z}}}})(Mp);Ap.exports=Mp;var A0=Ap.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0=L,gt=A0;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bp=new Set,Sa={};function sr(e,t){Ar(e,t),Ar(e+"Capture",t)}function Ar(e,t){for(Sa[e]=t,e=0;e<t.length;e++)Bp.add(t[e])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=Object.prototype.hasOwnProperty,B0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pc={},dc={};function j0(e){return zs.call(dc,e)?!0:zs.call(pc,e)?!1:B0.test(e)?dc[e]=!0:(pc[e]=!0,!1)}function G0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $0(e,t,n,r){if(t===null||typeof t>"u"||G0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function at(e,t,n,r,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new at(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hl=/[\-:]([a-z])/g;function Zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hl,Zl);We[t]=new at(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hl,Zl);We[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hl,Zl);We[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wl(e,t,n,r){var a=We.hasOwnProperty(t)?We[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($0(t,n,a,r)&&(n=null),r||a===null?j0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fn=M0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oo=Symbol.for("react.element"),gr=Symbol.for("react.portal"),mr=Symbol.for("react.fragment"),Vl=Symbol.for("react.strict_mode"),Is=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),Gp=Symbol.for("react.context"),Xl=Symbol.for("react.forward_ref"),As=Symbol.for("react.suspense"),Ms=Symbol.for("react.suspense_list"),Yl=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),$p=Symbol.for("react.offscreen"),hc=Symbol.iterator;function qr(e){return e===null||typeof e!="object"?null:(e=hc&&e[hc]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,qi;function sa(e){if(qi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qi=t&&t[1]||""}return`
`+qi+e}var Ji=!1;function es(e,t){if(!e||Ji)return"";Ji=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=r.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var s=`
`+a[i].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=i&&0<=l);break}}}finally{Ji=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sa(e):""}function H0(e){switch(e.tag){case 5:return sa(e.type);case 16:return sa("Lazy");case 13:return sa("Suspense");case 19:return sa("SuspenseList");case 0:case 2:case 15:return e=es(e.type,!1),e;case 11:return e=es(e.type.render,!1),e;case 1:return e=es(e.type,!0),e;default:return""}}function Bs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mr:return"Fragment";case gr:return"Portal";case Is:return"Profiler";case Vl:return"StrictMode";case As:return"Suspense";case Ms:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gp:return(e.displayName||"Context")+".Consumer";case jp:return(e._context.displayName||"Context")+".Provider";case Xl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yl:return t=e.displayName||null,t!==null?t:Bs(e.type)||"Memo";case mn:t=e._payload,e=e._init;try{return Bs(e(t))}catch{}}return null}function Z0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bs(t);case 8:return t===Vl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function W0(e){var t=Hp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function io(e){e._valueTracker||(e._valueTracker=W0(e))}function Zp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function js(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Un(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wp(e,t){t=t.checked,t!=null&&Wl(e,"checked",t,!1)}function Gs(e,t){Wp(e,t);var n=Un(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$s(e,t.type,n):t.hasOwnProperty("defaultValue")&&$s(e,t.type,Un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $s(e,t,n){(t!=="number"||Wo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var la=Array.isArray;function Lr(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Un(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Hs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(la(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Un(n)}}function Vp(e,t){var n=Un(t.value),r=Un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function yc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var so,Yp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=so.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V0=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(e){V0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fa[t]=fa[e]})});function Qp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fa.hasOwnProperty(e)&&fa[e]?(""+t).trim():t+"px"}function Kp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Qp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var X0=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ws(e,t){if(t){if(X0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Vs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xs=null;function Ql(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ys=null,Nr=null,Or=null;function xc(e){if(e=Wa(e)){if(typeof Ys!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Ni(t),Ys(e.stateNode,e.type,t))}}function qp(e){Nr?Or?Or.push(e):Or=[e]:Nr=e}function Jp(){if(Nr){var e=Nr,t=Or;if(Or=Nr=null,xc(e),t)for(e=0;e<t.length;e++)xc(t[e])}}function ed(e,t){return e(t)}function td(){}var ts=!1;function nd(e,t,n){if(ts)return e(t,n);ts=!0;try{return ed(e,t,n)}finally{ts=!1,(Nr!==null||Or!==null)&&(td(),Jp())}}function Ta(e,t){var n=e.stateNode;if(n===null)return null;var r=Ni(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var Qs=!1;if(sn)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Qs=!1}function Y0(e,t,n,r,a,o,i,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var pa=!1,Vo=null,Xo=!1,Ks=null,Q0={onError:function(e){pa=!0,Vo=e}};function K0(e,t,n,r,a,o,i,l,s){pa=!1,Vo=null,Y0.apply(Q0,arguments)}function q0(e,t,n,r,a,o,i,l,s){if(K0.apply(this,arguments),pa){if(pa){var u=Vo;pa=!1,Vo=null}else throw Error(O(198));Xo||(Xo=!0,Ks=u)}}function lr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kc(e){if(lr(e)!==e)throw Error(O(188))}function J0(e){var t=e.alternate;if(!t){if(t=lr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return kc(a),e;if(o===r)return kc(a),t;o=o.sibling}throw Error(O(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function ad(e){return e=J0(e),e!==null?od(e):null}function od(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=od(e);if(t!==null)return t;e=e.sibling}return null}var id=gt.unstable_scheduleCallback,Sc=gt.unstable_cancelCallback,eg=gt.unstable_shouldYield,tg=gt.unstable_requestPaint,Le=gt.unstable_now,ng=gt.unstable_getCurrentPriorityLevel,Kl=gt.unstable_ImmediatePriority,sd=gt.unstable_UserBlockingPriority,Yo=gt.unstable_NormalPriority,rg=gt.unstable_LowPriority,ld=gt.unstable_IdlePriority,Fi=null,Qt=null;function ag(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Fi,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:sg,og=Math.log,ig=Math.LN2;function sg(e){return e>>>=0,e===0?32:31-(og(e)/ig|0)|0}var lo=64,uo=4194304;function ua(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~a;l!==0?r=ua(l):(o&=i,o!==0&&(r=ua(o)))}else i=n&~a,i!==0?r=ua(i):o!==0&&(r=ua(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pt(t),a=1<<n,r|=e[n],t&=~a;return r}function lg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ug(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Pt(o),l=1<<i,s=a[i];s===-1?(!(l&n)||l&r)&&(a[i]=lg(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}function qs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ud(){var e=lo;return lo<<=1,!(lo&4194240)&&(lo=64),e}function ns(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ha(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function cg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Pt(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}function ql(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var le=0;function cd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fd,Jl,pd,dd,hd,Js=!1,co=[],En=null,bn=null,Cn=null,Ea=new Map,ba=new Map,xn=[],fg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wc(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Ea.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ba.delete(t.pointerId)}}function ea(e,t,n,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Wa(t),t!==null&&Jl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function pg(e,t,n,r,a){switch(t){case"focusin":return En=ea(En,e,t,n,r,a),!0;case"dragenter":return bn=ea(bn,e,t,n,r,a),!0;case"mouseover":return Cn=ea(Cn,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Ea.set(o,ea(Ea.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,ba.set(o,ea(ba.get(o)||null,e,t,n,r,a)),!0}return!1}function vd(e){var t=Yn(e.target);if(t!==null){var n=lr(t);if(n!==null){if(t=n.tag,t===13){if(t=rd(n),t!==null){e.blockedOn=t,hd(e.priority,function(){pd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Do(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=el(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xs=r,n.target.dispatchEvent(r),Xs=null}else return t=Wa(n),t!==null&&Jl(t),e.blockedOn=n,!1;t.shift()}return!0}function Tc(e,t,n){Do(e)&&n.delete(t)}function dg(){Js=!1,En!==null&&Do(En)&&(En=null),bn!==null&&Do(bn)&&(bn=null),Cn!==null&&Do(Cn)&&(Cn=null),Ea.forEach(Tc),ba.forEach(Tc)}function ta(e,t){e.blockedOn===t&&(e.blockedOn=null,Js||(Js=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,dg)))}function Ca(e){function t(a){return ta(a,e)}if(0<co.length){ta(co[0],e);for(var n=1;n<co.length;n++){var r=co[n];r.blockedOn===e&&(r.blockedOn=null)}}for(En!==null&&ta(En,e),bn!==null&&ta(bn,e),Cn!==null&&ta(Cn,e),Ea.forEach(t),ba.forEach(t),n=0;n<xn.length;n++)r=xn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<xn.length&&(n=xn[0],n.blockedOn===null);)vd(n),n.blockedOn===null&&xn.shift()}var Ur=fn.ReactCurrentBatchConfig,Ko=!0;function hg(e,t,n,r){var a=le,o=Ur.transition;Ur.transition=null;try{le=1,eu(e,t,n,r)}finally{le=a,Ur.transition=o}}function vg(e,t,n,r){var a=le,o=Ur.transition;Ur.transition=null;try{le=4,eu(e,t,n,r)}finally{le=a,Ur.transition=o}}function eu(e,t,n,r){if(Ko){var a=el(e,t,n,r);if(a===null)ps(e,t,r,qo,n),wc(e,r);else if(pg(a,e,t,n,r))r.stopPropagation();else if(wc(e,r),t&4&&-1<fg.indexOf(e)){for(;a!==null;){var o=Wa(a);if(o!==null&&fd(o),o=el(e,t,n,r),o===null&&ps(e,t,r,qo,n),o===a)break;a=o}a!==null&&r.stopPropagation()}else ps(e,t,r,null,n)}}var qo=null;function el(e,t,n,r){if(qo=null,e=Ql(r),e=Yn(e),e!==null)if(t=lr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qo=e,null}function gd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ng()){case Kl:return 1;case sd:return 4;case Yo:case rg:return 16;case ld:return 536870912;default:return 16}default:return 16}}var Sn=null,tu=null,Po=null;function md(){if(Po)return Po;var e,t=tu,n=t.length,r,a="value"in Sn?Sn.value:Sn.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===a[o-r];r++);return Po=a.slice(e,1<r?1-r:void 0)}function zo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fo(){return!0}function Ec(){return!1}function yt(e){function t(n,r,a,o,i){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?fo:Ec,this.isPropagationStopped=Ec,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),t}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=yt(Xr),Za=we({},Xr,{view:0,detail:0}),gg=yt(Za),rs,as,na,Ri=we({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==na&&(na&&e.type==="mousemove"?(rs=e.screenX-na.screenX,as=e.screenY-na.screenY):as=rs=0,na=e),rs)},movementY:function(e){return"movementY"in e?e.movementY:as}}),bc=yt(Ri),mg=we({},Ri,{dataTransfer:0}),yg=yt(mg),xg=we({},Za,{relatedTarget:0}),os=yt(xg),kg=we({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sg=yt(kg),wg=we({},Xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tg=yt(wg),Eg=we({},Xr,{data:0}),Cc=yt(Eg),bg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fg[e])?!!t[e]:!1}function ru(){return Rg}var _g=we({},Za,{key:function(e){if(e.key){var t=bg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(e){return e.type==="keypress"?zo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lg=yt(_g),Ng=we({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fc=yt(Ng),Og=we({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),Ug=yt(Og),Dg=we({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pg=yt(Dg),zg=we({},Ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ig=yt(zg),Ag=[9,13,27,32],au=sn&&"CompositionEvent"in window,da=null;sn&&"documentMode"in document&&(da=document.documentMode);var Mg=sn&&"TextEvent"in window&&!da,yd=sn&&(!au||da&&8<da&&11>=da),Rc=" ",_c=!1;function xd(e,t){switch(e){case"keyup":return Ag.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yr=!1;function Bg(e,t){switch(e){case"compositionend":return kd(t);case"keypress":return t.which!==32?null:(_c=!0,Rc);case"textInput":return e=t.data,e===Rc&&_c?null:e;default:return null}}function jg(e,t){if(yr)return e==="compositionend"||!au&&xd(e,t)?(e=md(),Po=tu=Sn=null,yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yd&&t.locale!=="ko"?null:t.data;default:return null}}var Gg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gg[e.type]:t==="textarea"}function Sd(e,t,n,r){qp(r),t=Jo(t,"onChange"),0<t.length&&(n=new nu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ha=null,Fa=null;function $g(e){Od(e,0)}function _i(e){var t=Sr(e);if(Zp(t))return e}function Hg(e,t){if(e==="change")return t}var wd=!1;if(sn){var is;if(sn){var ss="oninput"in document;if(!ss){var Nc=document.createElement("div");Nc.setAttribute("oninput","return;"),ss=typeof Nc.oninput=="function"}is=ss}else is=!1;wd=is&&(!document.documentMode||9<document.documentMode)}function Oc(){ha&&(ha.detachEvent("onpropertychange",Td),Fa=ha=null)}function Td(e){if(e.propertyName==="value"&&_i(Fa)){var t=[];Sd(t,Fa,e,Ql(e)),nd($g,t)}}function Zg(e,t,n){e==="focusin"?(Oc(),ha=t,Fa=n,ha.attachEvent("onpropertychange",Td)):e==="focusout"&&Oc()}function Wg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _i(Fa)}function Vg(e,t){if(e==="click")return _i(t)}function Xg(e,t){if(e==="input"||e==="change")return _i(t)}function Yg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:Yg;function Ra(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!zs.call(t,a)||!It(e[a],t[a]))return!1}return!0}function Uc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dc(e,t){var n=Uc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uc(n)}}function Ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bd(){for(var e=window,t=Wo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wo(e.document)}return t}function ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qg(e){var t=bd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ed(n.ownerDocument.documentElement,n)){if(r!==null&&ou(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=Dc(n,o);var i=Dc(n,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kg=sn&&"documentMode"in document&&11>=document.documentMode,xr=null,tl=null,va=null,nl=!1;function Pc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nl||xr==null||xr!==Wo(r)||(r=xr,"selectionStart"in r&&ou(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),va&&Ra(va,r)||(va=r,r=Jo(tl,"onSelect"),0<r.length&&(t=new nu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xr)))}function po(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionend:po("Transition","TransitionEnd")},ls={},Cd={};sn&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function Li(e){if(ls[e])return ls[e];if(!kr[e])return e;var t=kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cd)return ls[e]=t[n];return e}var Fd=Li("animationend"),Rd=Li("animationiteration"),_d=Li("animationstart"),Ld=Li("transitionend"),Nd=new Map,zc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(e,t){Nd.set(e,t),sr(t,[e])}for(var us=0;us<zc.length;us++){var cs=zc[us],qg=cs.toLowerCase(),Jg=cs[0].toUpperCase()+cs.slice(1);An(qg,"on"+Jg)}An(Fd,"onAnimationEnd");An(Rd,"onAnimationIteration");An(_d,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(Ld,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),em=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function Ic(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,q0(r,t,void 0,e),e.currentTarget=null}function Od(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==o&&a.isPropagationStopped())break e;Ic(a,l,u),o=s}else for(i=0;i<r.length;i++){if(l=r[i],s=l.instance,u=l.currentTarget,l=l.listener,s!==o&&a.isPropagationStopped())break e;Ic(a,l,u),o=s}}}if(Xo)throw e=Ks,Xo=!1,Ks=null,e}function ge(e,t){var n=t[sl];n===void 0&&(n=t[sl]=new Set);var r=e+"__bubble";n.has(r)||(Ud(t,e,2,!1),n.add(r))}function fs(e,t,n){var r=0;t&&(r|=4),Ud(n,e,r,t)}var ho="_reactListening"+Math.random().toString(36).slice(2);function _a(e){if(!e[ho]){e[ho]=!0,Bp.forEach(function(n){n!=="selectionchange"&&(em.has(n)||fs(n,!1,e),fs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ho]||(t[ho]=!0,fs("selectionchange",!1,t))}}function Ud(e,t,n,r){switch(gd(t)){case 1:var a=hg;break;case 4:a=vg;break;default:a=eu}n=a.bind(null,t,n,e),a=void 0,!Qs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function ps(e,t,n,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var s=i.tag;if((s===3||s===4)&&(s=i.stateNode.containerInfo,s===a||s.nodeType===8&&s.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Yn(l),i===null)return;if(s=i.tag,s===5||s===6){r=o=i;continue e}l=l.parentNode}}r=r.return}nd(function(){var u=o,c=Ql(n),p=[];e:{var f=Nd.get(e);if(f!==void 0){var d=nu,x=e;switch(e){case"keypress":if(zo(n)===0)break e;case"keydown":case"keyup":d=Lg;break;case"focusin":x="focus",d=os;break;case"focusout":x="blur",d=os;break;case"beforeblur":case"afterblur":d=os;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Ug;break;case Fd:case Rd:case _d:d=Sg;break;case Ld:d=Pg;break;case"scroll":d=gg;break;case"wheel":d=Ig;break;case"copy":case"cut":case"paste":d=Tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Fc}var y=(t&4)!==0,k=!y&&e==="scroll",h=y?f!==null?f+"Capture":null:f;y=[];for(var g=u,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,h!==null&&(S=Ta(g,h),S!=null&&y.push(La(g,S,v)))),k)break;g=g.return}0<y.length&&(f=new d(f,x,null,n,c),p.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&n!==Xs&&(x=n.relatedTarget||n.fromElement)&&(Yn(x)||x[ln]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(x=n.relatedTarget||n.toElement,d=u,x=x?Yn(x):null,x!==null&&(k=lr(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(d=null,x=u),d!==x)){if(y=bc,S="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Fc,S="onPointerLeave",h="onPointerEnter",g="pointer"),k=d==null?f:Sr(d),v=x==null?f:Sr(x),f=new y(S,g+"leave",d,n,c),f.target=k,f.relatedTarget=v,S=null,Yn(c)===u&&(y=new y(h,g+"enter",x,n,c),y.target=v,y.relatedTarget=k,S=y),k=S,d&&x)t:{for(y=d,h=x,g=0,v=y;v;v=dr(v))g++;for(v=0,S=h;S;S=dr(S))v++;for(;0<g-v;)y=dr(y),g--;for(;0<v-g;)h=dr(h),v--;for(;g--;){if(y===h||h!==null&&y===h.alternate)break t;y=dr(y),h=dr(h)}y=null}else y=null;d!==null&&Ac(p,f,d,y,!1),x!==null&&k!==null&&Ac(p,k,x,y,!0)}}e:{if(f=u?Sr(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var T=Hg;else if(Lc(f))if(wd)T=Xg;else{T=Wg;var N=Zg}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=Vg);if(T&&(T=T(e,u))){Sd(p,T,n,c);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&$s(f,"number",f.value)}switch(N=u?Sr(u):window,e){case"focusin":(Lc(N)||N.contentEditable==="true")&&(xr=N,tl=u,va=null);break;case"focusout":va=tl=xr=null;break;case"mousedown":nl=!0;break;case"contextmenu":case"mouseup":case"dragend":nl=!1,Pc(p,n,c);break;case"selectionchange":if(Kg)break;case"keydown":case"keyup":Pc(p,n,c)}var E;if(au)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else yr?xd(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(yd&&n.locale!=="ko"&&(yr||b!=="onCompositionStart"?b==="onCompositionEnd"&&yr&&(E=md()):(Sn=c,tu="value"in Sn?Sn.value:Sn.textContent,yr=!0)),N=Jo(u,b),0<N.length&&(b=new Cc(b,e,null,n,c),p.push({event:b,listeners:N}),E?b.data=E:(E=kd(n),E!==null&&(b.data=E)))),(E=Mg?Bg(e,n):jg(e,n))&&(u=Jo(u,"onBeforeInput"),0<u.length&&(c=new Cc("onBeforeInput","beforeinput",null,n,c),p.push({event:c,listeners:u}),c.data=E))}Od(p,t)})}function La(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jo(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Ta(e,n),o!=null&&r.unshift(La(e,o,a)),o=Ta(e,t),o!=null&&r.push(La(e,o,a))),e=e.return}return r}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ac(e,t,n,r,a){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(s!==null&&s===r)break;l.tag===5&&u!==null&&(l=u,a?(s=Ta(n,o),s!=null&&i.unshift(La(n,s,l))):a||(s=Ta(n,o),s!=null&&i.push(La(n,s,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var tm=/\r\n?/g,nm=/\u0000|\uFFFD/g;function Mc(e){return(typeof e=="string"?e:""+e).replace(tm,`
`).replace(nm,"")}function vo(e,t,n){if(t=Mc(t),Mc(e)!==t&&n)throw Error(O(425))}function ei(){}var rl=null,al=null;function ol(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var il=typeof setTimeout=="function"?setTimeout:void 0,rm=typeof clearTimeout=="function"?clearTimeout:void 0,Bc=typeof Promise=="function"?Promise:void 0,am=typeof queueMicrotask=="function"?queueMicrotask:typeof Bc<"u"?function(e){return Bc.resolve(null).then(e).catch(om)}:il;function om(e){setTimeout(function(){throw e})}function ds(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Ca(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Ca(t)}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Yr,Na="__reactProps$"+Yr,ln="__reactContainer$"+Yr,sl="__reactEvents$"+Yr,im="__reactListeners$"+Yr,sm="__reactHandles$"+Yr;function Yn(e){var t=e[Xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ln]||n[Xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jc(e);e!==null;){if(n=e[Xt])return n;e=jc(e)}return t}e=n,n=e.parentNode}return null}function Wa(e){return e=e[Xt]||e[ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Ni(e){return e[Na]||null}var ll=[],wr=-1;function Mn(e){return{current:e}}function me(e){0>wr||(e.current=ll[wr],ll[wr]=null,wr--)}function de(e,t){wr++,ll[wr]=e.current,e.current=t}var Dn={},qe=Mn(Dn),st=Mn(!1),tr=Dn;function Mr(e,t){var n=e.type.contextTypes;if(!n)return Dn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in n)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function lt(e){return e=e.childContextTypes,e!=null}function ti(){me(st),me(qe)}function Gc(e,t,n){if(qe.current!==Dn)throw Error(O(168));de(qe,t),de(st,n)}function Dd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(O(108,Z0(e)||"Unknown",a));return we({},n,r)}function ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dn,tr=qe.current,de(qe,e),de(st,st.current),!0}function $c(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=Dd(e,t,tr),r.__reactInternalMemoizedMergedChildContext=e,me(st),me(qe),de(qe,e)):me(st),de(st,n)}var en=null,Oi=!1,hs=!1;function Pd(e){en===null?en=[e]:en.push(e)}function lm(e){Oi=!0,Pd(e)}function Bn(){if(!hs&&en!==null){hs=!0;var e=0,t=le;try{var n=en;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}en=null,Oi=!1}catch(a){throw en!==null&&(en=en.slice(e+1)),id(Kl,Bn),a}finally{le=t,hs=!1}}return null}var Tr=[],Er=0,ri=null,ai=0,Et=[],bt=0,nr=null,tn=1,nn="";function Zn(e,t){Tr[Er++]=ai,Tr[Er++]=ri,ri=e,ai=t}function zd(e,t,n){Et[bt++]=tn,Et[bt++]=nn,Et[bt++]=nr,nr=e;var r=tn;e=nn;var a=32-Pt(r)-1;r&=~(1<<a),n+=1;var o=32-Pt(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,tn=1<<32-Pt(t)+a|n<<a|r,nn=o+e}else tn=1<<o|n<<a|r,nn=e}function iu(e){e.return!==null&&(Zn(e,1),zd(e,1,0))}function su(e){for(;e===ri;)ri=Tr[--Er],Tr[Er]=null,ai=Tr[--Er],Tr[Er]=null;for(;e===nr;)nr=Et[--bt],Et[bt]=null,nn=Et[--bt],Et[bt]=null,tn=Et[--bt],Et[bt]=null}var vt=null,ht=null,ye=!1,Dt=null;function Id(e,t){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,ht=Fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nr!==null?{id:tn,overflow:nn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,ht=null,!0):!1;default:return!1}}function ul(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cl(e){if(ye){var t=ht;if(t){var n=t;if(!Hc(e,t)){if(ul(e))throw Error(O(418));t=Fn(n.nextSibling);var r=vt;t&&Hc(e,t)?Id(r,n):(e.flags=e.flags&-4097|2,ye=!1,vt=e)}}else{if(ul(e))throw Error(O(418));e.flags=e.flags&-4097|2,ye=!1,vt=e}}}function Zc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function go(e){if(e!==vt)return!1;if(!ye)return Zc(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ol(e.type,e.memoizedProps)),t&&(t=ht)){if(ul(e))throw Ad(),Error(O(418));for(;t;)Id(e,t),t=Fn(t.nextSibling)}if(Zc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=Fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=vt?Fn(e.stateNode.nextSibling):null;return!0}function Ad(){for(var e=ht;e;)e=Fn(e.nextSibling)}function Br(){ht=vt=null,ye=!1}function lu(e){Dt===null?Dt=[e]:Dt.push(e)}var um=fn.ReactCurrentBatchConfig;function ra(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var a=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function mo(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wc(e){var t=e._init;return t(e._payload)}function Md(e){function t(h,g){if(e){var v=h.deletions;v===null?(h.deletions=[g],h.flags|=16):v.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function r(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function a(h,g){return h=Nn(h,g),h.index=0,h.sibling=null,h}function o(h,g,v){return h.index=v,e?(v=h.alternate,v!==null?(v=v.index,v<g?(h.flags|=2,g):v):(h.flags|=2,g)):(h.flags|=1048576,g)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,g,v,S){return g===null||g.tag!==6?(g=Ss(v,h.mode,S),g.return=h,g):(g=a(g,v),g.return=h,g)}function s(h,g,v,S){var T=v.type;return T===mr?c(h,g,v.props.children,S,v.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===mn&&Wc(T)===g.type)?(S=a(g,v.props),S.ref=ra(h,g,v),S.return=h,S):(S=$o(v.type,v.key,v.props,null,h.mode,S),S.ref=ra(h,g,v),S.return=h,S)}function u(h,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=ws(v,h.mode,S),g.return=h,g):(g=a(g,v.children||[]),g.return=h,g)}function c(h,g,v,S,T){return g===null||g.tag!==7?(g=Jn(v,h.mode,S,T),g.return=h,g):(g=a(g,v),g.return=h,g)}function p(h,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ss(""+g,h.mode,v),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case oo:return v=$o(g.type,g.key,g.props,null,h.mode,v),v.ref=ra(h,null,g),v.return=h,v;case gr:return g=ws(g,h.mode,v),g.return=h,g;case mn:var S=g._init;return p(h,S(g._payload),v)}if(la(g)||qr(g))return g=Jn(g,h.mode,v,null),g.return=h,g;mo(h,g)}return null}function f(h,g,v,S){var T=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return T!==null?null:l(h,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case oo:return v.key===T?s(h,g,v,S):null;case gr:return v.key===T?u(h,g,v,S):null;case mn:return T=v._init,f(h,g,T(v._payload),S)}if(la(v)||qr(v))return T!==null?null:c(h,g,v,S,null);mo(h,v)}return null}function d(h,g,v,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(v)||null,l(g,h,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case oo:return h=h.get(S.key===null?v:S.key)||null,s(g,h,S,T);case gr:return h=h.get(S.key===null?v:S.key)||null,u(g,h,S,T);case mn:var N=S._init;return d(h,g,v,N(S._payload),T)}if(la(S)||qr(S))return h=h.get(v)||null,c(g,h,S,T,null);mo(g,S)}return null}function x(h,g,v,S){for(var T=null,N=null,E=g,b=g=0,B=null;E!==null&&b<v.length;b++){E.index>b?(B=E,E=null):B=E.sibling;var _=f(h,E,v[b],S);if(_===null){E===null&&(E=B);break}e&&E&&_.alternate===null&&t(h,E),g=o(_,g,b),N===null?T=_:N.sibling=_,N=_,E=B}if(b===v.length)return n(h,E),ye&&Zn(h,b),T;if(E===null){for(;b<v.length;b++)E=p(h,v[b],S),E!==null&&(g=o(E,g,b),N===null?T=E:N.sibling=E,N=E);return ye&&Zn(h,b),T}for(E=r(h,E);b<v.length;b++)B=d(E,h,b,v[b],S),B!==null&&(e&&B.alternate!==null&&E.delete(B.key===null?b:B.key),g=o(B,g,b),N===null?T=B:N.sibling=B,N=B);return e&&E.forEach(function(F){return t(h,F)}),ye&&Zn(h,b),T}function y(h,g,v,S){var T=qr(v);if(typeof T!="function")throw Error(O(150));if(v=T.call(v),v==null)throw Error(O(151));for(var N=T=null,E=g,b=g=0,B=null,_=v.next();E!==null&&!_.done;b++,_=v.next()){E.index>b?(B=E,E=null):B=E.sibling;var F=f(h,E,_.value,S);if(F===null){E===null&&(E=B);break}e&&E&&F.alternate===null&&t(h,E),g=o(F,g,b),N===null?T=F:N.sibling=F,N=F,E=B}if(_.done)return n(h,E),ye&&Zn(h,b),T;if(E===null){for(;!_.done;b++,_=v.next())_=p(h,_.value,S),_!==null&&(g=o(_,g,b),N===null?T=_:N.sibling=_,N=_);return ye&&Zn(h,b),T}for(E=r(h,E);!_.done;b++,_=v.next())_=d(E,h,b,_.value,S),_!==null&&(e&&_.alternate!==null&&E.delete(_.key===null?b:_.key),g=o(_,g,b),N===null?T=_:N.sibling=_,N=_);return e&&E.forEach(function(z){return t(h,z)}),ye&&Zn(h,b),T}function k(h,g,v,S){if(typeof v=="object"&&v!==null&&v.type===mr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case oo:e:{for(var T=v.key,N=g;N!==null;){if(N.key===T){if(T=v.type,T===mr){if(N.tag===7){n(h,N.sibling),g=a(N,v.props.children),g.return=h,h=g;break e}}else if(N.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===mn&&Wc(T)===N.type){n(h,N.sibling),g=a(N,v.props),g.ref=ra(h,N,v),g.return=h,h=g;break e}n(h,N);break}else t(h,N);N=N.sibling}v.type===mr?(g=Jn(v.props.children,h.mode,S,v.key),g.return=h,h=g):(S=$o(v.type,v.key,v.props,null,h.mode,S),S.ref=ra(h,g,v),S.return=h,h=S)}return i(h);case gr:e:{for(N=v.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(h,g.sibling),g=a(g,v.children||[]),g.return=h,h=g;break e}else{n(h,g);break}else t(h,g);g=g.sibling}g=ws(v,h.mode,S),g.return=h,h=g}return i(h);case mn:return N=v._init,k(h,g,N(v._payload),S)}if(la(v))return x(h,g,v,S);if(qr(v))return y(h,g,v,S);mo(h,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(h,g.sibling),g=a(g,v),g.return=h,h=g):(n(h,g),g=Ss(v,h.mode,S),g.return=h,h=g),i(h)):n(h,g)}return k}var jr=Md(!0),Bd=Md(!1),oi=Mn(null),ii=null,br=null,uu=null;function cu(){uu=br=ii=null}function fu(e){var t=oi.current;me(oi),e._currentValue=t}function fl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dr(e,t){ii=e,uu=br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if(uu!==e)if(e={context:e,memoizedValue:t,next:null},br===null){if(ii===null)throw Error(O(308));br=e,ii.dependencies={lanes:0,firstContext:e}}else br=br.next=e;return t}var Qn=null;function pu(e){Qn===null?Qn=[e]:Qn.push(e)}function jd(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,pu(t)):(n.next=a.next,a.next=n),t.interleaved=n,un(e,r)}function un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yn=!1;function du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,un(e,n)}return a=r.interleaved,a===null?(t.next=t,pu(r)):(t.next=a.next,a.next=t),r.interleaved=t,un(e,n)}function Io(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ql(e,n)}}function Vc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?a=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function si(e,t,n,r){var a=e.updateQueue;yn=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var s=l,u=s.next;s.next=null,i===null?o=u:i.next=u,i=s;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==i&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(o!==null){var p=a.baseState;i=0,c=u=s=null,l=o;do{var f=l.lane,d=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,y=l;switch(f=t,d=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){p=x.call(d,p,f);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,f=typeof x=="function"?x.call(d,p,f):x,f==null)break e;p=we({},p,f);break e;case 2:yn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else d={eventTime:d,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=d,s=p):c=c.next=d,i|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(c===null&&(s=p),a.baseState=s,a.firstBaseUpdate=u,a.lastBaseUpdate=c,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);ar|=i,e.lanes=i,e.memoizedState=p}}function Xc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(O(191,a));a.call(r)}}}var Va={},Kt=Mn(Va),Oa=Mn(Va),Ua=Mn(Va);function Kn(e){if(e===Va)throw Error(O(174));return e}function hu(e,t){switch(de(Ua,t),de(Oa,e),de(Kt,Va),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zs(t,e)}me(Kt),de(Kt,t)}function Gr(){me(Kt),me(Oa),me(Ua)}function $d(e){Kn(Ua.current);var t=Kn(Kt.current),n=Zs(t,e.type);t!==n&&(de(Oa,e),de(Kt,n))}function vu(e){Oa.current===e&&(me(Kt),me(Oa))}var ke=Mn(0);function li(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vs=[];function gu(){for(var e=0;e<vs.length;e++)vs[e]._workInProgressVersionPrimary=null;vs.length=0}var Ao=fn.ReactCurrentDispatcher,gs=fn.ReactCurrentBatchConfig,rr=0,Se=null,Ie=null,Be=null,ui=!1,ga=!1,Da=0,cm=0;function Ve(){throw Error(O(321))}function mu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!It(e[n],t[n]))return!1;return!0}function yu(e,t,n,r,a,o){if(rr=o,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ao.current=e===null||e.memoizedState===null?hm:vm,e=n(r,a),ga){o=0;do{if(ga=!1,Da=0,25<=o)throw Error(O(301));o+=1,Be=Ie=null,t.updateQueue=null,Ao.current=gm,e=n(r,a)}while(ga)}if(Ao.current=ci,t=Ie!==null&&Ie.next!==null,rr=0,Be=Ie=Se=null,ui=!1,t)throw Error(O(300));return e}function xu(){var e=Da!==0;return Da=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Se.memoizedState=Be=e:Be=Be.next=e,Be}function _t(){if(Ie===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Be===null?Se.memoizedState:Be.next;if(t!==null)Be=t,Ie=e;else{if(e===null)throw Error(O(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Be===null?Se.memoizedState=Be=e:Be=Be.next=e}return Be}function Pa(e,t){return typeof t=="function"?t(e):t}function ms(e){var t=_t(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=Ie,a=r.baseQueue,o=n.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,n.pending=null}if(a!==null){o=a.next,r=r.baseState;var l=i=null,s=null,u=o;do{var c=u.lane;if((rr&c)===c)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(l=s=p,i=r):s=s.next=p,Se.lanes|=c,ar|=c}u=u.next}while(u!==null&&u!==o);s===null?i=r:s.next=l,It(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do o=a.lane,Se.lanes|=o,ar|=o,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ys(e){var t=_t(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);It(o,t.memoizedState)||(it=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Hd(){}function Zd(e,t){var n=Se,r=_t(),a=t(),o=!It(r.memoizedState,a);if(o&&(r.memoizedState=a,it=!0),r=r.queue,ku(Xd.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,za(9,Vd.bind(null,n,r,a,t),void 0,null),Ge===null)throw Error(O(349));rr&30||Wd(n,t,a)}return a}function Wd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vd(e,t,n,r){t.value=n,t.getSnapshot=r,Yd(t)&&Qd(e)}function Xd(e,t,n){return n(function(){Yd(t)&&Qd(e)})}function Yd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!It(e,n)}catch{return!0}}function Qd(e){var t=un(e,1);t!==null&&zt(t,e,1,-1)}function Yc(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:e},t.queue=e,e=e.dispatch=dm.bind(null,Se,e),[t.memoizedState,e]}function za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Kd(){return _t().memoizedState}function Mo(e,t,n,r){var a=Wt();Se.flags|=e,a.memoizedState=za(1|t,n,void 0,r===void 0?null:r)}function Ui(e,t,n,r){var a=_t();r=r===void 0?null:r;var o=void 0;if(Ie!==null){var i=Ie.memoizedState;if(o=i.destroy,r!==null&&mu(r,i.deps)){a.memoizedState=za(t,n,o,r);return}}Se.flags|=e,a.memoizedState=za(1|t,n,o,r)}function Qc(e,t){return Mo(8390656,8,e,t)}function ku(e,t){return Ui(2048,8,e,t)}function qd(e,t){return Ui(4,2,e,t)}function Jd(e,t){return Ui(4,4,e,t)}function eh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function th(e,t,n){return n=n!=null?n.concat([e]):null,Ui(4,4,eh.bind(null,t,e),n)}function Su(){}function nh(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rh(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ah(e,t,n){return rr&21?(It(n,t)||(n=ud(),Se.lanes|=n,ar|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function fm(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=gs.transition;gs.transition={};try{e(!1),t()}finally{le=n,gs.transition=r}}function oh(){return _t().memoizedState}function pm(e,t,n){var r=Ln(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ih(e))sh(t,n);else if(n=jd(e,t,n,r),n!==null){var a=nt();zt(n,e,r,a),lh(n,t,r)}}function dm(e,t,n){var r=Ln(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ih(e))sh(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(a.hasEagerState=!0,a.eagerState=l,It(l,i)){var s=t.interleaved;s===null?(a.next=a,pu(t)):(a.next=s.next,s.next=a),t.interleaved=a;return}}catch{}finally{}n=jd(e,t,a,r),n!==null&&(a=nt(),zt(n,e,r,a),lh(n,t,r))}}function ih(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function sh(e,t){ga=ui=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ql(e,n)}}var ci={readContext:Rt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},hm={readContext:Rt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:Qc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Mo(4194308,4,eh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=pm.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Yc,useDebugValue:Su,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Yc(!1),t=e[0];return e=fm.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,a=Wt();if(ye){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),Ge===null)throw Error(O(349));rr&30||Wd(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Qc(Xd.bind(null,r,o,e),[e]),r.flags|=2048,za(9,Vd.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Wt(),t=Ge.identifierPrefix;if(ye){var n=nn,r=tn;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Da++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vm={readContext:Rt,useCallback:nh,useContext:Rt,useEffect:ku,useImperativeHandle:th,useInsertionEffect:qd,useLayoutEffect:Jd,useMemo:rh,useReducer:ms,useRef:Kd,useState:function(){return ms(Pa)},useDebugValue:Su,useDeferredValue:function(e){var t=_t();return ah(t,Ie.memoizedState,e)},useTransition:function(){var e=ms(Pa)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Hd,useSyncExternalStore:Zd,useId:oh,unstable_isNewReconciler:!1},gm={readContext:Rt,useCallback:nh,useContext:Rt,useEffect:ku,useImperativeHandle:th,useInsertionEffect:qd,useLayoutEffect:Jd,useMemo:rh,useReducer:ys,useRef:Kd,useState:function(){return ys(Pa)},useDebugValue:Su,useDeferredValue:function(e){var t=_t();return Ie===null?t.memoizedState=e:ah(t,Ie.memoizedState,e)},useTransition:function(){var e=ys(Pa)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Hd,useSyncExternalStore:Zd,useId:oh,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Di={isMounted:function(e){return(e=e._reactInternals)?lr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nt(),a=Ln(e),o=an(r,a);o.payload=t,n!=null&&(o.callback=n),t=Rn(e,o,a),t!==null&&(zt(t,e,a,r),Io(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nt(),a=Ln(e),o=an(r,a);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Rn(e,o,a),t!==null&&(zt(t,e,a,r),Io(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),r=Ln(e),a=an(n,r);a.tag=2,t!=null&&(a.callback=t),t=Rn(e,a,r),t!==null&&(zt(t,e,r,n),Io(t,e,r))}};function Kc(e,t,n,r,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ra(n,r)||!Ra(a,o):!0}function uh(e,t,n){var r=!1,a=Dn,o=t.contextType;return typeof o=="object"&&o!==null?o=Rt(o):(a=lt(t)?tr:qe.current,r=t.contextTypes,o=(r=r!=null)?Mr(e,a):Dn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Di,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function qc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Di.enqueueReplaceState(t,t.state,null)}function dl(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},du(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Rt(o):(o=lt(t)?tr:qe.current,a.context=Mr(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(pl(e,t,o,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Di.enqueueReplaceState(a,a.state,null),si(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function $r(e,t){try{var n="",r=t;do n+=H0(r),r=r.return;while(r);var a=n}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function xs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mm=typeof WeakMap=="function"?WeakMap:Map;function ch(e,t,n){n=an(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pi||(pi=!0,El=r),hl(e,t)},n}function fh(e,t,n){n=an(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){hl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){hl(e,t),typeof r!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Jc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new mm;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Nm.bind(null,e,t,n),t.then(e,e))}function ef(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tf(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=an(-1,1),t.tag=2,Rn(n,t,1))),n.lanes|=1),e)}var ym=fn.ReactCurrentOwner,it=!1;function tt(e,t,n,r){t.child=e===null?Bd(t,null,n,r):jr(t,e.child,n,r)}function nf(e,t,n,r,a){n=n.render;var o=t.ref;return Dr(t,a),r=yu(e,t,n,r,o,a),n=xu(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,cn(e,t,a)):(ye&&n&&iu(t),t.flags|=1,tt(e,t,r,a),t.child)}function rf(e,t,n,r,a){if(e===null){var o=n.type;return typeof o=="function"&&!_u(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ph(e,t,o,r,a)):(e=$o(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ra,n(i,r)&&e.ref===t.ref)return cn(e,t,a)}return t.flags|=1,e=Nn(o,r),e.ref=t.ref,e.return=t,t.child=e}function ph(e,t,n,r,a){if(e!==null){var o=e.memoizedProps;if(Ra(o,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=o,(e.lanes&a)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,cn(e,t,a)}return vl(e,t,n,r,a)}function dh(e,t,n){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Fr,dt),dt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(Fr,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,de(Fr,dt),dt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,de(Fr,dt),dt|=r;return tt(e,t,a,n),t.child}function hh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vl(e,t,n,r,a){var o=lt(n)?tr:qe.current;return o=Mr(t,o),Dr(t,a),n=yu(e,t,n,r,o,a),r=xu(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,cn(e,t,a)):(ye&&r&&iu(t),t.flags|=1,tt(e,t,n,a),t.child)}function af(e,t,n,r,a){if(lt(n)){var o=!0;ni(t)}else o=!1;if(Dr(t,a),t.stateNode===null)Bo(e,t),uh(t,n,r),dl(t,n,r,a),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var s=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rt(u):(u=lt(n)?tr:qe.current,u=Mr(t,u));var c=n.getDerivedStateFromProps,p=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||s!==u)&&qc(t,i,r,u),yn=!1;var f=t.memoizedState;i.state=f,si(t,r,i,a),s=t.memoizedState,l!==r||f!==s||st.current||yn?(typeof c=="function"&&(pl(t,n,c,r),s=t.memoizedState),(l=yn||Kc(t,n,l,r,f,s,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),i.props=r,i.state=s,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Gd(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ot(t.type,l),i.props=u,p=t.pendingProps,f=i.context,s=n.contextType,typeof s=="object"&&s!==null?s=Rt(s):(s=lt(n)?tr:qe.current,s=Mr(t,s));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==p||f!==s)&&qc(t,i,r,s),yn=!1,f=t.memoizedState,i.state=f,si(t,r,i,a);var x=t.memoizedState;l!==p||f!==x||st.current||yn?(typeof d=="function"&&(pl(t,n,d,r),x=t.memoizedState),(u=yn||Kc(t,n,u,r,f,x,s)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),i.props=r,i.state=x,i.context=s,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return gl(e,t,n,r,o,a)}function gl(e,t,n,r,a,o){hh(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&$c(t,n,!1),cn(e,t,o);r=t.stateNode,ym.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=jr(t,e.child,null,o),t.child=jr(t,null,l,o)):tt(e,t,l,o),t.memoizedState=r.state,a&&$c(t,n,!0),t.child}function vh(e){var t=e.stateNode;t.pendingContext?Gc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gc(e,t.context,!1),hu(e,t.containerInfo)}function of(e,t,n,r,a){return Br(),lu(a),t.flags|=256,tt(e,t,n,r),t.child}var ml={dehydrated:null,treeContext:null,retryLane:0};function yl(e){return{baseLanes:e,cachePool:null,transitions:null}}function gh(e,t,n){var r=t.pendingProps,a=ke.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),de(ke,a&1),e===null)return cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ii(i,r,0,null),e=Jn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=yl(n),t.memoizedState=ml,e):wu(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return xm(e,t,i,r,l,a,n);if(o){o=r.fallback,i=t.mode,a=e.child,l=a.sibling;var s={mode:"hidden",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=Nn(a,s),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Nn(l,o):(o=Jn(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?yl(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=ml,r}return o=e.child,e=o.sibling,r=Nn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wu(e,t){return t=Ii({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yo(e,t,n,r){return r!==null&&lu(r),jr(t,e.child,null,n),e=wu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xm(e,t,n,r,a,o,i){if(n)return t.flags&256?(t.flags&=-257,r=xs(Error(O(422))),yo(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Ii({mode:"visible",children:r.children},a,0,null),o=Jn(o,a,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&jr(t,e.child,null,i),t.child.memoizedState=yl(i),t.memoizedState=ml,o);if(!(t.mode&1))return yo(e,t,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(O(419)),r=xs(o,r,void 0),yo(e,t,i,r)}if(l=(i&e.childLanes)!==0,it||l){if(r=Ge,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,un(e,a),zt(r,e,a,-1))}return Ru(),r=xs(Error(O(421))),yo(e,t,i,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Om.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ht=Fn(a.nextSibling),vt=t,ye=!0,Dt=null,e!==null&&(Et[bt++]=tn,Et[bt++]=nn,Et[bt++]=nr,tn=e.id,nn=e.overflow,nr=t),t=wu(t,r.children),t.flags|=4096,t)}function sf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fl(e.return,t,n)}function ks(e,t,n,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function mh(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(tt(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sf(e,n,t);else if(e.tag===19)sf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(ke,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&li(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ks(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&li(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ks(t,!0,n,null,o);break;case"together":ks(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ar|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=Nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function km(e,t,n){switch(t.tag){case 3:vh(t),Br();break;case 5:$d(t);break;case 1:lt(t.type)&&ni(t);break;case 4:hu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;de(oi,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?gh(e,t,n):(de(ke,ke.current&1),e=cn(e,t,n),e!==null?e.sibling:null);de(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return mh(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),de(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,dh(e,t,n)}return cn(e,t,n)}var yh,xl,xh,kh;yh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xl=function(){};xh=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Kn(Kt.current);var o=null;switch(n){case"input":a=js(e,a),r=js(e,r),o=[];break;case"select":a=we({},a,{value:void 0}),r=we({},r,{value:void 0}),o=[];break;case"textarea":a=Hs(e,a),r=Hs(e,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ei)}Ws(n,r);var i;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var s=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&s!==l&&(s!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||s&&s.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in s)s.hasOwnProperty(i)&&l[i]!==s[i]&&(n||(n={}),n[i]=s[i])}else n||(o||(o=[]),o.push(u,n)),n=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(o=o||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(o=o||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sa.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&ge("scroll",e),o||l===s||(o=[])):(o=o||[]).push(u,s))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};kh=function(e,t,n,r){n!==r&&(t.flags|=4)};function aa(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Sm(e,t,n){var r=t.pendingProps;switch(su(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return lt(t.type)&&ti(),Xe(t),null;case 3:return r=t.stateNode,Gr(),me(st),me(qe),gu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(go(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(Fl(Dt),Dt=null))),xl(e,t),Xe(t),null;case 5:vu(t);var a=Kn(Ua.current);if(n=t.type,e!==null&&t.stateNode!=null)xh(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return Xe(t),null}if(e=Kn(Kt.current),go(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Xt]=t,r[Na]=o,e=(t.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(a=0;a<ca.length;a++)ge(ca[a],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":vc(r,o),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ge("invalid",r);break;case"textarea":mc(r,o),ge("invalid",r)}Ws(n,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&vo(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&vo(r.textContent,l,e),a=["children",""+l]):Sa.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ge("scroll",r)}switch(n){case"input":io(r),gc(r,o,!0);break;case"textarea":io(r),yc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ei)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Xt]=t,e[Na]=r,yh(e,t,!1,!1),t.stateNode=e;e:{switch(i=Vs(n,r),n){case"dialog":ge("cancel",e),ge("close",e),a=r;break;case"iframe":case"object":case"embed":ge("load",e),a=r;break;case"video":case"audio":for(a=0;a<ca.length;a++)ge(ca[a],e);a=r;break;case"source":ge("error",e),a=r;break;case"img":case"image":case"link":ge("error",e),ge("load",e),a=r;break;case"details":ge("toggle",e),a=r;break;case"input":vc(e,r),a=js(e,r),ge("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=we({},r,{value:void 0}),ge("invalid",e);break;case"textarea":mc(e,r),a=Hs(e,r),ge("invalid",e);break;default:a=r}Ws(n,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="style"?Kp(e,s):o==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&Yp(e,s)):o==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&wa(e,s):typeof s=="number"&&wa(e,""+s):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Sa.hasOwnProperty(o)?s!=null&&o==="onScroll"&&ge("scroll",e):s!=null&&Wl(e,o,s,i))}switch(n){case"input":io(e),gc(e,r,!1);break;case"textarea":io(e),yc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Un(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Lr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Lr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)kh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=Kn(Ua.current),Kn(Kt.current),go(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xt]=t,(o=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:vo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xt]=t,t.stateNode=r}return Xe(t),null;case 13:if(me(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&ht!==null&&t.mode&1&&!(t.flags&128))Ad(),Br(),t.flags|=98560,o=!1;else if(o=go(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(O(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[Xt]=t}else Br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),o=!1}else Dt!==null&&(Fl(Dt),Dt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Ae===0&&(Ae=3):Ru())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return Gr(),xl(e,t),e===null&&_a(t.stateNode.containerInfo),Xe(t),null;case 10:return fu(t.type._context),Xe(t),null;case 17:return lt(t.type)&&ti(),Xe(t),null;case 19:if(me(ke),o=t.memoizedState,o===null)return Xe(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)aa(o,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=li(e),i!==null){for(t.flags|=128,aa(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(ke,ke.current&1|2),t.child}e=e.sibling}o.tail!==null&&Le()>Hr&&(t.flags|=128,r=!0,aa(o,!1),t.lanes=4194304)}else{if(!r)if(e=li(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),aa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ye)return Xe(t),null}else 2*Le()-o.renderingStartTime>Hr&&n!==1073741824&&(t.flags|=128,r=!0,aa(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Le(),t.sibling=null,n=ke.current,de(ke,r?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return Fu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dt&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function wm(e,t){switch(su(t),t.tag){case 1:return lt(t.type)&&ti(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),me(st),me(qe),gu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vu(t),null;case 13:if(me(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ke),null;case 4:return Gr(),null;case 10:return fu(t.type._context),null;case 22:case 23:return Fu(),null;case 24:return null;default:return null}}var xo=!1,Ke=!1,Tm=typeof WeakSet=="function"?WeakSet:Set,M=null;function Cr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function kl(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var lf=!1;function Em(e,t){if(rl=Ko,e=bd(),ou(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,s=-1,u=0,c=0,p=e,f=null;t:for(;;){for(var d;p!==n||a!==0&&p.nodeType!==3||(l=i+a),p!==o||r!==0&&p.nodeType!==3||(s=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(d=p.firstChild)!==null;)f=p,p=d;for(;;){if(p===e)break t;if(f===n&&++u===a&&(l=i),f===o&&++c===r&&(s=i),(d=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=d}n=l===-1||s===-1?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(al={focusedElem:e,selectionRange:n},Ko=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,k=x.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ot(t.type,y),k);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(S){Ce(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return x=lf,lf=!1,x}function ma(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&kl(t,n,o)}a=a.next}while(a!==r)}}function Pi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Sl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sh(e){var t=e.alternate;t!==null&&(e.alternate=null,Sh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xt],delete t[Na],delete t[sl],delete t[im],delete t[sm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wh(e){return e.tag===5||e.tag===3||e.tag===4}function uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ei));else if(r!==4&&(e=e.child,e!==null))for(wl(e,t,n),e=e.sibling;e!==null;)wl(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Tl(e,t,n),e=e.sibling;e!==null;)Tl(e,t,n),e=e.sibling}var He=null,Ut=!1;function dn(e,t,n){for(n=n.child;n!==null;)Th(e,t,n),n=n.sibling}function Th(e,t,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Fi,n)}catch{}switch(n.tag){case 5:Ke||Cr(n,t);case 6:var r=He,a=Ut;He=null,dn(e,t,n),He=r,Ut=a,He!==null&&(Ut?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Ut?(e=He,n=n.stateNode,e.nodeType===8?ds(e.parentNode,n):e.nodeType===1&&ds(e,n),Ca(e)):ds(He,n.stateNode));break;case 4:r=He,a=Ut,He=n.stateNode.containerInfo,Ut=!0,dn(e,t,n),He=r,Ut=a;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&kl(n,t,i),a=a.next}while(a!==r)}dn(e,t,n);break;case 1:if(!Ke&&(Cr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ce(n,t,l)}dn(e,t,n);break;case 21:dn(e,t,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,dn(e,t,n),Ke=r):dn(e,t,n);break;default:dn(e,t,n)}}function cf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Tm),t.forEach(function(r){var a=Um.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,Ut=!1;break e;case 3:He=l.stateNode.containerInfo,Ut=!0;break e;case 4:He=l.stateNode.containerInfo,Ut=!0;break e}l=l.return}if(He===null)throw Error(O(160));Th(o,i,a),He=null,Ut=!1;var s=a.alternate;s!==null&&(s.return=null),a.return=null}catch(u){Ce(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Eh(t,e),t=t.sibling}function Eh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nt(t,e),$t(e),r&4){try{ma(3,e,e.return),Pi(3,e)}catch(y){Ce(e,e.return,y)}try{ma(5,e,e.return)}catch(y){Ce(e,e.return,y)}}break;case 1:Nt(t,e),$t(e),r&512&&n!==null&&Cr(n,n.return);break;case 5:if(Nt(t,e),$t(e),r&512&&n!==null&&Cr(n,n.return),e.flags&32){var a=e.stateNode;try{wa(a,"")}catch(y){Ce(e,e.return,y)}}if(r&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Wp(a,o),Vs(l,i);var u=Vs(l,o);for(i=0;i<s.length;i+=2){var c=s[i],p=s[i+1];c==="style"?Kp(a,p):c==="dangerouslySetInnerHTML"?Yp(a,p):c==="children"?wa(a,p):Wl(a,c,p,u)}switch(l){case"input":Gs(a,o);break;case"textarea":Vp(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?Lr(a,!!o.multiple,d,!1):f!==!!o.multiple&&(o.defaultValue!=null?Lr(a,!!o.multiple,o.defaultValue,!0):Lr(a,!!o.multiple,o.multiple?[]:"",!1))}a[Na]=o}catch(y){Ce(e,e.return,y)}}break;case 6:if(Nt(t,e),$t(e),r&4){if(e.stateNode===null)throw Error(O(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(y){Ce(e,e.return,y)}}break;case 3:if(Nt(t,e),$t(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ca(t.containerInfo)}catch(y){Ce(e,e.return,y)}break;case 4:Nt(t,e),$t(e);break;case 13:Nt(t,e),$t(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(bu=Le())),r&4&&cf(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ke=(u=Ke)||c,Nt(t,e),Ke=u):Nt(t,e),$t(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(M=e,c=e.child;c!==null;){for(p=M=c;M!==null;){switch(f=M,d=f.child,f.tag){case 0:case 11:case 14:case 15:ma(4,f,f.return);break;case 1:Cr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){Ce(r,n,y)}}break;case 5:Cr(f,f.return);break;case 22:if(f.memoizedState!==null){pf(p);continue}}d!==null?(d.return=f,M=d):pf(p)}c=c.sibling}e:for(c=null,p=e;;){if(p.tag===5){if(c===null){c=p;try{a=p.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,s=p.memoizedProps.style,i=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=Qp("display",i))}catch(y){Ce(e,e.return,y)}}}else if(p.tag===6){if(c===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){Ce(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;c===p&&(c=null),p=p.return}c===p&&(c=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Nt(t,e),$t(e),r&4&&cf(e);break;case 21:break;default:Nt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wh(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(wa(a,""),r.flags&=-33);var o=uf(e);Tl(e,o,a);break;case 3:case 4:var i=r.stateNode.containerInfo,l=uf(e);wl(e,l,i);break;default:throw Error(O(161))}}catch(s){Ce(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bm(e,t,n){M=e,bh(e)}function bh(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var a=M,o=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||xo;if(!i){var l=a.alternate,s=l!==null&&l.memoizedState!==null||Ke;l=xo;var u=Ke;if(xo=i,(Ke=s)&&!u)for(M=a;M!==null;)i=M,s=i.child,i.tag===22&&i.memoizedState!==null?df(a):s!==null?(s.return=i,M=s):df(a);for(;o!==null;)M=o,bh(o),o=o.sibling;M=a,xo=l,Ke=u}ff(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,M=o):ff(e)}}function ff(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||Pi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Xc(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xc(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var p=c.dehydrated;p!==null&&Ca(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ke||t.flags&512&&Sl(t)}catch(f){Ce(t,t.return,f)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function pf(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function df(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pi(4,t)}catch(s){Ce(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(s){Ce(t,a,s)}}var o=t.return;try{Sl(t)}catch(s){Ce(t,o,s)}break;case 5:var i=t.return;try{Sl(t)}catch(s){Ce(t,i,s)}}}catch(s){Ce(t,t.return,s)}if(t===e){M=null;break}var l=t.sibling;if(l!==null){l.return=t.return,M=l;break}M=t.return}}var Cm=Math.ceil,fi=fn.ReactCurrentDispatcher,Tu=fn.ReactCurrentOwner,Ft=fn.ReactCurrentBatchConfig,ae=0,Ge=null,Ue=null,Ze=0,dt=0,Fr=Mn(0),Ae=0,Ia=null,ar=0,zi=0,Eu=0,ya=null,ot=null,bu=0,Hr=1/0,Jt=null,pi=!1,El=null,_n=null,ko=!1,wn=null,di=0,xa=0,bl=null,jo=-1,Go=0;function nt(){return ae&6?Le():jo!==-1?jo:jo=Le()}function Ln(e){return e.mode&1?ae&2&&Ze!==0?Ze&-Ze:um.transition!==null?(Go===0&&(Go=ud()),Go):(e=le,e!==0||(e=window.event,e=e===void 0?16:gd(e.type)),e):1}function zt(e,t,n,r){if(50<xa)throw xa=0,bl=null,Error(O(185));Ha(e,n,r),(!(ae&2)||e!==Ge)&&(e===Ge&&(!(ae&2)&&(zi|=n),Ae===4&&kn(e,Ze)),ut(e,r),n===1&&ae===0&&!(t.mode&1)&&(Hr=Le()+500,Oi&&Bn()))}function ut(e,t){var n=e.callbackNode;ug(e,t);var r=Qo(e,e===Ge?Ze:0);if(r===0)n!==null&&Sc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Sc(n),t===1)e.tag===0?lm(hf.bind(null,e)):Pd(hf.bind(null,e)),am(function(){!(ae&6)&&Bn()}),n=null;else{switch(cd(r)){case 1:n=Kl;break;case 4:n=sd;break;case 16:n=Yo;break;case 536870912:n=ld;break;default:n=Yo}n=Uh(n,Ch.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ch(e,t){if(jo=-1,Go=0,ae&6)throw Error(O(327));var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var r=Qo(e,e===Ge?Ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hi(e,r);else{t=r;var a=ae;ae|=2;var o=Rh();(Ge!==e||Ze!==t)&&(Jt=null,Hr=Le()+500,qn(e,t));do try{_m();break}catch(l){Fh(e,l)}while(!0);cu(),fi.current=o,ae=a,Ue!==null?t=0:(Ge=null,Ze=0,t=Ae)}if(t!==0){if(t===2&&(a=qs(e),a!==0&&(r=a,t=Cl(e,a))),t===1)throw n=Ia,qn(e,0),kn(e,r),ut(e,Le()),n;if(t===6)kn(e,r);else{if(a=e.current.alternate,!(r&30)&&!Fm(a)&&(t=hi(e,r),t===2&&(o=qs(e),o!==0&&(r=o,t=Cl(e,o))),t===1))throw n=Ia,qn(e,0),kn(e,r),ut(e,Le()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:Wn(e,ot,Jt);break;case 3:if(kn(e,r),(r&130023424)===r&&(t=bu+500-Le(),10<t)){if(Qo(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){nt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=il(Wn.bind(null,e,ot,Jt),t);break}Wn(e,ot,Jt);break;case 4:if(kn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-Pt(r);o=1<<i,i=t[i],i>a&&(a=i),r&=~o}if(r=a,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cm(r/1960))-r,10<r){e.timeoutHandle=il(Wn.bind(null,e,ot,Jt),r);break}Wn(e,ot,Jt);break;case 5:Wn(e,ot,Jt);break;default:throw Error(O(329))}}}return ut(e,Le()),e.callbackNode===n?Ch.bind(null,e):null}function Cl(e,t){var n=ya;return e.current.memoizedState.isDehydrated&&(qn(e,t).flags|=256),e=hi(e,t),e!==2&&(t=ot,ot=n,t!==null&&Fl(t)),e}function Fl(e){ot===null?ot=e:ot.push.apply(ot,e)}function Fm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!It(o(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~Eu,t&=~zi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),r=1<<n;e[n]=-1,t&=~r}}function hf(e){if(ae&6)throw Error(O(327));Pr();var t=Qo(e,0);if(!(t&1))return ut(e,Le()),null;var n=hi(e,t);if(e.tag!==0&&n===2){var r=qs(e);r!==0&&(t=r,n=Cl(e,r))}if(n===1)throw n=Ia,qn(e,0),kn(e,t),ut(e,Le()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wn(e,ot,Jt),ut(e,Le()),null}function Cu(e,t){var n=ae;ae|=1;try{return e(t)}finally{ae=n,ae===0&&(Hr=Le()+500,Oi&&Bn())}}function or(e){wn!==null&&wn.tag===0&&!(ae&6)&&Pr();var t=ae;ae|=1;var n=Ft.transition,r=le;try{if(Ft.transition=null,le=1,e)return e()}finally{le=r,Ft.transition=n,ae=t,!(ae&6)&&Bn()}}function Fu(){dt=Fr.current,me(Fr)}function qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rm(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(su(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ti();break;case 3:Gr(),me(st),me(qe),gu();break;case 5:vu(r);break;case 4:Gr();break;case 13:me(ke);break;case 19:me(ke);break;case 10:fu(r.type._context);break;case 22:case 23:Fu()}n=n.return}if(Ge=e,Ue=e=Nn(e.current,null),Ze=dt=t,Ae=0,Ia=null,Eu=zi=ar=0,ot=ya=null,Qn!==null){for(t=0;t<Qn.length;t++)if(n=Qn[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=a,r.next=i}n.pending=r}Qn=null}return e}function Fh(e,t){do{var n=Ue;try{if(cu(),Ao.current=ci,ui){for(var r=Se.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}ui=!1}if(rr=0,Be=Ie=Se=null,ga=!1,Da=0,Tu.current=null,n===null||n.return===null){Ae=1,Ia=t,Ue=null;break}e:{var o=e,i=n.return,l=n,s=t;if(t=Ze,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,c=l,p=c.tag;if(!(c.mode&1)&&(p===0||p===11||p===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=ef(i);if(d!==null){d.flags&=-257,tf(d,i,l,o,t),d.mode&1&&Jc(o,u,t),t=d,s=u;var x=t.updateQueue;if(x===null){var y=new Set;y.add(s),t.updateQueue=y}else x.add(s);break e}else{if(!(t&1)){Jc(o,u,t),Ru();break e}s=Error(O(426))}}else if(ye&&l.mode&1){var k=ef(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),tf(k,i,l,o,t),lu($r(s,l));break e}}o=s=$r(s,l),Ae!==4&&(Ae=2),ya===null?ya=[o]:ya.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=ch(o,s,t);Vc(o,h);break e;case 1:l=s;var g=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(_n===null||!_n.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=fh(o,l,t);Vc(o,S);break e}}o=o.return}while(o!==null)}Lh(n)}catch(T){t=T,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function Rh(){var e=fi.current;return fi.current=ci,e===null?ci:e}function Ru(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Ge===null||!(ar&268435455)&&!(zi&268435455)||kn(Ge,Ze)}function hi(e,t){var n=ae;ae|=2;var r=Rh();(Ge!==e||Ze!==t)&&(Jt=null,qn(e,t));do try{Rm();break}catch(a){Fh(e,a)}while(!0);if(cu(),ae=n,fi.current=r,Ue!==null)throw Error(O(261));return Ge=null,Ze=0,Ae}function Rm(){for(;Ue!==null;)_h(Ue)}function _m(){for(;Ue!==null&&!eg();)_h(Ue)}function _h(e){var t=Oh(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?Lh(e):Ue=t,Tu.current=null}function Lh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=wm(n,t),n!==null){n.flags&=32767,Ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Ue=null;return}}else if(n=Sm(n,t,dt),n!==null){Ue=n;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Ae===0&&(Ae=5)}function Wn(e,t,n){var r=le,a=Ft.transition;try{Ft.transition=null,le=1,Lm(e,t,n,r)}finally{Ft.transition=a,le=r}return null}function Lm(e,t,n,r){do Pr();while(wn!==null);if(ae&6)throw Error(O(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(cg(e,o),e===Ge&&(Ue=Ge=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ko||(ko=!0,Uh(Yo,function(){return Pr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ft.transition,Ft.transition=null;var i=le;le=1;var l=ae;ae|=4,Tu.current=null,Em(e,n),Eh(n,e),Qg(al),Ko=!!rl,al=rl=null,e.current=n,bm(n),tg(),ae=l,le=i,Ft.transition=o}else e.current=n;if(ko&&(ko=!1,wn=e,di=a),o=e.pendingLanes,o===0&&(_n=null),ag(n.stateNode),ut(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(pi)throw pi=!1,e=El,El=null,e;return di&1&&e.tag!==0&&Pr(),o=e.pendingLanes,o&1?e===bl?xa++:(xa=0,bl=e):xa=0,Bn(),null}function Pr(){if(wn!==null){var e=cd(di),t=Ft.transition,n=le;try{if(Ft.transition=null,le=16>e?16:e,wn===null)var r=!1;else{if(e=wn,wn=null,di=0,ae&6)throw Error(O(331));var a=ae;for(ae|=4,M=e.current;M!==null;){var o=M,i=o.child;if(M.flags&16){var l=o.deletions;if(l!==null){for(var s=0;s<l.length;s++){var u=l[s];for(M=u;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:ma(8,c,o)}var p=c.child;if(p!==null)p.return=c,M=p;else for(;M!==null;){c=M;var f=c.sibling,d=c.return;if(Sh(c),c===u){M=null;break}if(f!==null){f.return=d,M=f;break}M=d}}}var x=o.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}M=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,M=i;else e:for(;M!==null;){if(o=M,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ma(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,M=h;break e}M=o.return}}var g=e.current;for(M=g;M!==null;){i=M;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,M=v;else e:for(i=g;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pi(9,l)}}catch(T){Ce(l,l.return,T)}if(l===i){M=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,M=S;break e}M=l.return}}if(ae=a,Bn(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Fi,e)}catch{}r=!0}return r}finally{le=n,Ft.transition=t}}return!1}function vf(e,t,n){t=$r(n,t),t=ch(e,t,1),e=Rn(e,t,1),t=nt(),e!==null&&(Ha(e,1,t),ut(e,t))}function Ce(e,t,n){if(e.tag===3)vf(e,e,n);else for(;t!==null;){if(t.tag===3){vf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_n===null||!_n.has(r))){e=$r(n,e),e=fh(t,e,1),t=Rn(t,e,1),e=nt(),t!==null&&(Ha(t,1,e),ut(t,e));break}}t=t.return}}function Nm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(Ze&n)===n&&(Ae===4||Ae===3&&(Ze&130023424)===Ze&&500>Le()-bu?qn(e,0):Eu|=n),ut(e,t)}function Nh(e,t){t===0&&(e.mode&1?(t=uo,uo<<=1,!(uo&130023424)&&(uo=4194304)):t=1);var n=nt();e=un(e,t),e!==null&&(Ha(e,t,n),ut(e,n))}function Om(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nh(e,n)}function Um(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),Nh(e,n)}var Oh;Oh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,km(e,t,n);it=!!(e.flags&131072)}else it=!1,ye&&t.flags&1048576&&zd(t,ai,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var a=Mr(t,qe.current);Dr(t,n),a=yu(null,t,r,e,a,n);var o=xu();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(r)?(o=!0,ni(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,du(t),a.updater=Di,t.stateNode=a,a._reactInternals=t,dl(t,r,e,n),t=gl(null,t,r,!0,o,n)):(t.tag=0,ye&&o&&iu(t),tt(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Pm(r),e=Ot(r,e),a){case 0:t=vl(null,t,r,e,n);break e;case 1:t=af(null,t,r,e,n);break e;case 11:t=nf(null,t,r,e,n);break e;case 14:t=rf(null,t,r,Ot(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ot(r,a),vl(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ot(r,a),af(e,t,r,a,n);case 3:e:{if(vh(t),e===null)throw Error(O(387));r=t.pendingProps,o=t.memoizedState,a=o.element,Gd(e,t),si(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=$r(Error(O(423)),t),t=of(e,t,r,n,a);break e}else if(r!==a){a=$r(Error(O(424)),t),t=of(e,t,r,n,a);break e}else for(ht=Fn(t.stateNode.containerInfo.firstChild),vt=t,ye=!0,Dt=null,n=Bd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Br(),r===a){t=cn(e,t,n);break e}tt(e,t,r,n)}t=t.child}return t;case 5:return $d(t),e===null&&cl(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,ol(r,a)?i=null:o!==null&&ol(r,o)&&(t.flags|=32),hh(e,t),tt(e,t,i,n),t.child;case 6:return e===null&&cl(t),null;case 13:return gh(e,t,n);case 4:return hu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=jr(t,null,r,n):tt(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ot(r,a),nf(e,t,r,a,n);case 7:return tt(e,t,t.pendingProps,n),t.child;case 8:return tt(e,t,t.pendingProps.children,n),t.child;case 12:return tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,de(oi,r._currentValue),r._currentValue=i,o!==null)if(It(o.value,i)){if(o.children===a.children&&!st.current){t=cn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var s=l.firstContext;s!==null;){if(s.context===r){if(o.tag===1){s=an(-1,n&-n),s.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?s.next=s:(s.next=c.next,c.next=s),u.pending=s}}o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),fl(o.return,n,t),l.lanes|=n;break}s=s.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(O(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),fl(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}tt(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Dr(t,n),a=Rt(a),r=r(a),t.flags|=1,tt(e,t,r,n),t.child;case 14:return r=t.type,a=Ot(r,t.pendingProps),a=Ot(r.type,a),rf(e,t,r,a,n);case 15:return ph(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ot(r,a),Bo(e,t),t.tag=1,lt(r)?(e=!0,ni(t)):e=!1,Dr(t,n),uh(t,r,a),dl(t,r,a,n),gl(null,t,r,!0,e,n);case 19:return mh(e,t,n);case 22:return dh(e,t,n)}throw Error(O(156,t.tag))};function Uh(e,t){return id(e,t)}function Dm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,r){return new Dm(e,t,n,r)}function _u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pm(e){if(typeof e=="function")return _u(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xl)return 11;if(e===Yl)return 14}return 2}function Nn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $o(e,t,n,r,a,o){var i=2;if(r=e,typeof e=="function")_u(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case mr:return Jn(n.children,a,o,t);case Vl:i=8,a|=8;break;case Is:return e=Ct(12,n,t,a|2),e.elementType=Is,e.lanes=o,e;case As:return e=Ct(13,n,t,a),e.elementType=As,e.lanes=o,e;case Ms:return e=Ct(19,n,t,a),e.elementType=Ms,e.lanes=o,e;case $p:return Ii(n,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jp:i=10;break e;case Gp:i=9;break e;case Xl:i=11;break e;case Yl:i=14;break e;case mn:i=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Ct(i,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Jn(e,t,n,r){return e=Ct(7,e,r,t),e.lanes=n,e}function Ii(e,t,n,r){return e=Ct(22,e,r,t),e.elementType=$p,e.lanes=n,e.stateNode={isHidden:!1},e}function Ss(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function ws(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zm(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ns(0),this.expirationTimes=ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Lu(e,t,n,r,a,o,i,l,s){return e=new zm(e,t,n,l,s),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ct(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},du(o),e}function Im(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Dh(e){if(!e)return Dn;e=e._reactInternals;e:{if(lr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(lt(n))return Dd(e,n,t)}return t}function Ph(e,t,n,r,a,o,i,l,s){return e=Lu(n,r,!0,e,a,o,i,l,s),e.context=Dh(null),n=e.current,r=nt(),a=Ln(n),o=an(r,a),o.callback=t??null,Rn(n,o,a),e.current.lanes=a,Ha(e,a,r),ut(e,r),e}function Ai(e,t,n,r){var a=t.current,o=nt(),i=Ln(a);return n=Dh(n),t.context===null?t.context=n:t.pendingContext=n,t=an(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rn(a,t,i),e!==null&&(zt(e,a,i,o),Io(e,a,i)),i}function vi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Nu(e,t){gf(e,t),(e=e.alternate)&&gf(e,t)}function Am(){return null}var zh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ou(e){this._internalRoot=e}Mi.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Ai(e,t,null,null)};Mi.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;or(function(){Ai(null,e,null,null)}),t[ln]=null}};function Mi(e){this._internalRoot=e}Mi.prototype.unstable_scheduleHydration=function(e){if(e){var t=dd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xn.length&&t!==0&&t<xn[n].priority;n++);xn.splice(n,0,e),n===0&&vd(e)}};function Uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mf(){}function Mm(e,t,n,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var u=vi(i);o.call(u)}}var i=Ph(t,r,e,0,null,!1,!1,"",mf);return e._reactRootContainer=i,e[ln]=i.current,_a(e.nodeType===8?e.parentNode:e),or(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=vi(s);l.call(u)}}var s=Lu(e,0,!1,null,null,!1,!1,"",mf);return e._reactRootContainer=s,e[ln]=s.current,_a(e.nodeType===8?e.parentNode:e),or(function(){Ai(t,s,n,r)}),s}function ji(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var s=vi(i);l.call(s)}}Ai(t,i,e,a)}else i=Mm(n,t,e,a,r);return vi(i)}fd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ua(t.pendingLanes);n!==0&&(ql(t,n|1),ut(t,Le()),!(ae&6)&&(Hr=Le()+500,Bn()))}break;case 13:or(function(){var r=un(e,1);if(r!==null){var a=nt();zt(r,e,1,a)}}),Nu(e,1)}};Jl=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var n=nt();zt(t,e,134217728,n)}Nu(e,134217728)}};pd=function(e){if(e.tag===13){var t=Ln(e),n=un(e,t);if(n!==null){var r=nt();zt(n,e,t,r)}Nu(e,t)}};dd=function(){return le};hd=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};Ys=function(e,t,n){switch(t){case"input":if(Gs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Ni(r);if(!a)throw Error(O(90));Zp(r),Gs(r,a)}}}break;case"textarea":Vp(e,n);break;case"select":t=n.value,t!=null&&Lr(e,!!n.multiple,t,!1)}};ed=Cu;td=or;var Bm={usingClientEntryPoint:!1,Events:[Wa,Sr,Ni,qp,Jp,Cu]},oa={findFiberByHostInstance:Yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jm={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ad(e),e===null?null:e.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||Am,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{Fi=So.inject(jm),Qt=So}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bm;mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(t))throw Error(O(200));return Im(e,t,null,n)};mt.createRoot=function(e,t){if(!Uu(e))throw Error(O(299));var n=!1,r="",a=zh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Lu(e,1,!1,null,null,n,!1,r,a),e[ln]=t.current,_a(e.nodeType===8?e.parentNode:e),new Ou(t)};mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=ad(t),e=e===null?null:e.stateNode,e};mt.flushSync=function(e){return or(e)};mt.hydrate=function(e,t,n){if(!Bi(t))throw Error(O(200));return ji(null,e,t,!0,n)};mt.hydrateRoot=function(e,t,n){if(!Uu(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,a=!1,o="",i=zh;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Ph(t,null,e,1,n??null,a,!1,o,i),e[ln]=t.current,_a(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Mi(t)};mt.render=function(e,t,n){if(!Bi(t))throw Error(O(200));return ji(null,e,t,!1,n)};mt.unmountComponentAtNode=function(e){if(!Bi(e))throw Error(O(40));return e._reactRootContainer?(or(function(){ji(null,null,e,!1,function(){e._reactRootContainer=null,e[ln]=null})}),!0):!1};mt.unstable_batchedUpdates=Cu;mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bi(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return ji(e,t,n,!1,r)};mt.version="18.3.1-next-f1338f8080-20240426";function Ih(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ih)}catch(e){console.error(e)}}Ih(),Ip.exports=mt;var Gm=Ip.exports,yf=Gm;Ps.createRoot=yf.createRoot,Ps.hydrateRoot=yf.hydrateRoot;const $m=({font:e,onExportJSON:t,onExportTTF:n,onImportJSON:r,onShowShortcuts:a})=>{const o=L.useRef(null),[i,l]=L.useState(!1),s=L.useRef(null);return er.useEffect(()=>{const u=c=>{s.current&&!s.current.contains(c.target)&&l(!1)};if(i)return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[i]),m.jsxs("div",{className:"bg-neutral-900 text-white px-4 py-2 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("h1",{className:"text-lg font-bold",children:"Typeface Editor"}),m.jsxs("div",{className:"text-sm text-neutral-400",children:[e.meta.familyName," ",e.meta.styleName]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:a,className:"px-3 py-1.5 rounded bg-neutral-800 hover:bg-neutral-700 text-sm",title:"Keyboard Shortcuts (?)",children:[m.jsx("i",{className:"ph ph-keyboard"})," Shortcuts"]}),m.jsxs("button",{onClick:()=>{var u;return(u=o.current)==null?void 0:u.click()},className:"px-3 py-1.5 rounded bg-neutral-800 hover:bg-neutral-700 text-sm",children:[m.jsx("i",{className:"ph ph-upload-simple"})," Import"]}),m.jsxs("div",{className:"relative",ref:s,children:[m.jsxs("div",{className:"flex",children:[m.jsxs("button",{onClick:t,className:"px-3 py-1.5 rounded-l bg-blue-600 hover:bg-blue-500 text-sm",children:[m.jsx("i",{className:"ph ph-download-simple"})," Export"]}),m.jsx("button",{onClick:()=>l(!i),className:"px-2 py-1.5 rounded-r bg-blue-600 hover:bg-blue-500 text-sm border-l border-blue-500",title:"Export options",children:m.jsx("i",{className:`ph ph-caret-${i?"up":"down"}`})})]}),i&&m.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded shadow-lg border border-neutral-200 py-1 z-50",children:[m.jsxs("button",{onClick:()=>{t(),l(!1)},className:"w-full px-4 py-2 text-left text-sm text-neutral-700 hover:bg-neutral-100 flex items-center gap-2",children:[m.jsx("i",{className:"ph ph-file-text"}),m.jsx("span",{children:"Export as JSON"})]}),m.jsxs("button",{onClick:()=>{n(),l(!1)},className:"w-full px-4 py-2 text-left text-sm text-neutral-700 hover:bg-neutral-100 flex items-center gap-2",children:[m.jsx("i",{className:"ph ph-file-arrow-down"}),m.jsx("span",{children:"Export as TTF Font"})]})]})]}),m.jsx("input",{ref:o,type:"file",accept:".json",onChange:r,className:"hidden"})]})]})};var ce=(e=>(e.SQUARE="square",e.CIRCLE="circle",e.TRIANGLE="triangle",e.QUARTER_CIRCLE="quarter-circle",e))(ce||{}),q=(e=>(e.TL="tl",e.TR="tr",e.BL="bl",e.BR="br",e))(q||{}),Qe=(e=>(e.DRAW="draw",e.SELECT="select",e))(Qe||{}),ie=(e=>(e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom",e.CENTER_H="center-h",e.CENTER_V="center-v",e))(ie||{});const wo={viewBox:"0 0 24 24",className:"w-5 h-5 fill-current"},Hm=[{type:ce.SQUARE,label:"Square",icon:m.jsx("svg",{...wo,children:m.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})})},{type:ce.CIRCLE,label:"Circle",icon:m.jsx("svg",{...wo,children:m.jsx("circle",{cx:"12",cy:"12",r:"8"})})},{type:ce.TRIANGLE,label:"Right Triangle",icon:m.jsx("svg",{...wo,children:m.jsx("path",{d:"M6 6v12h12z"})})},{type:ce.QUARTER_CIRCLE,label:"Quarter Circle",icon:m.jsx("svg",{...wo,children:m.jsx("path",{d:"M6 6L18 6A12 12 0 0 1 6 18Z"})})}],oe=32,Zm=({selectedShape:e,onSelectShape:t,tool:n,onToolChange:r})=>m.jsx("div",{className:"bg-white border-b border-neutral-200 p-3",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>r(Qe.DRAW),className:`tool-btn px-3 py-2 rounded text-xs font-medium ${n===Qe.DRAW?"active":""}`,title:"Draw shapes (D)",children:m.jsx("i",{className:"ph ph-pencil-simple text-base"})}),m.jsx("button",{onClick:()=>r(Qe.SELECT),className:`tool-btn px-3 py-2 rounded text-xs font-medium ${n===Qe.SELECT?"active":""}`,title:"Select & transform (V)",children:m.jsx("i",{className:"ph ph-cursor text-base"})})]}),m.jsx("div",{className:"w-px h-6 bg-neutral-200"}),m.jsx("div",{className:"flex gap-2",children:Hm.map(a=>m.jsx("button",{onClick:()=>{t(a.type),n!==Qe.DRAW&&r(Qe.DRAW)},className:`shape-btn px-3 py-2 rounded text-center ${e===a.type&&n===Qe.DRAW?"selected":""}`,title:a.label,children:m.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-neutral-700",children:a.icon})},a.type))})]})}),Ah=er.memo(({shape:e,isSelected:t})=>jh(e,t),(e,t)=>e.shape.id===t.shape.id&&e.shape.x===t.shape.x&&e.shape.y===t.shape.y&&e.shape.width===t.shape.width&&e.shape.height===t.shape.height&&e.shape.rotation===t.shape.rotation&&e.shape.corner===t.shape.corner&&e.isSelected===t.isSelected);Ah.displayName="ShapeElement";const Mh=(e,t=!1)=>m.jsx(Ah,{shape:e,isSelected:t},e.id),Bh=e=>jh(e,!1),Wm=e=>{const{id:t,x:n,y:r,width:a,height:o}=e;return m.jsxs("g",{children:[m.jsx("rect",{x:n,y:r,width:a,height:o,fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"4 4",pointerEvents:"none"}),m.jsx("circle",{cx:n,cy:r,r:"12",fill:"transparent","data-handle":"resize-nw",style:{cursor:"nw-resize",pointerEvents:"all"}}),m.jsx("circle",{cx:n+a,cy:r,r:"12",fill:"transparent","data-handle":"resize-ne",style:{cursor:"ne-resize",pointerEvents:"all"}}),m.jsx("circle",{cx:n,cy:r+o,r:"12",fill:"transparent","data-handle":"resize-sw",style:{cursor:"sw-resize",pointerEvents:"all"}}),m.jsx("circle",{cx:n+a,cy:r+o,r:"12",fill:"transparent","data-handle":"resize-se",style:{cursor:"se-resize",pointerEvents:"all"}}),m.jsx("circle",{cx:n,cy:r,r:"6",fill:"white",stroke:"#3b82f6",strokeWidth:"2",pointerEvents:"none"}),m.jsx("circle",{cx:n+a,cy:r,r:"6",fill:"white",stroke:"#3b82f6",strokeWidth:"2",pointerEvents:"none"}),m.jsx("circle",{cx:n,cy:r+o,r:"6",fill:"white",stroke:"#3b82f6",strokeWidth:"2",pointerEvents:"none"}),m.jsx("circle",{cx:n+a,cy:r+o,r:"6",fill:"white",stroke:"#3b82f6",strokeWidth:"2",pointerEvents:"none"})]},`selection-${t}`)},jh=(e,t=!1)=>{const{id:n,type:r,x:a,y:o,width:i,height:l,rotation:s,corner:u}=e,c=a+i/2,p=o+l/2;let f=null;switch(r){case ce.SQUARE:f=m.jsx("rect",{x:a,y:o,width:i,height:l,fill:"#171717"},n);break;case ce.CIRCLE:f=m.jsx("ellipse",{cx:c,cy:p,rx:i/2,ry:l/2,fill:"#171717"},n);break;case ce.TRIANGLE:f=m.jsx("path",{d:`M ${a} ${o}
              L ${a+i} ${o+l}
              L ${a} ${o+l}
              Z`,fill:"#171717",transform:`rotate(${s} ${c} ${p})`},n);break;case ce.QUARTER_CIRCLE:{let d="";switch(u||q.TL){case q.TL:d=`M ${a} ${o} L ${a+i} ${o} A ${i} ${l} 0 0 1 ${a} ${o+l} Z`;break;case q.TR:d=`M ${a+i} ${o} L ${a} ${o} A ${i} ${l} 0 0 0 ${a+i} ${o+l} Z`;break;case q.BL:d=`M ${a} ${o+l} L ${a+i} ${o+l} A ${i} ${l} 0 0 0 ${a} ${o} Z`;break;case q.BR:d=`M ${a+i} ${o+l} L ${a} ${o+l} A ${i} ${l} 0 0 1 ${a+i} ${o} Z`;break}f=m.jsx("path",{d,fill:"#171717"},n);break}}return m.jsx(m.Fragment,{children:f})},Vm=er.memo(({font:e,currentGlyph:t,onSelectGlyph:n})=>{const r=L.useMemo(()=>Object.values(e.glyphs).sort((o,i)=>o.unicode-i.unicode),[e.glyphs]),a=o=>{const i=o.gridSize,s=i*4;return m.jsx("svg",{width:s,height:s,viewBox:`0 0 ${i*32} ${i*32}`,className:"mx-auto max-w-full max-h-full",children:o.shapes.map(u=>m.jsx(er.Fragment,{children:Bh(u)},u.id))})};return m.jsxs("div",{className:"w-full h-full bg-white border-r border-neutral-200 overflow-auto",children:[m.jsx("div",{className:"p-3 border-b border-neutral-200",children:m.jsx("h2",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wide",children:"Glyphs"})}),m.jsx("div",{className:"p-3",children:m.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))"},children:r.map(o=>m.jsxs("button",{onClick:()=>n(o.char),className:`aspect-square flex flex-col items-center justify-center p-2 rounded border-2 transition-all ${t===o.char?"bg-neutral-100 border-neutral-400":"bg-white border-neutral-200 hover:border-neutral-300 hover:bg-neutral-50"}`,children:[a(o),m.jsx("span",{className:`text-xs mt-1 ${t===o.char?"text-neutral-800 font-semibold":"text-neutral-600"}`,children:o.char===" "?"␣":o.char})]},o.char))})})]})}),xf=(e,t)=>{if(!t)return{x:0,y:0};const n=t.createSVGPoint();n.x=e.clientX,n.y=e.clientY;const r=n.matrixTransform(t.getScreenCTM().inverse());return{x:r.x,y:r.y}},Ye=e=>Math.round(e/oe)*oe,Xm=()=>{const e=Date.now(),t=new Uint32Array(1);return crypto.getRandomValues(t),e*1e6+t[0]},Ym=(e,t,n,r,a,o=0,i=null)=>({id:Xm(),type:e,x:t,y:n,width:r,height:a,rotation:o,corner:i}),Qm=e=>{const{type:t,x:n,y:r,width:a,height:o,rotation:i,corner:l}=e,s=n+a/2,u=r+o/2;switch(t){case ce.SQUARE:return{element:"rect",attributes:{x:n,y:r,width:a,height:o,fill:"#000"}};case ce.CIRCLE:return{element:"ellipse",attributes:{cx:s,cy:u,rx:a/2,ry:o/2,fill:"#000"}};case ce.TRIANGLE:return{element:"path",attributes:{d:`M ${n} ${r} L ${n+a} ${r+o} L ${n} ${r+o} Z`,fill:"#000",transform:`rotate(${i} ${s} ${u})`}};case ce.QUARTER_CIRCLE:{const c=a,p=o,f=l||q.TL;let d="";switch(f){case q.TL:d=`M ${n+a} ${r} A ${c} ${p} 0 0 1 ${n} ${r+o} L ${n} ${r} Z`;break;case q.TR:d=`M ${n} ${r} A ${c} ${p} 0 0 0 ${n+a} ${r+o} L ${n+a} ${r} Z`;break;case q.BL:d=`M ${n+a} ${r+o} A ${c} ${p} 0 0 0 ${n} ${r} L ${n} ${r+o} Z`;break;case q.BR:d=`M ${n} ${r+o} A ${c} ${p} 0 0 1 ${n+a} ${r} L ${n+a} ${r+o} Z`;break}return{element:"path",attributes:{d,fill:"#000"}}}default:return{element:"rect",attributes:{x:n,y:r,width:a,height:o,fill:"#000"}}}},Km=e=>{const{element:t,attributes:n}=e,r=Object.entries(n).map(([a,o])=>`${a}="${o}"`).join(" ");return`<${t} ${r}/>`},qm=e=>{const t=Qm(e);return Km(t)};/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var e=function(){try{var n={},r=Object.defineProperty,a=r(n,n,n)&&r}catch{}return a}(),t=function(n){if(this==null)throw TypeError();var r=String(this),a=r.length,o=n?Number(n):0;if(o!=o&&(o=0),!(o<0||o>=a)){var i=r.charCodeAt(o),l;return i>=55296&&i<=56319&&a>o+1&&(l=r.charCodeAt(o+1),l>=56320&&l<=57343)?(i-55296)*1024+l-56320+65536:i}};e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t}();var Du=0,Gh=-3;function Aa(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function Jm(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new Aa,this.dtree=new Aa}var $h=new Aa,Hh=new Aa,Pu=new Uint8Array(30),zu=new Uint16Array(30),Zh=new Uint8Array(30),Wh=new Uint16Array(30),ey=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),kf=new Aa,Ht=new Uint8Array(320);function Vh(e,t,n,r){var a,o;for(a=0;a<n;++a)e[a]=0;for(a=0;a<30-n;++a)e[a+n]=a/n|0;for(o=r,a=0;a<30;++a)t[a]=o,o+=1<<e[a]}function ty(e,t){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[168+n]=280+n;for(n=0;n<112;++n)e.trans[176+n]=144+n;for(n=0;n<5;++n)t.table[n]=0;for(t.table[5]=32,n=0;n<32;++n)t.trans[n]=n}var Sf=new Uint16Array(16);function Ts(e,t,n,r){var a,o;for(a=0;a<16;++a)e.table[a]=0;for(a=0;a<r;++a)e.table[t[n+a]]++;for(e.table[0]=0,o=0,a=0;a<16;++a)Sf[a]=o,o+=e.table[a];for(a=0;a<r;++a)t[n+a]&&(e.trans[Sf[t[n+a]]++]=a)}function ny(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=e.tag&1;return e.tag>>>=1,t}function Vt(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function Rl(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,r=0,a=0,o=e.tag;do r=2*r+(o&1),o>>>=1,++a,n+=t.table[a],r-=t.table[a];while(r>=0);return e.tag=o,e.bitcount-=a,t.trans[n+r]}function ry(e,t,n){var r,a,o,i,l,s;for(r=Vt(e,5,257),a=Vt(e,5,1),o=Vt(e,4,4),i=0;i<19;++i)Ht[i]=0;for(i=0;i<o;++i){var u=Vt(e,3,0);Ht[ey[i]]=u}for(Ts(kf,Ht,0,19),l=0;l<r+a;){var c=Rl(e,kf);switch(c){case 16:var p=Ht[l-1];for(s=Vt(e,2,3);s;--s)Ht[l++]=p;break;case 17:for(s=Vt(e,3,3);s;--s)Ht[l++]=0;break;case 18:for(s=Vt(e,7,11);s;--s)Ht[l++]=0;break;default:Ht[l++]=c;break}}Ts(t,Ht,0,r),Ts(n,Ht,r,a)}function wf(e,t,n){for(;;){var r=Rl(e,t);if(r===256)return Du;if(r<256)e.dest[e.destLen++]=r;else{var a,o,i,l;for(r-=257,a=Vt(e,Pu[r],zu[r]),o=Rl(e,n),i=e.destLen-Vt(e,Zh[o],Wh[o]),l=i;l<i+a;++l)e.dest[e.destLen++]=e.dest[l]}}}function ay(e){for(var t,n,r;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(t=e.source[e.sourceIndex+1],t=256*t+e.source[e.sourceIndex],n=e.source[e.sourceIndex+3],n=256*n+e.source[e.sourceIndex+2],t!==(~n&65535))return Gh;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,Du}function oy(e,t){var n=new Jm(e,t),r,a,o;do{switch(r=ny(n),a=Vt(n,2,0),a){case 0:o=ay(n);break;case 1:o=wf(n,$h,Hh);break;case 2:ry(n,n.ltree,n.dtree),o=wf(n,n.ltree,n.dtree);break;default:o=Gh}if(o!==Du)throw new Error("Data error")}while(!r);return n.destLen<n.dest.length?typeof n.dest.slice=="function"?n.dest.slice(0,n.destLen):n.dest.subarray(0,n.destLen):n.dest}ty($h,Hh);Vh(Pu,zu,4,3);Vh(Zh,Wh,2,1);Pu[28]=0;zu[28]=258;var iy=oy;function hr(e,t,n,r,a){return Math.pow(1-a,3)*e+3*Math.pow(1-a,2)*a*t+3*(1-a)*Math.pow(a,2)*n+Math.pow(a,3)*r}function pn(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}pn.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};pn.prototype.addPoint=function(e,t){typeof e=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof t=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))};pn.prototype.addX=function(e){this.addPoint(e,null)};pn.prototype.addY=function(e){this.addPoint(null,e)};pn.prototype.addBezier=function(e,t,n,r,a,o,i,l){var s=[e,t],u=[n,r],c=[a,o],p=[i,l];this.addPoint(e,t),this.addPoint(i,l);for(var f=0;f<=1;f++){var d=6*s[f]-12*u[f]+6*c[f],x=-3*s[f]+9*u[f]-9*c[f]+3*p[f],y=3*u[f]-3*s[f];if(x===0){if(d===0)continue;var k=-y/d;0<k&&k<1&&(f===0&&this.addX(hr(s[f],u[f],c[f],p[f],k)),f===1&&this.addY(hr(s[f],u[f],c[f],p[f],k)));continue}var h=Math.pow(d,2)-4*y*x;if(!(h<0)){var g=(-d+Math.sqrt(h))/(2*x);0<g&&g<1&&(f===0&&this.addX(hr(s[f],u[f],c[f],p[f],g)),f===1&&this.addY(hr(s[f],u[f],c[f],p[f],g)));var v=(-d-Math.sqrt(h))/(2*x);0<v&&v<1&&(f===0&&this.addX(hr(s[f],u[f],c[f],p[f],v)),f===1&&this.addY(hr(s[f],u[f],c[f],p[f],v)))}}};pn.prototype.addQuad=function(e,t,n,r,a,o){var i=e+.6666666666666666*(n-e),l=t+2/3*(r-t),s=i+1/3*(a-e),u=l+1/3*(o-t);this.addBezier(e,t,i,l,s,u,a,o)};function De(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}De.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})};De.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})};De.prototype.curveTo=De.prototype.bezierCurveTo=function(e,t,n,r,a,o){this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:r,x:a,y:o})};De.prototype.quadTo=De.prototype.quadraticCurveTo=function(e,t,n,r){this.commands.push({type:"Q",x1:e,y1:t,x:n,y:r})};De.prototype.close=De.prototype.closePath=function(){this.commands.push({type:"Z"})};De.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof pn){var t=e;this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),this.close();return}Array.prototype.push.apply(this.commands,e)};De.prototype.getBoundingBox=function(){for(var e=new pn,t=0,n=0,r=0,a=0,o=0;o<this.commands.length;o++){var i=this.commands[o];switch(i.type){case"M":e.addPoint(i.x,i.y),t=r=i.x,n=a=i.y;break;case"L":e.addPoint(i.x,i.y),r=i.x,a=i.y;break;case"Q":e.addQuad(r,a,i.x1,i.y1,i.x,i.y),r=i.x,a=i.y;break;case"C":e.addBezier(r,a,i.x1,i.y1,i.x2,i.y2,i.x,i.y),r=i.x,a=i.y;break;case"Z":r=t,a=n;break;default:throw new Error("Unexpected path command "+i.type)}}return e.isEmpty()&&e.addPoint(0,0),e};De.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var n=this.commands[t];n.type==="M"?e.moveTo(n.x,n.y):n.type==="L"?e.lineTo(n.x,n.y):n.type==="C"?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())};De.prototype.toPathData=function(e){e=e!==void 0?e:2;function t(i){return Math.round(i)===i?""+Math.round(i):i.toFixed(e)}function n(){for(var i=arguments,l="",s=0;s<arguments.length;s+=1){var u=i[s];u>=0&&s>0&&(l+=" "),l+=t(u)}return l}for(var r="",a=0;a<this.commands.length;a+=1){var o=this.commands[a];o.type==="M"?r+="M"+n(o.x,o.y):o.type==="L"?r+="L"+n(o.x,o.y):o.type==="C"?r+="C"+n(o.x1,o.y1,o.x2,o.y2,o.x,o.y):o.type==="Q"?r+="Q"+n(o.x1,o.y1,o.x,o.y):o.type==="Z"&&(r+="Z")}return r};De.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&this.fill!=="black"&&(this.fill===null?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>",t};De.prototype.toDOMElement=function(e){var t=this.toPathData(e),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n};function Xh(e){throw new Error(e)}function Tf(e,t){e||Xh(t)}var K={fail:Xh,argument:Tf,assert:Tf},Ef=32768,bf=2147483648,Zr={},P={},J={};function jt(e){return function(){return e}}P.BYTE=function(e){return K.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]};J.BYTE=jt(1);P.CHAR=function(e){return[e.charCodeAt(0)]};J.CHAR=jt(1);P.CHARARRAY=function(e){typeof e>"u"&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var t=[],n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t};J.CHARARRAY=function(e){return typeof e>"u"?0:e.length};P.USHORT=function(e){return[e>>8&255,e&255]};J.USHORT=jt(2);P.SHORT=function(e){return e>=Ef&&(e=-(2*Ef-e)),[e>>8&255,e&255]};J.SHORT=jt(2);P.UINT24=function(e){return[e>>16&255,e>>8&255,e&255]};J.UINT24=jt(3);P.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]};J.ULONG=jt(4);P.LONG=function(e){return e>=bf&&(e=-(2*bf-e)),[e>>24&255,e>>16&255,e>>8&255,e&255]};J.LONG=jt(4);P.FIXED=P.ULONG;J.FIXED=J.ULONG;P.FWORD=P.SHORT;J.FWORD=J.SHORT;P.UFWORD=P.USHORT;J.UFWORD=J.USHORT;P.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,e&255]};J.LONGDATETIME=jt(8);P.TAG=function(e){return K.argument(e.length===4,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]};J.TAG=jt(4);P.Card8=P.BYTE;J.Card8=J.BYTE;P.Card16=P.USHORT;J.Card16=J.USHORT;P.OffSize=P.BYTE;J.OffSize=J.BYTE;P.SID=P.USHORT;J.SID=J.USHORT;P.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?(e=e-108,[(e>>8)+247,e&255]):e>=-1131&&e<=-108?(e=-e-108,[(e>>8)+251,e&255]):e>=-32768&&e<=32767?P.NUMBER16(e):P.NUMBER32(e)};J.NUMBER=function(e){return P.NUMBER(e).length};P.NUMBER16=function(e){return[28,e>>8&255,e&255]};J.NUMBER16=jt(3);P.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,e&255]};J.NUMBER32=jt(5);P.REAL=function(e){var t=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));t=(Math.round(e*r)/r).toString()}for(var a="",o=0,i=t.length;o<i;o+=1){var l=t[o];l==="e"?a+=t[++o]==="-"?"c":"b":l==="."?a+="a":l==="-"?a+="e":a+=l}a+=a.length&1?"f":"ff";for(var s=[30],u=0,c=a.length;u<c;u+=2)s.push(parseInt(a.substr(u,2),16));return s};J.REAL=function(e){return P.REAL(e).length};P.NAME=P.CHARARRAY;J.NAME=J.CHARARRAY;P.STRING=P.CHARARRAY;J.STRING=J.CHARARRAY;Zr.UTF8=function(e,t,n){for(var r=[],a=n,o=0;o<a;o++,t+=1)r[o]=e.getUint8(t);return String.fromCharCode.apply(null,r)};Zr.UTF16=function(e,t,n){for(var r=[],a=n/2,o=0;o<a;o++,t+=2)r[o]=e.getUint16(t);return String.fromCharCode.apply(null,r)};P.UTF16=function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t[t.length]=r>>8&255,t[t.length]=r&255}return t};J.UTF16=function(e){return e.length*2};var _l={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};Zr.MACSTRING=function(e,t,n,r){var a=_l[r];if(a!==void 0){for(var o="",i=0;i<n;i++){var l=e.getUint8(t+i);l<=127?o+=String.fromCharCode(l):o+=a[l&127]}return o}};var To=typeof WeakMap=="function"&&new WeakMap,Eo,sy=function(e){if(!Eo){Eo={};for(var t in _l)Eo[t]=new String(t)}var n=Eo[e];if(n!==void 0){if(To){var r=To.get(n);if(r!==void 0)return r}var a=_l[e];if(a!==void 0){for(var o={},i=0;i<a.length;i++)o[a.charCodeAt(i)]=i+128;return To&&To.set(n,o),o}}};P.MACSTRING=function(e,t){var n=sy(t);if(n!==void 0){for(var r=[],a=0;a<e.length;a++){var o=e.charCodeAt(a);if(o>=128&&(o=n[o],o===void 0))return;r[a]=o}return r}};J.MACSTRING=function(e,t){var n=P.MACSTRING(e,t);return n!==void 0?n.length:0};function Ll(e){return e>=-128&&e<=127}function ly(e,t,n){for(var r=0,a=e.length;t<a&&r<64&&e[t]===0;)++t,++r;return n.push(128|r-1),t}function uy(e,t,n){for(var r=0,a=e.length,o=t;o<a&&r<64;){var i=e[o];if(!Ll(i)||i===0&&o+1<a&&e[o+1]===0)break;++o,++r}n.push(r-1);for(var l=t;l<o;++l)n.push(e[l]+256&255);return o}function cy(e,t,n){for(var r=0,a=e.length,o=t;o<a&&r<64;){var i=e[o];if(i===0||Ll(i)&&o+1<a&&Ll(e[o+1]))break;++o,++r}n.push(64|r-1);for(var l=t;l<o;++l){var s=e[l];n.push(s+65536>>8&255,s+256&255)}return o}P.VARDELTAS=function(e){for(var t=0,n=[];t<e.length;){var r=e[t];r===0?t=ly(e,t,n):r>=-128&&r<=127?t=uy(e,t,n):t=cy(e,t,n)}return n};P.INDEX=function(e){for(var t=1,n=[t],r=[],a=0;a<e.length;a+=1){var o=P.OBJECT(e[a]);Array.prototype.push.apply(r,o),t+=o.length,n.push(t)}if(r.length===0)return[0,0];for(var i=[],l=1+Math.floor(Math.log(t)/Math.log(2))/8|0,s=[void 0,P.BYTE,P.USHORT,P.UINT24,P.ULONG][l],u=0;u<n.length;u+=1){var c=s(n[u]);Array.prototype.push.apply(i,c)}return Array.prototype.concat(P.Card16(e.length),P.OffSize(l),i,r)};J.INDEX=function(e){return P.INDEX(e).length};P.DICT=function(e){for(var t=[],n=Object.keys(e),r=n.length,a=0;a<r;a+=1){var o=parseInt(n[a],0),i=e[o];t=t.concat(P.OPERAND(i.value,i.type)),t=t.concat(P.OPERATOR(o))}return t};J.DICT=function(e){return P.DICT(e).length};P.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]};P.OPERAND=function(e,t){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r+=1)K.argument(e.length===t.length,"Not enough arguments given for type"+t),n=n.concat(P.OPERAND(e[r],t[r]));else if(t==="SID")n=n.concat(P.NUMBER(e));else if(t==="offset")n=n.concat(P.NUMBER32(e));else if(t==="number")n=n.concat(P.NUMBER(e));else if(t==="real")n=n.concat(P.REAL(e));else throw new Error("Unknown operand type "+t);return n};P.OP=P.BYTE;J.OP=J.BYTE;var bo=typeof WeakMap=="function"&&new WeakMap;P.CHARSTRING=function(e){if(bo){var t=bo.get(e);if(t!==void 0)return t}for(var n=[],r=e.length,a=0;a<r;a+=1){var o=e[a];n=n.concat(P[o.type](o.value))}return bo&&bo.set(e,n),n};J.CHARSTRING=function(e){return P.CHARSTRING(e).length};P.OBJECT=function(e){var t=P[e.type];return K.argument(t!==void 0,"No encoding function for type "+e.type),t(e.value)};J.OBJECT=function(e){var t=J[e.type];return K.argument(t!==void 0,"No sizeOf function for type "+e.type),t(e.value)};P.TABLE=function(e){for(var t=[],n=e.fields.length,r=[],a=[],o=0;o<n;o+=1){var i=e.fields[o],l=P[i.type];K.argument(l!==void 0,"No encoding function for field type "+i.type+" ("+i.name+")");var s=e[i.name];s===void 0&&(s=i.value);var u=l(s);i.type==="TABLE"?(a.push(t.length),t=t.concat([0,0]),r.push(u)):t=t.concat(u)}for(var c=0;c<r.length;c+=1){var p=a[c],f=t.length;K.argument(f<65536,"Table "+e.tableName+" too big."),t[p]=f>>8,t[p+1]=f&255,t=t.concat(r[c])}return t};J.TABLE=function(e){for(var t=0,n=e.fields.length,r=0;r<n;r+=1){var a=e.fields[r],o=J[a.type];K.argument(o!==void 0,"No sizeOf function for field type "+a.type+" ("+a.name+")");var i=e[a.name];i===void 0&&(i=a.value),t+=o(i),a.type==="TABLE"&&(t+=2)}return t};P.RECORD=P.TABLE;J.RECORD=J.TABLE;P.LITERAL=function(e){return e};J.LITERAL=function(e){return e.length};function je(e,t,n){if(t.length&&(t[0].name!=="coverageFormat"||t[0].value===1))for(var r=0;r<t.length;r+=1){var a=t[r];this[a.name]=a.value}if(this.tableName=e,this.fields=t,n)for(var o=Object.keys(n),i=0;i<o.length;i+=1){var l=o[i],s=n[l];this[l]!==void 0&&(this[l]=s)}}je.prototype.encode=function(){return P.TABLE(this)};je.prototype.sizeOf=function(){return J.TABLE(this)};function Ma(e,t,n){n===void 0&&(n=t.length);var r=new Array(t.length+1);r[0]={name:e+"Count",type:"USHORT",value:n};for(var a=0;a<t.length;a++)r[a+1]={name:e+a,type:"USHORT",value:t[a]};return r}function Nl(e,t,n){var r=t.length,a=new Array(r+1);a[0]={name:e+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)a[o+1]={name:e+o,type:"TABLE",value:n(t[o],o)};return a}function Ba(e,t,n){var r=t.length,a=[];a[0]={name:e+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)a=a.concat(n(t[o],o));return a}function gi(e){e.format===1?je.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Ma("glyph",e.glyphs))):e.format===2?je.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(Ba("rangeRecord",e.ranges,function(t){return[{name:"startGlyphID",type:"USHORT",value:t.start},{name:"endGlyphID",type:"USHORT",value:t.end},{name:"startCoverageIndex",type:"USHORT",value:t.index}]}))):K.assert(!1,"Coverage format must be 1 or 2.")}gi.prototype=Object.create(je.prototype);gi.prototype.constructor=gi;function mi(e){je.call(this,"scriptListTable",Ba("scriptRecord",e,function(t,n){var r=t.script,a=r.defaultLangSys;return K.assert(!!a,"Unable to write GSUB: script "+t.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:t.tag},{name:"script"+n,type:"TABLE",value:new je("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new je("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(Ma("featureIndex",a.featureIndexes)))}].concat(Ba("langSys",r.langSysRecords,function(o,i){var l=o.langSys;return[{name:"langSysTag"+i,type:"TAG",value:o.tag},{name:"langSys"+i,type:"TABLE",value:new je("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:l.reqFeatureIndex}].concat(Ma("featureIndex",l.featureIndexes)))}]})))}]}))}mi.prototype=Object.create(je.prototype);mi.prototype.constructor=mi;function yi(e){je.call(this,"featureListTable",Ba("featureRecord",e,function(t,n){var r=t.feature;return[{name:"featureTag"+n,type:"TAG",value:t.tag},{name:"feature"+n,type:"TABLE",value:new je("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(Ma("lookupListIndex",r.lookupListIndexes)))}]}))}yi.prototype=Object.create(je.prototype);yi.prototype.constructor=yi;function xi(e,t){je.call(this,"lookupListTable",Nl("lookup",e,function(n){var r=t[n.lookupType];return K.assert(!!r,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new je("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(Nl("subtable",n.subtables,r)))}))}xi.prototype=Object.create(je.prototype);xi.prototype.constructor=xi;var I={Table:je,Record:je,Coverage:gi,ScriptList:mi,FeatureList:yi,LookupList:xi,ushortList:Ma,tableList:Nl,recordList:Ba};function Cf(e,t){return e.getUint8(t)}function ki(e,t){return e.getUint16(t,!1)}function fy(e,t){return e.getInt16(t,!1)}function Iu(e,t){return e.getUint32(t,!1)}function Yh(e,t){var n=e.getInt16(t,!1),r=e.getUint16(t+2,!1);return n+r/65535}function py(e,t){for(var n="",r=t;r<t+4;r+=1)n+=String.fromCharCode(e.getInt8(r));return n}function dy(e,t,n){for(var r=0,a=0;a<n;a+=1)r<<=8,r+=e.getUint8(t+a);return r}function hy(e,t,n){for(var r=[],a=t;a<n;a+=1)r.push(e.getUint8(a));return r}function vy(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t}var gy={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function w(e,t){this.data=e,this.offset=t,this.relativeOffset=0}w.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};w.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};w.prototype.parseCard8=w.prototype.parseByte;w.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};w.prototype.parseCard16=w.prototype.parseUShort;w.prototype.parseSID=w.prototype.parseUShort;w.prototype.parseOffset16=w.prototype.parseUShort;w.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};w.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e};w.prototype.parseULong=function(){var e=Iu(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};w.prototype.parseOffset32=w.prototype.parseULong;w.prototype.parseFixed=function(){var e=Yh(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};w.prototype.parseString=function(e){var t=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=e;for(var a=0;a<e;a++)r+=String.fromCharCode(t.getUint8(n+a));return r};w.prototype.parseTag=function(){return this.parseString(4)};w.prototype.parseLongDateTime=function(){var e=Iu(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e};w.prototype.parseVersion=function(e){var t=ki(this.data,this.offset+this.relativeOffset),n=ki(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,e===void 0&&(e=4096),t+n/e/10};w.prototype.skip=function(e,t){t===void 0&&(t=1),this.relativeOffset+=gy[e]*t};w.prototype.parseULongList=function(e){e===void 0&&(e=this.parseULong());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=n.getUint32(r),r+=4;return this.relativeOffset+=e*4,t};w.prototype.parseOffset16List=w.prototype.parseUShortList=function(e){e===void 0&&(e=this.parseUShort());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=n.getUint16(r),r+=2;return this.relativeOffset+=e*2,t};w.prototype.parseShortList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=n.getInt16(r),r+=2;return this.relativeOffset+=e*2,t};w.prototype.parseByteList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=n.getUint8(r++);return this.relativeOffset+=e,t};w.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n};w.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n};w.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=Object.keys(t),a=0;a<e;a++){for(var o={},i=0;i<r.length;i++){var l=r[i],s=t[l];o[l]=s.call(this)}n[a]=o}return n};w.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=Object.keys(t),a=0;a<e;a++){for(var o={},i=0;i<r.length;i++){var l=r[i],s=t[l];o[l]=s.call(this)}n[a]=o}return n};w.prototype.parseStruct=function(e){if(typeof e=="function")return e.call(this);for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r],o=e[a];n[a]=o.call(this)}return n};w.prototype.parseValueRecord=function(e){if(e===void 0&&(e=this.parseUShort()),e!==0){var t={};return e&1&&(t.xPlacement=this.parseShort()),e&2&&(t.yPlacement=this.parseShort()),e&4&&(t.xAdvance=this.parseShort()),e&8&&(t.yAdvance=this.parseShort()),e&16&&(t.xPlaDevice=void 0,this.parseShort()),e&32&&(t.yPlaDevice=void 0,this.parseShort()),e&64&&(t.xAdvDevice=void 0,this.parseShort()),e&128&&(t.yAdvDevice=void 0,this.parseShort()),t}};w.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),n=new Array(t),r=0;r<t;r++)n[r]=this.parseValueRecord(e);return n};w.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new w(this.data,this.offset+t).parseStruct(e)};w.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new w(this.data,this.offset+t).parseStruct(e)};w.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),n=t.length,r=this.relativeOffset,a=new Array(n),o=0;o<n;o++){var i=t[o];if(i===0){a[o]=void 0;continue}if(this.relativeOffset=i,e){for(var l=this.parseOffset16List(),s=new Array(l.length),u=0;u<l.length;u++)this.relativeOffset=i+l[u],s[u]=e.call(this);a[o]=s}else a[o]=this.parseUShortList()}return this.relativeOffset=r,a};w.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),n=this.parseUShort();if(t===1)return{format:1,glyphs:this.parseUShortList(n)};if(t===2){for(var r=new Array(n),a=0;a<n;a++)r[a]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")};w.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(t===2)return{format:2,ranges:this.parseRecordList({start:w.uShort,end:w.uShort,classId:w.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")};w.list=function(e,t){return function(){return this.parseList(e,t)}};w.list32=function(e,t){return function(){return this.parseList32(e,t)}};w.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}};w.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}};w.pointer=function(e){return function(){return this.parsePointer(e)}};w.pointer32=function(e){return function(){return this.parsePointer32(e)}};w.tag=w.prototype.parseTag;w.byte=w.prototype.parseByte;w.uShort=w.offset16=w.prototype.parseUShort;w.uShortList=w.prototype.parseUShortList;w.uLong=w.offset32=w.prototype.parseULong;w.uLongList=w.prototype.parseULongList;w.struct=w.prototype.parseStruct;w.coverage=w.prototype.parseCoverage;w.classDef=w.prototype.parseClassDef;var Ff={reserved:w.uShort,reqFeatureIndex:w.uShort,featureIndexes:w.uShortList};w.prototype.parseScriptList=function(){return this.parsePointer(w.recordList({tag:w.tag,script:w.pointer({defaultLangSys:w.pointer(Ff),langSysRecords:w.recordList({tag:w.tag,langSys:w.pointer(Ff)})})}))||[]};w.prototype.parseFeatureList=function(){return this.parsePointer(w.recordList({tag:w.tag,feature:w.pointer({featureParams:w.offset16,lookupListIndexes:w.uShortList})}))||[]};w.prototype.parseLookupList=function(e){return this.parsePointer(w.list(w.pointer(function(){var t=this.parseUShort();K.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var n=this.parseUShort(),r=n&16;return{lookupType:t,lookupFlag:n,subtables:this.parseList(w.pointer(e[t])),markFilteringSet:r?this.parseUShort():void 0}})))||[]};w.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),t=this.parseUShort();K.argument(e===1&&t<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:w.offset32,featureTableSubstitutionOffset:w.offset32});return n})||[]};var $={getByte:Cf,getCard8:Cf,getUShort:ki,getCard16:ki,getShort:fy,getULong:Iu,getFixed:Yh,getTag:py,getOffset:dy,getBytes:hy,bytesToString:vy,Parser:w};function my(e,t){t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong();var n;e.groupCount=n=t.parseULong(),e.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var a=t.parseULong(),o=t.parseULong(),i=t.parseULong(),l=a;l<=o;l+=1)e.glyphIndexMap[l]=i,i++}function yy(e,t,n,r,a){e.length=t.parseUShort(),e.language=t.parseUShort();var o;e.segCount=o=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var i=new $.Parser(n,r+a+14),l=new $.Parser(n,r+a+16+o*2),s=new $.Parser(n,r+a+16+o*4),u=new $.Parser(n,r+a+16+o*6),c=r+a+16+o*8,p=0;p<o-1;p+=1)for(var f=void 0,d=i.parseUShort(),x=l.parseUShort(),y=s.parseShort(),k=u.parseUShort(),h=x;h<=d;h+=1)k!==0?(c=u.offset+u.relativeOffset-2,c+=k,c+=(h-x)*2,f=$.getUShort(n,c),f!==0&&(f=f+y&65535)):f=h+y&65535,e.glyphIndexMap[h]=f}function xy(e,t){var n={};n.version=$.getUShort(e,t),K.argument(n.version===0,"cmap table version should be 0."),n.numTables=$.getUShort(e,t+2);for(var r=-1,a=n.numTables-1;a>=0;a-=1){var o=$.getUShort(e,t+4+a*8),i=$.getUShort(e,t+4+a*8+2);if(o===3&&(i===0||i===1||i===10)||o===0&&(i===0||i===1||i===2||i===3||i===4)){r=$.getULong(e,t+4+a*8+4);break}}if(r===-1)throw new Error("No valid cmap sub-tables found.");var l=new $.Parser(e,t+r);if(n.format=l.parseUShort(),n.format===12)my(n,l);else if(n.format===4)yy(n,l,e,t,r);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function ky(e,t,n){e.segments.push({end:t,start:t,delta:-(t-n),offset:0,glyphIndex:n})}function Sy(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function wy(e){var t=!0,n;for(n=e.length-1;n>0;n-=1){var r=e.get(n);if(r.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),t=!1;break}}var a=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:t?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:t?12:20}];t||(a=a.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),a=a.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var o=new I.Table("cmap",a);for(o.segments=[],n=0;n<e.length;n+=1){for(var i=e.get(n),l=0;l<i.unicodes.length;l+=1)ky(o,i.unicodes[l],n);o.segments=o.segments.sort(function(g,v){return g.start-v.start})}Sy(o);var s=o.segments.length,u=0,c=[],p=[],f=[],d=[],x=[],y=[];for(n=0;n<s;n+=1){var k=o.segments[n];k.end<=65535&&k.start<=65535?(c=c.concat({name:"end_"+n,type:"USHORT",value:k.end}),p=p.concat({name:"start_"+n,type:"USHORT",value:k.start}),f=f.concat({name:"idDelta_"+n,type:"SHORT",value:k.delta}),d=d.concat({name:"idRangeOffset_"+n,type:"USHORT",value:k.offset}),k.glyphId!==void 0&&(x=x.concat({name:"glyph_"+n,type:"USHORT",value:k.glyphId}))):u+=1,!t&&k.glyphIndex!==void 0&&(y=y.concat({name:"cmap12Start_"+n,type:"ULONG",value:k.start}),y=y.concat({name:"cmap12End_"+n,type:"ULONG",value:k.end}),y=y.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:k.glyphIndex}))}if(o.segCountX2=(s-u)*2,o.searchRange=Math.pow(2,Math.floor(Math.log(s-u)/Math.log(2)))*2,o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(c),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(p),o.fields=o.fields.concat(f),o.fields=o.fields.concat(d),o.fields=o.fields.concat(x),o.cmap4Length=14+c.length*2+2+p.length*2+f.length*2+d.length*2+x.length*2,!t){var h=16+y.length*4;o.cmap12Offset=12+2*2+4+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:h},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:y.length/3}]),o.fields=o.fields.concat(y)}return o}var Qh={parse:xy,make:wy},Ho=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Ty=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Ey=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Vn=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Kh(e){this.font=e}Kh.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.font.glyphs;if(n){for(var r=0;r<n.length;r+=1)for(var a=n.get(r),o=0;o<a.unicodes.length;o+=1)if(a.unicodes[o]===t)return r}return null};function qh(e){this.cmap=e}qh.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0};function Si(e,t){this.encoding=e,this.charset=t}Si.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.encoding[t];return this.charset.indexOf(n)};function Au(e){switch(e.version){case 1:this.names=Vn.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<Vn.length?this.names[t]=Vn[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-Vn.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var n=0;n<e.numberOfGlyphs;n++)this.names[n]=Vn[n+e.glyphNameIndex[n]];break;case 3:this.names=[];break;default:this.names=[];break}}Au.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)};Au.prototype.glyphIndexToName=function(e){return this.names[e]};function by(e){for(var t,n=e.tables.cmap.glyphIndexMap,r=Object.keys(n),a=0;a<r.length;a+=1){var o=r[a],i=n[o];t=e.glyphs.get(i),t.addUnicode(parseInt(o))}for(var l=0;l<e.glyphs.length;l+=1)t=e.glyphs.get(l),e.cffEncoding?e.isCIDFont?t.name="gid"+l:t.name=e.cffEncoding.charset[l]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(l))}function Cy(e){e._IndexToUnicodeMap={};for(var t=e.tables.cmap.glyphIndexMap,n=Object.keys(t),r=0;r<n.length;r+=1){var a=n[r],o=t[a];e._IndexToUnicodeMap[o]===void 0?e._IndexToUnicodeMap[o]={unicodes:[parseInt(a)]}:e._IndexToUnicodeMap[o].unicodes.push(parseInt(a))}}function Fy(e,t){t.lowMemory?Cy(e):by(e)}function Ry(e,t,n,r,a){e.beginPath(),e.moveTo(t,n),e.lineTo(r,a),e.stroke()}var Hn={line:Ry};function _y(e,t){var n=t||new De;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(r){n=r}}}function xt(e){this.bindConstructorValues(e)}xt.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||e.unicode!==void 0?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",_y(this,e.path))};xt.prototype.addUnicode=function(e){this.unicodes.length===0&&(this.unicode=e),this.unicodes.push(e)};xt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};xt.prototype.getPath=function(e,t,n,r,a){e=e!==void 0?e:0,t=t!==void 0?t:0,n=n!==void 0?n:72;var o,i;r||(r={});var l=r.xScale,s=r.yScale;if(r.hinting&&a&&a.hinting&&(i=this.path&&a.hinting.exec(this,n)),i)o=a.hinting.getCommands(i),e=Math.round(e),t=Math.round(t),l=s=1;else{o=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*n;l===void 0&&(l=u),s===void 0&&(s=u)}for(var c=new De,p=0;p<o.length;p+=1){var f=o[p];f.type==="M"?c.moveTo(e+f.x*l,t+-f.y*s):f.type==="L"?c.lineTo(e+f.x*l,t+-f.y*s):f.type==="Q"?c.quadraticCurveTo(e+f.x1*l,t+-f.y1*s,e+f.x*l,t+-f.y*s):f.type==="C"?c.curveTo(e+f.x1*l,t+-f.y1*s,e+f.x2*l,t+-f.y2*s,e+f.x*l,t+-f.y*s):f.type==="Z"&&c.closePath()}return c};xt.prototype.getContours=function(){if(this.points===void 0)return[];for(var e=[],t=[],n=0;n<this.points.length;n+=1){var r=this.points[n];t.push(r),r.lastPointOfContour&&(e.push(t),t=[])}return K.argument(t.length===0,"There are still points left in the current contour."),e};xt.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],n=[],r=0;r<e.length;r+=1){var a=e[r];a.type!=="Z"&&(t.push(a.x),n.push(a.y)),(a.type==="Q"||a.type==="C")&&(t.push(a.x1),n.push(a.y1)),a.type==="C"&&(t.push(a.x2),n.push(a.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o};xt.prototype.draw=function(e,t,n,r,a){this.getPath(t,n,r,a).draw(e)};xt.prototype.drawPoints=function(e,t,n,r){function a(p,f,d,x){e.beginPath();for(var y=0;y<p.length;y+=1)e.moveTo(f+p[y].x*x,d+p[y].y*x),e.arc(f+p[y].x*x,d+p[y].y*x,2,0,Math.PI*2,!1);e.closePath(),e.fill()}t=t!==void 0?t:0,n=n!==void 0?n:0,r=r!==void 0?r:24;for(var o=1/this.path.unitsPerEm*r,i=[],l=[],s=this.path,u=0;u<s.commands.length;u+=1){var c=s.commands[u];c.x!==void 0&&i.push({x:c.x,y:-c.y}),c.x1!==void 0&&l.push({x:c.x1,y:-c.y1}),c.x2!==void 0&&l.push({x:c.x2,y:-c.y2})}e.fillStyle="blue",a(i,t,n,o),e.fillStyle="red",a(l,t,n,o)};xt.prototype.drawMetrics=function(e,t,n,r){var a;t=t!==void 0?t:0,n=n!==void 0?n:0,r=r!==void 0?r:24,a=1/this.path.unitsPerEm*r,e.lineWidth=1,e.strokeStyle="black",Hn.line(e,t,-1e4,t,1e4),Hn.line(e,-1e4,n,1e4,n);var o=this.xMin||0,i=this.yMin||0,l=this.xMax||0,s=this.yMax||0,u=this.advanceWidth||0;e.strokeStyle="blue",Hn.line(e,t+o*a,-1e4,t+o*a,1e4),Hn.line(e,t+l*a,-1e4,t+l*a,1e4),Hn.line(e,-1e4,n+-i*a,1e4,n+-i*a),Hn.line(e,-1e4,n+-s*a,1e4,n+-s*a),e.strokeStyle="green",Hn.line(e,t+u*a,-1e4,t+u*a,1e4)};function Co(e,t,n){Object.defineProperty(e,t,{get:function(){return e.path,e[n]},set:function(r){e[n]=r},enumerable:!0,configurable:!0})}function Mu(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];r.path.unitsPerEm=e.unitsPerEm,this.glyphs[n]=r}this.length=t&&t.length||0}Mu.prototype.get=function(e){if(this.glyphs[e]===void 0){this.font._push(e),typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],n=this.font._IndexToUnicodeMap[e];if(n)for(var r=0;r<n.unicodes.length;r++)t.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]};Mu.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};function Ly(e,t){return new xt({index:t,font:e})}function Ny(e,t,n,r,a,o){return function(){var i=new xt({index:t,font:e});return i.path=function(){n(i,r,a);var l=o(e.glyphs,i);return l.unitsPerEm=e.unitsPerEm,l},Co(i,"xMin","_xMin"),Co(i,"xMax","_xMax"),Co(i,"yMin","_yMin"),Co(i,"yMax","_yMax"),i}}function Oy(e,t,n,r){return function(){var a=new xt({index:t,font:e});return a.path=function(){var o=n(e,a,r);return o.unitsPerEm=e.unitsPerEm,o},a}}var qt={GlyphSet:Mu,glyphLoader:Ly,ttfGlyphLoader:Ny,cffGlyphLoader:Oy};function Jh(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!Jh(e[n],t[n]))return!1;return!0}else return!1}function Ol(e){var t;return e.length<1240?t=107:e.length<33900?t=1131:t=32768,t}function gn(e,t,n){var r=[],a=[],o=$.getCard16(e,t),i,l;if(o!==0){var s=$.getByte(e,t+2);i=t+(o+1)*s+2;for(var u=t+3,c=0;c<o+1;c+=1)r.push($.getOffset(e,u,s)),u+=s;l=i+r[o]}else l=t+2;for(var p=0;p<r.length-1;p+=1){var f=$.getBytes(e,i+r[p],i+r[p+1]);n&&(f=n(f)),a.push(f)}return{objects:a,startOffset:t,endOffset:l}}function Uy(e,t){var n=[],r=$.getCard16(e,t),a,o;if(r!==0){var i=$.getByte(e,t+2);a=t+(r+1)*i+2;for(var l=t+3,s=0;s<r+1;s+=1)n.push($.getOffset(e,l,i)),l+=i;o=a+n[r]}else o=t+2;return{offsets:n,startOffset:t,endOffset:o}}function Dy(e,t,n,r,a){var o=$.getCard16(n,r),i=0;if(o!==0){var l=$.getByte(n,r+2);i=r+(o+1)*l+2}var s=$.getBytes(n,i+t[e],i+t[e+1]);return s}function Py(e){for(var t="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var a=e.parseByte(),o=a>>4,i=a&15;if(o===n||(t+=r[o],i===n))break;t+=r[i]}return parseFloat(t)}function zy(e,t){var n,r,a,o;if(t===28)return n=e.parseByte(),r=e.parseByte(),n<<8|r;if(t===29)return n=e.parseByte(),r=e.parseByte(),a=e.parseByte(),o=e.parseByte(),n<<24|r<<16|a<<8|o;if(t===30)return Py(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return n=e.parseByte(),(t-247)*256+n+108;if(t>=251&&t<=254)return n=e.parseByte(),-(t-251)*256-n-108;throw new Error("Invalid b0 "+t)}function Iy(e){for(var t={},n=0;n<e.length;n+=1){var r=e[n][0],a=e[n][1],o=void 0;if(a.length===1?o=a[0]:o=a,t.hasOwnProperty(r)&&!isNaN(t[r]))throw new Error("Object "+t+" already has key "+r);t[r]=o}return t}function ev(e,t,n){t=t!==void 0?t:0;var r=new $.Parser(e,t),a=[],o=[];for(n=n!==void 0?n:e.length;r.relativeOffset<n;){var i=r.parseByte();i<=21?(i===12&&(i=1200+r.parseByte()),a.push([i,o]),o=[]):o.push(zy(r,i))}return Iy(a)}function ka(e,t){return t<=390?t=Ho[t]:t=e[t-391],t}function tv(e,t,n){for(var r={},a,o=0;o<t.length;o+=1){var i=t[o];if(Array.isArray(i.type)){var l=[];l.length=i.type.length;for(var s=0;s<i.type.length;s++)a=e[i.op]!==void 0?e[i.op][s]:void 0,a===void 0&&(a=i.value!==void 0&&i.value[s]!==void 0?i.value[s]:null),i.type[s]==="SID"&&(a=ka(n,a)),l[s]=a;r[i.name]=l}else a=e[i.op],a===void 0&&(a=i.value!==void 0?i.value:null),i.type==="SID"&&(a=ka(n,a)),r[i.name]=a}return r}function Ay(e,t){var n={};return n.formatMajor=$.getCard8(e,t),n.formatMinor=$.getCard8(e,t+1),n.size=$.getCard8(e,t+2),n.offsetSize=$.getCard8(e,t+3),n.startOffset=t,n.endOffset=t+4,n}var nv=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],rv=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function My(e,t){var n=ev(e,0,e.byteLength);return tv(n,nv,t)}function av(e,t,n,r){var a=ev(e,t,n);return tv(a,rv,r)}function Rf(e,t,n,r){for(var a=[],o=0;o<n.length;o+=1){var i=new DataView(new Uint8Array(n[o]).buffer),l=My(i,r);l._subrs=[],l._subrsBias=0,l._defaultWidthX=0,l._nominalWidthX=0;var s=l.private[0],u=l.private[1];if(s!==0&&u!==0){var c=av(e,u+t,s,r);if(l._defaultWidthX=c.defaultWidthX,l._nominalWidthX=c.nominalWidthX,c.subrs!==0){var p=u+c.subrs,f=gn(e,p+t);l._subrs=f.objects,l._subrsBias=Ol(l._subrs)}l._privateDict=c}a.push(l)}return a}function By(e,t,n,r){var a,o,i=new $.Parser(e,t);n-=1;var l=[".notdef"],s=i.parseCard8();if(s===0)for(var u=0;u<n;u+=1)a=i.parseSID(),l.push(ka(r,a));else if(s===1)for(;l.length<=n;){a=i.parseSID(),o=i.parseCard8();for(var c=0;c<=o;c+=1)l.push(ka(r,a)),a+=1}else if(s===2)for(;l.length<=n;){a=i.parseSID(),o=i.parseCard16();for(var p=0;p<=o;p+=1)l.push(ka(r,a)),a+=1}else throw new Error("Unknown charset format "+s);return l}function jy(e,t,n){var r,a={},o=new $.Parser(e,t),i=o.parseCard8();if(i===0)for(var l=o.parseCard8(),s=0;s<l;s+=1)r=o.parseCard8(),a[r]=s;else if(i===1){var u=o.parseCard8();r=1;for(var c=0;c<u;c+=1)for(var p=o.parseCard8(),f=o.parseCard8(),d=p;d<=p+f;d+=1)a[d]=r,r+=1}else throw new Error("Unknown encoding format "+i);return new Si(a,n)}function _f(e,t,n){var r,a,o,i,l=new De,s=[],u=0,c=!1,p=!1,f=0,d=0,x,y,k,h;if(e.isCIDFont){var g=e.tables.cff.topDict._fdSelect[t.index],v=e.tables.cff.topDict._fdArray[g];x=v._subrs,y=v._subrsBias,k=v._defaultWidthX,h=v._nominalWidthX}else x=e.tables.cff.topDict._subrs,y=e.tables.cff.topDict._subrsBias,k=e.tables.cff.topDict._defaultWidthX,h=e.tables.cff.topDict._nominalWidthX;var S=k;function T(b,B){p&&l.closePath(),l.moveTo(b,B),p=!0}function N(){var b;b=s.length%2!==0,b&&!c&&(S=s.shift()+h),u+=s.length>>1,s.length=0,c=!0}function E(b){for(var B,_,F,z,j,H,Y,ee,W,U,A,Z,X=0;X<b.length;){var te=b[X];switch(X+=1,te){case 1:N();break;case 3:N();break;case 4:s.length>1&&!c&&(S=s.shift()+h,c=!0),d+=s.pop(),T(f,d);break;case 5:for(;s.length>0;)f+=s.shift(),d+=s.shift(),l.lineTo(f,d);break;case 6:for(;s.length>0&&(f+=s.shift(),l.lineTo(f,d),s.length!==0);)d+=s.shift(),l.lineTo(f,d);break;case 7:for(;s.length>0&&(d+=s.shift(),l.lineTo(f,d),s.length!==0);)f+=s.shift(),l.lineTo(f,d);break;case 8:for(;s.length>0;)r=f+s.shift(),a=d+s.shift(),o=r+s.shift(),i=a+s.shift(),f=o+s.shift(),d=i+s.shift(),l.curveTo(r,a,o,i,f,d);break;case 10:j=s.pop()+y,H=x[j],H&&E(H);break;case 11:return;case 12:switch(te=b[X],X+=1,te){case 35:r=f+s.shift(),a=d+s.shift(),o=r+s.shift(),i=a+s.shift(),Y=o+s.shift(),ee=i+s.shift(),W=Y+s.shift(),U=ee+s.shift(),A=W+s.shift(),Z=U+s.shift(),f=A+s.shift(),d=Z+s.shift(),s.shift(),l.curveTo(r,a,o,i,Y,ee),l.curveTo(W,U,A,Z,f,d);break;case 34:r=f+s.shift(),a=d,o=r+s.shift(),i=a+s.shift(),Y=o+s.shift(),ee=i,W=Y+s.shift(),U=i,A=W+s.shift(),Z=d,f=A+s.shift(),l.curveTo(r,a,o,i,Y,ee),l.curveTo(W,U,A,Z,f,d);break;case 36:r=f+s.shift(),a=d+s.shift(),o=r+s.shift(),i=a+s.shift(),Y=o+s.shift(),ee=i,W=Y+s.shift(),U=i,A=W+s.shift(),Z=U+s.shift(),f=A+s.shift(),l.curveTo(r,a,o,i,Y,ee),l.curveTo(W,U,A,Z,f,d);break;case 37:r=f+s.shift(),a=d+s.shift(),o=r+s.shift(),i=a+s.shift(),Y=o+s.shift(),ee=i+s.shift(),W=Y+s.shift(),U=ee+s.shift(),A=W+s.shift(),Z=U+s.shift(),Math.abs(A-f)>Math.abs(Z-d)?f=A+s.shift():d=Z+s.shift(),l.curveTo(r,a,o,i,Y,ee),l.curveTo(W,U,A,Z,f,d);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+te),s.length=0}break;case 14:s.length>0&&!c&&(S=s.shift()+h,c=!0),p&&(l.closePath(),p=!1);break;case 18:N();break;case 19:case 20:N(),X+=u+7>>3;break;case 21:s.length>2&&!c&&(S=s.shift()+h,c=!0),d+=s.pop(),f+=s.pop(),T(f,d);break;case 22:s.length>1&&!c&&(S=s.shift()+h,c=!0),f+=s.pop(),T(f,d);break;case 23:N();break;case 24:for(;s.length>2;)r=f+s.shift(),a=d+s.shift(),o=r+s.shift(),i=a+s.shift(),f=o+s.shift(),d=i+s.shift(),l.curveTo(r,a,o,i,f,d);f+=s.shift(),d+=s.shift(),l.lineTo(f,d);break;case 25:for(;s.length>6;)f+=s.shift(),d+=s.shift(),l.lineTo(f,d);r=f+s.shift(),a=d+s.shift(),o=r+s.shift(),i=a+s.shift(),f=o+s.shift(),d=i+s.shift(),l.curveTo(r,a,o,i,f,d);break;case 26:for(s.length%2&&(f+=s.shift());s.length>0;)r=f,a=d+s.shift(),o=r+s.shift(),i=a+s.shift(),f=o,d=i+s.shift(),l.curveTo(r,a,o,i,f,d);break;case 27:for(s.length%2&&(d+=s.shift());s.length>0;)r=f+s.shift(),a=d,o=r+s.shift(),i=a+s.shift(),f=o+s.shift(),d=i,l.curveTo(r,a,o,i,f,d);break;case 28:B=b[X],_=b[X+1],s.push((B<<24|_<<16)>>16),X+=2;break;case 29:j=s.pop()+e.gsubrsBias,H=e.gsubrs[j],H&&E(H);break;case 30:for(;s.length>0&&(r=f,a=d+s.shift(),o=r+s.shift(),i=a+s.shift(),f=o+s.shift(),d=i+(s.length===1?s.shift():0),l.curveTo(r,a,o,i,f,d),s.length!==0);)r=f+s.shift(),a=d,o=r+s.shift(),i=a+s.shift(),d=i+s.shift(),f=o+(s.length===1?s.shift():0),l.curveTo(r,a,o,i,f,d);break;case 31:for(;s.length>0&&(r=f+s.shift(),a=d,o=r+s.shift(),i=a+s.shift(),d=i+s.shift(),f=o+(s.length===1?s.shift():0),l.curveTo(r,a,o,i,f,d),s.length!==0);)r=f,a=d+s.shift(),o=r+s.shift(),i=a+s.shift(),f=o+s.shift(),d=i+(s.length===1?s.shift():0),l.curveTo(r,a,o,i,f,d);break;default:te<32?console.log("Glyph "+t.index+": unknown operator "+te):te<247?s.push(te-139):te<251?(B=b[X],X+=1,s.push((te-247)*256+B+108)):te<255?(B=b[X],X+=1,s.push(-(te-251)*256-B-108)):(B=b[X],_=b[X+1],F=b[X+2],z=b[X+3],X+=4,s.push((B<<24|_<<16|F<<8|z)/65536))}}}return E(n),t.advanceWidth=S,l}function Gy(e,t,n,r){var a=[],o,i=new $.Parser(e,t),l=i.parseCard8();if(l===0)for(var s=0;s<n;s++){if(o=i.parseCard8(),o>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+r+")");a.push(o)}else if(l===3){var u=i.parseCard16(),c=i.parseCard16();if(c!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var p,f=0;f<u;f++){if(o=i.parseCard8(),p=i.parseCard16(),o>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+r+")");if(p>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+p);for(;c<p;c++)a.push(o);c=p}if(p!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+p)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+l);return a}function $y(e,t,n,r){n.tables.cff={};var a=Ay(e,t),o=gn(e,a.endOffset,$.bytesToString),i=gn(e,o.endOffset),l=gn(e,i.endOffset,$.bytesToString),s=gn(e,l.endOffset);n.gsubrs=s.objects,n.gsubrsBias=Ol(n.gsubrs);var u=Rf(e,t,i.objects,l.objects);if(u.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var c=u[0];if(n.tables.cff.topDict=c,c._privateDict&&(n.defaultWidthX=c._privateDict.defaultWidthX,n.nominalWidthX=c._privateDict.nominalWidthX),c.ros[0]!==void 0&&c.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var p=c.fdArray,f=c.fdSelect;if(p===0||f===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");p+=t;var d=gn(e,p),x=Rf(e,t,d.objects,l.objects);c._fdArray=x,f+=t,c._fdSelect=Gy(e,f,n.numGlyphs,x.length)}var y=t+c.private[1],k=av(e,y,c.private[0],l.objects);if(n.defaultWidthX=k.defaultWidthX,n.nominalWidthX=k.nominalWidthX,k.subrs!==0){var h=y+k.subrs,g=gn(e,h);n.subrs=g.objects,n.subrsBias=Ol(n.subrs)}else n.subrs=[],n.subrsBias=0;var v;r.lowMemory?(v=Uy(e,t+c.charStrings),n.nGlyphs=v.offsets.length):(v=gn(e,t+c.charStrings),n.nGlyphs=v.objects.length);var S=By(e,t+c.charset,n.nGlyphs,l.objects);if(c.encoding===0?n.cffEncoding=new Si(Ty,S):c.encoding===1?n.cffEncoding=new Si(Ey,S):n.cffEncoding=jy(e,t+c.encoding,S),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new qt.GlyphSet(n),r.lowMemory)n._push=function(E){var b=Dy(E,v.offsets,e,t+c.charStrings);n.glyphs.push(E,qt.cffGlyphLoader(n,E,_f,b))};else for(var T=0;T<n.nGlyphs;T+=1){var N=v.objects[T];n.glyphs.push(T,qt.cffGlyphLoader(n,T,_f,N))}}function ov(e,t){var n,r=Ho.indexOf(e);return r>=0&&(n=r),r=t.indexOf(e),r>=0?n=r+Ho.length:(n=Ho.length+t.length,t.push(e)),n}function Hy(){return new I.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function Zy(e){var t=new I.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var n=0;n<e.length;n+=1)t.names.push({name:"name_"+n,type:"NAME",value:e[n]});return t}function iv(e,t,n){for(var r={},a=0;a<e.length;a+=1){var o=e[a],i=t[o.name];i!==void 0&&!Jh(i,o.value)&&(o.type==="SID"&&(i=ov(i,n)),r[o.op]={name:o.name,type:o.type,value:i})}return r}function Lf(e,t){var n=new I.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=iv(nv,e,t),n}function Nf(e){var t=new I.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function Wy(e){var t=new I.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return t}function Vy(){return new I.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function Xy(e,t){for(var n=new I.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<e.length;r+=1){var a=e[r],o=ov(a,t);n.fields.push({name:"glyph_"+r,type:"SID",value:o})}return n}function Yy(e){var t=[],n=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var r=0,a=0,o=0;o<n.commands.length;o+=1){var i=void 0,l=void 0,s=n.commands[o];if(s.type==="Q"){var u=.3333333333333333,c=2/3;s={type:"C",x:s.x,y:s.y,x1:Math.round(u*r+c*s.x1),y1:Math.round(u*a+c*s.y1),x2:Math.round(u*s.x+c*s.x1),y2:Math.round(u*s.y+c*s.y1)}}if(s.type==="M")i=Math.round(s.x-r),l=Math.round(s.y-a),t.push({name:"dx",type:"NUMBER",value:i}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(s.x),a=Math.round(s.y);else if(s.type==="L")i=Math.round(s.x-r),l=Math.round(s.y-a),t.push({name:"dx",type:"NUMBER",value:i}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rlineto",type:"OP",value:5}),r=Math.round(s.x),a=Math.round(s.y);else if(s.type==="C"){var p=Math.round(s.x1-r),f=Math.round(s.y1-a),d=Math.round(s.x2-s.x1),x=Math.round(s.y2-s.y1);i=Math.round(s.x-s.x2),l=Math.round(s.y-s.y2),t.push({name:"dx1",type:"NUMBER",value:p}),t.push({name:"dy1",type:"NUMBER",value:f}),t.push({name:"dx2",type:"NUMBER",value:d}),t.push({name:"dy2",type:"NUMBER",value:x}),t.push({name:"dx",type:"NUMBER",value:i}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(s.x),a=Math.round(s.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}function Qy(e){for(var t=new I.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var r=e.get(n),a=Yy(r);t.charStrings.push({name:r.name,type:"CHARSTRING",value:a})}return t}function Ky(e,t){var n=new I.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=iv(rv,e,t),n}function qy(e,t){for(var n=new I.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/t.unitsPerEm,a={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o={},i=[],l,s=1;s<e.length;s+=1)l=e.get(s),i.push(l.name);var u=[];n.header=Hy(),n.nameIndex=Zy([t.postScriptName]);var c=Lf(a,u);n.topDictIndex=Nf(c),n.globalSubrIndex=Vy(),n.charsets=Xy(i,u),n.charStringsIndex=Qy(e),n.privateDict=Ky(o,u),n.stringIndex=Wy(u);var p=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return a.charset=p,a.encoding=0,a.charStrings=a.charset+n.charsets.sizeOf(),a.private[1]=a.charStrings+n.charStringsIndex.sizeOf(),c=Lf(a,u),n.topDictIndex=Nf(c),n}var sv={parse:$y,make:qy};function Jy(e,t){var n={},r=new $.Parser(e,t);return n.version=r.parseVersion(),n.fontRevision=Math.round(r.parseFixed()*1e3)/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),K.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n}function e1(e){var t=Math.round(new Date().getTime()/1e3)+2082844800,n=t;return e.createdTimestamp&&(n=e.createdTimestamp+2082844800),new I.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var lv={parse:Jy,make:e1};function t1(e,t){var n={},r=new $.Parser(e,t);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n}function n1(e){return new I.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}var uv={parse:t1,make:n1};function r1(e,t,n,r,a){for(var o,i,l=new $.Parser(e,t),s=0;s<r;s+=1){s<n&&(o=l.parseUShort(),i=l.parseShort());var u=a.get(s);u.advanceWidth=o,u.leftSideBearing=i}}function a1(e,t,n,r,a){e._hmtxTableData={};for(var o,i,l=new $.Parser(t,n),s=0;s<a;s+=1)s<r&&(o=l.parseUShort(),i=l.parseShort()),e._hmtxTableData[s]={advanceWidth:o,leftSideBearing:i}}function o1(e,t,n,r,a,o,i){i.lowMemory?a1(e,t,n,r,a):r1(t,n,r,a,o)}function i1(e){for(var t=new I.Table("hmtx",[]),n=0;n<e.length;n+=1){var r=e.get(n),a=r.advanceWidth||0,o=r.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:a}),t.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:o})}return t}var cv={parse:o1,make:i1};function s1(e){for(var t=new I.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),n="",r=12+e.length*4,a=0;a<e.length;++a){var o=n.indexOf(e[a]);o<0&&(o=n.length,n+=e[a]),t.fields.push({name:"offset "+a,type:"USHORT",value:r+o}),t.fields.push({name:"length "+a,type:"USHORT",value:e[a].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),t}function l1(e,t){var n=new $.Parser(e,t),r=n.parseULong();K.argument(r===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var a=n.parseULong(),o=[],i=0;i<a;i++){for(var l="",s=t+n.parseUShort(),u=n.parseUShort(),c=s;c<s+u;++c)l+=String.fromCharCode(e.getInt8(c));o.push(l)}return o}var fv={make:s1,parse:l1};function u1(e,t){var n={},r=new $.Parser(e,t);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),n.version===1&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n}function c1(e){return new I.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}var pv={parse:u1,make:c1},dv=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],hv={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},f1={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},vv={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function p1(e,t,n){switch(e){case 0:if(t===65535)return"und";if(n)return n[t];break;case 1:return hv[t];case 3:return vv[t]}}var Ul="utf-16",d1={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},h1={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function gv(e,t,n){switch(e){case 0:return Ul;case 1:return h1[n]||d1[t];case 3:if(t===1||t===10)return Ul;break}}function v1(e,t,n){for(var r={},a=new $.Parser(e,t),o=a.parseUShort(),i=a.parseUShort(),l=a.offset+a.parseUShort(),s=0;s<i;s++){var u=a.parseUShort(),c=a.parseUShort(),p=a.parseUShort(),f=a.parseUShort(),d=dv[f]||f,x=a.parseUShort(),y=a.parseUShort(),k=p1(u,p,n),h=gv(u,c,p);if(h!==void 0&&k!==void 0){var g=void 0;if(h===Ul?g=Zr.UTF16(e,l+y,x):g=Zr.MACSTRING(e,l+y,x,h),g){var v=r[d];v===void 0&&(v=r[d]={}),v[k]=g}}}return o===1&&a.parseUShort(),r}function Es(e){var t={};for(var n in e)t[e[n]]=parseInt(n);return t}function Of(e,t,n,r,a,o){return new I.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:a},{name:"offset",type:"USHORT",value:o}])}function g1(e,t){var n=e.length,r=t.length-n+1;e:for(var a=0;a<r;a++)for(;a<r;a++){for(var o=0;o<n;o++)if(t[a+o]!==e[o])continue e;return a}return-1}function Uf(e,t){var n=g1(e,t);if(n<0){n=t.length;for(var r=0,a=e.length;r<a;++r)t.push(e[r])}return n}function m1(e,t){var n,r=[],a={},o=Es(dv);for(var i in e){var l=o[i];if(l===void 0&&(l=i),n=parseInt(l),isNaN(n))throw new Error('Name table entry "'+i+'" does not exist, see nameTableNames for complete list.');a[n]=e[i],r.push(n)}for(var s=Es(hv),u=Es(vv),c=[],p=[],f=0;f<r.length;f++){n=r[f];var d=a[n];for(var x in d){var y=d[x],k=1,h=s[x],g=f1[h],v=gv(k,g,h),S=P.MACSTRING(y,v);S===void 0&&(k=0,h=t.indexOf(x),h<0&&(h=t.length,t.push(x)),g=4,S=P.UTF16(y));var T=Uf(S,p);c.push(Of(k,g,h,n,S.length,T));var N=u[x];if(N!==void 0){var E=P.UTF16(y),b=Uf(E,p);c.push(Of(3,1,N,n,E.length,b))}}}c.sort(function(F,z){return F.platformID-z.platformID||F.encodingID-z.encodingID||F.languageID-z.languageID||F.nameID-z.nameID});for(var B=new I.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:c.length},{name:"stringOffset",type:"USHORT",value:6+c.length*12}]),_=0;_<c.length;_++)B.fields.push({name:"record_"+_,type:"RECORD",value:c[_]});return B.fields.push({name:"strings",type:"LITERAL",value:p}),B}var mv={parse:v1,make:m1},Dl=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function y1(e){for(var t=0;t<Dl.length;t+=1){var n=Dl[t];if(e>=n.begin&&e<n.end)return t}return-1}function x1(e,t){var n={},r=new $.Parser(e,t);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var a=0;a<10;a++)n.panose[a]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n}function k1(e){return new I.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var Pl={parse:x1,make:k1,unicodeRanges:Dl,getUnicodeRange:y1};function S1(e,t){var n={},r=new $.Parser(e,t);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=Vn.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var a=0;a<n.numberOfGlyphs;a++)n.glyphNameIndex[a]=r.parseUShort();n.names=[];for(var o=0;o<n.numberOfGlyphs;o++)if(n.glyphNameIndex[o]>=Vn.length){var i=r.parseChar();n.names.push(r.parseString(i))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var l=0;l<n.numberOfGlyphs;l++)n.offset[l]=r.parseChar();break}return n}function w1(){return new I.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var yv={parse:S1,make:w1},At=new Array(9);At[1]=function(){var t=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(w.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(w.coverage),substitute:this.parseOffset16List()};K.assert(!1,"0x"+t.toString(16)+": lookup type 1 format must be 1 or 2.")};At[2]=function(){var t=this.parseUShort();return K.argument(t===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(w.coverage),sequences:this.parseListOfLists()}};At[3]=function(){var t=this.parseUShort();return K.argument(t===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(w.coverage),alternateSets:this.parseListOfLists()}};At[4]=function(){var t=this.parseUShort();return K.argument(t===1,"GSUB ligature table identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(w.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var zr={sequenceIndex:w.uShort,lookupListIndex:w.uShort};At[5]=function(){var t=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(w.coverage),ruleSets:this.parseListOfLists(function(){var o=this.parseUShort(),i=this.parseUShort();return{input:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(i,zr)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(w.coverage),classDef:this.parsePointer(w.classDef),classSets:this.parseListOfLists(function(){var o=this.parseUShort(),i=this.parseUShort();return{classes:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(i,zr)}})};if(n===3){var r=this.parseUShort(),a=this.parseUShort();return{substFormat:n,coverages:this.parseList(r,w.pointer(w.coverage)),lookupRecords:this.parseRecordList(a,zr)}}K.assert(!1,"0x"+t.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};At[6]=function(){var t=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(w.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(zr)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(w.coverage),backtrackClassDef:this.parsePointer(w.classDef),inputClassDef:this.parsePointer(w.classDef),lookaheadClassDef:this.parsePointer(w.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(zr)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(w.pointer(w.coverage)),inputCoverage:this.parseList(w.pointer(w.coverage)),lookaheadCoverage:this.parseList(w.pointer(w.coverage)),lookupRecords:this.parseRecordList(zr)};K.assert(!1,"0x"+t.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};At[7]=function(){var t=this.parseUShort();K.argument(t===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),r=new w(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:At[n].call(r)}};At[8]=function(){var t=this.parseUShort();return K.argument(t===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(w.coverage),backtrackCoverage:this.parseList(w.pointer(w.coverage)),lookaheadCoverage:this.parseList(w.pointer(w.coverage)),substitutes:this.parseUShortList()}};function T1(e,t){t=t||0;var n=new w(e,t),r=n.parseVersion(1);return K.argument(r===1||r===1.1,"Unsupported GSUB table version."),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(At)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(At),variations:n.parseFeatureVariationsList()}}var Qr=new Array(9);Qr[1]=function(t){return t.substFormat===1?new I.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new I.Coverage(t.coverage)},{name:"deltaGlyphID",type:"USHORT",value:t.deltaGlyphId}]):new I.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new I.Coverage(t.coverage)}].concat(I.ushortList("substitute",t.substitute)))};Qr[2]=function(t){return K.assert(t.substFormat===1,"Lookup type 2 substFormat must be 1."),new I.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new I.Coverage(t.coverage)}].concat(I.tableList("seqSet",t.sequences,function(n){return new I.Table("sequenceSetTable",I.ushortList("sequence",n))})))};Qr[3]=function(t){return K.assert(t.substFormat===1,"Lookup type 3 substFormat must be 1."),new I.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new I.Coverage(t.coverage)}].concat(I.tableList("altSet",t.alternateSets,function(n){return new I.Table("alternateSetTable",I.ushortList("alternate",n))})))};Qr[4]=function(t){return K.assert(t.substFormat===1,"Lookup type 4 substFormat must be 1."),new I.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new I.Coverage(t.coverage)}].concat(I.tableList("ligSet",t.ligatureSets,function(n){return new I.Table("ligatureSetTable",I.tableList("ligature",n,function(r){return new I.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:r.ligGlyph}].concat(I.ushortList("component",r.components,r.components.length+1)))}))})))};Qr[6]=function(t){if(t.substFormat===1){var n=new I.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:t.substFormat},{name:"coverage",type:"TABLE",value:new I.Coverage(t.coverage)}].concat(I.tableList("chainRuleSet",t.chainRuleSets,function(o){return new I.Table("chainRuleSetTable",I.tableList("chainRule",o,function(i){var l=I.ushortList("backtrackGlyph",i.backtrack,i.backtrack.length).concat(I.ushortList("inputGlyph",i.input,i.input.length+1)).concat(I.ushortList("lookaheadGlyph",i.lookahead,i.lookahead.length)).concat(I.ushortList("substitution",[],i.lookupRecords.length));return i.lookupRecords.forEach(function(s,u){l=l.concat({name:"sequenceIndex"+u,type:"USHORT",value:s.sequenceIndex}).concat({name:"lookupListIndex"+u,type:"USHORT",value:s.lookupListIndex})}),new I.Table("chainRuleTable",l)}))})));return n}else if(t.substFormat===2)K.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(t.substFormat===3){var r=[{name:"substFormat",type:"USHORT",value:t.substFormat}];r.push({name:"backtrackGlyphCount",type:"USHORT",value:t.backtrackCoverage.length}),t.backtrackCoverage.forEach(function(o,i){r.push({name:"backtrackCoverage"+i,type:"TABLE",value:new I.Coverage(o)})}),r.push({name:"inputGlyphCount",type:"USHORT",value:t.inputCoverage.length}),t.inputCoverage.forEach(function(o,i){r.push({name:"inputCoverage"+i,type:"TABLE",value:new I.Coverage(o)})}),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:t.lookaheadCoverage.length}),t.lookaheadCoverage.forEach(function(o,i){r.push({name:"lookaheadCoverage"+i,type:"TABLE",value:new I.Coverage(o)})}),r.push({name:"substitutionCount",type:"USHORT",value:t.lookupRecords.length}),t.lookupRecords.forEach(function(o,i){r=r.concat({name:"sequenceIndex"+i,type:"USHORT",value:o.sequenceIndex}).concat({name:"lookupListIndex"+i,type:"USHORT",value:o.lookupListIndex})});var a=new I.Table("chainContextTable",r);return a}K.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function E1(e){return new I.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new I.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new I.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new I.LookupList(e.lookups,Qr)}])}var xv={parse:T1,make:E1};function b1(e,t){var n=new $.Parser(e,t),r=n.parseULong();K.argument(r===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var a=n.parseULong(),o={},i=0;i<a;i++){var l=n.parseTag(),s=n.parseULong(),u=n.parseULong(),c=Zr.UTF8(e,t+s,u);o[l]=c}return o}function C1(e){var t=Object.keys(e).length,n="",r=16+t*12,a=new I.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:t}]);for(var o in e){var i=n.length;n+=e[o],a.fields.push({name:"tag "+o,type:"TAG",value:o}),a.fields.push({name:"offset "+o,type:"ULONG",value:r+i}),a.fields.push({name:"length "+o,type:"ULONG",value:e[o].length})}return a.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),a}var kv={parse:b1,make:C1};function Df(e){return Math.log(e)/Math.log(2)|0}function Bu(e){for(;e.length%4!==0;)e.push(0);for(var t=0,n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return t%=Math.pow(2,32),t}function Pf(e,t,n,r){return new I.Record("Table Record",[{name:"tag",type:"TAG",value:e!==void 0?e:""},{name:"checkSum",type:"ULONG",value:t!==void 0?t:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:r!==void 0?r:0}])}function Sv(e){var t=new I.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var n=Math.pow(2,Df(t.numTables));t.searchRange=16*n,t.entrySelector=Df(n),t.rangeShift=t.numTables*16-t.searchRange;for(var r=[],a=[],o=t.sizeOf()+Pf().sizeOf()*t.numTables;o%4!==0;)o+=1,a.push({name:"padding",type:"BYTE",value:0});for(var i=0;i<e.length;i+=1){var l=e[i];K.argument(l.tableName.length===4,"Table name"+l.tableName+" is invalid.");var s=l.sizeOf(),u=Pf(l.tableName,Bu(l.encode()),o,s);for(r.push({name:u.tag+" Table Record",type:"RECORD",value:u}),a.push({name:l.tableName+" table",type:"RECORD",value:l}),o+=s,K.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!==0;)o+=1,a.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(c,p){return c.value.tag>p.value.tag?1:-1}),t.fields=t.fields.concat(r),t.fields=t.fields.concat(a),t}function zf(e,t,n){for(var r=0;r<t.length;r+=1){var a=e.charToGlyphIndex(t[r]);if(a>0){var o=e.glyphs.get(a);return o.getMetrics()}}return n}function F1(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length}function R1(e){for(var t=[],n=[],r=[],a=[],o=[],i=[],l=[],s,u=0,c=0,p=0,f=0,d=0,x=0;x<e.glyphs.length;x+=1){var y=e.glyphs.get(x),k=y.unicode|0;if(isNaN(y.advanceWidth))throw new Error("Glyph "+y.name+" ("+x+"): advanceWidth is not a number.");(s>k||s===void 0)&&k>0&&(s=k),u<k&&(u=k);var h=Pl.getUnicodeRange(k);if(h<32)c|=1<<h;else if(h<64)p|=1<<h-32;else if(h<96)f|=1<<h-64;else if(h<123)d|=1<<h-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(y.name!==".notdef"){var g=y.getMetrics();t.push(g.xMin),n.push(g.yMin),r.push(g.xMax),a.push(g.yMax),i.push(g.leftSideBearing),l.push(g.rightSideBearing),o.push(y.advanceWidth)}}var v={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,a),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:F1(o),minLeftSideBearing:Math.min.apply(null,i),maxLeftSideBearing:Math.max.apply(null,i),minRightSideBearing:Math.min.apply(null,l)};v.ascender=e.ascender,v.descender=e.descender;var S=lv.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:v.xMin,yMin:v.yMin,xMax:v.xMax,yMax:v.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),T=uv.make({ascender:v.ascender,descender:v.descender,advanceWidthMax:v.advanceWidthMax,minLeftSideBearing:v.minLeftSideBearing,minRightSideBearing:v.minRightSideBearing,xMaxExtent:v.maxLeftSideBearing+(v.xMax-v.xMin),numberOfHMetrics:e.glyphs.length}),N=pv.make(e.glyphs.length),E=Pl.make(Object.assign({xAvgCharWidth:Math.round(v.advanceWidthAvg),usFirstCharIndex:s,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:p,ulUnicodeRange3:f,ulUnicodeRange4:d,sTypoAscender:v.ascender,sTypoDescender:v.descender,sTypoLineGap:0,usWinAscent:v.yMax,usWinDescent:Math.abs(v.yMin),ulCodePageRange1:1,sxHeight:zf(e,"xyvw",{yMax:Math.round(v.ascender/2)}).yMax,sCapHeight:zf(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",v).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),b=cv.make(e.glyphs),B=Qh.make(e.glyphs),_=e.getEnglishName("fontFamily"),F=e.getEnglishName("fontSubfamily"),z=_+" "+F,j=e.getEnglishName("postScriptName");j||(j=_.replace(/\s/g,"")+"-"+F);var H={};for(var Y in e.names)H[Y]=e.names[Y];H.uniqueID||(H.uniqueID={en:e.getEnglishName("manufacturer")+":"+z}),H.postScriptName||(H.postScriptName={en:j}),H.preferredFamily||(H.preferredFamily=e.names.fontFamily),H.preferredSubfamily||(H.preferredSubfamily=e.names.fontSubfamily);var ee=[],W=mv.make(H,ee),U=ee.length>0?fv.make(ee):void 0,A=yv.make(),Z=sv.make(e.glyphs,{version:e.getEnglishName("version"),fullName:z,familyName:_,weightName:F,postScriptName:j,unitsPerEm:e.unitsPerEm,fontBBox:[0,v.yMin,v.ascender,v.advanceWidthMax]}),X=e.metas&&Object.keys(e.metas).length>0?kv.make(e.metas):void 0,te=[S,T,N,E,W,B,A,Z,b];U&&te.push(U),e.tables.gsub&&te.push(xv.make(e.tables.gsub)),X&&te.push(X);for(var Ee=Sv(te),ft=Ee.encode(),ze=Bu(ft),Je=Ee.fields,wt=!1,Gn=0;Gn<Je.length;Gn+=1)if(Je[Gn].name==="head table"){Je[Gn].value.checkSumAdjustment=2981146554-ze,wt=!0;break}if(!wt)throw new Error("Could not find head table with checkSum to adjust.");return Ee}var _1={make:Sv,fontToTable:R1,computeCheckSum:Bu};function bs(e,t){for(var n=0,r=e.length-1;n<=r;){var a=n+r>>>1,o=e[a].tag;if(o===t)return a;o<t?n=a+1:r=a-1}return-n-1}function If(e,t){for(var n=0,r=e.length-1;n<=r;){var a=n+r>>>1,o=e[a];if(o===t)return a;o<t?n=a+1:r=a-1}return-n-1}function Af(e,t){for(var n,r=0,a=e.length-1;r<=a;){var o=r+a>>>1;n=e[o];var i=n.start;if(i===t)return n;i<t?r=o+1:a=o-1}if(r>0)return n=e[r-1],t>n.end?0:n}function Xa(e,t){this.font=e,this.tableName=t}Xa.prototype={searchTag:bs,binSearch:If,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(t){return t.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,n=0;n<e.scripts.length;n++){var r=e.scripts[n].tag;if(r==="DFLT")return r;r==="latn"&&(t=!0)}if(t)return"latn"}},getScriptTable:function(e,t){var n=this.getTable(t);if(n){e=e||"DFLT";var r=n.scripts,a=bs(n.scripts,e);if(a>=0)return r[a].script;if(t){var o={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-a,0,o),o.script}}},getLangSysTable:function(e,t,n){var r=this.getScriptTable(e,n);if(r){if(!t||t==="dflt"||t==="DFLT")return r.defaultLangSys;var a=bs(r.langSysRecords,t);if(a>=0)return r.langSysRecords[a].langSys;if(n){var o={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-a,0,o),o.langSys}}},getFeatureTable:function(e,t,n,r){var a=this.getLangSysTable(e,t,r);if(a){for(var o,i=a.featureIndexes,l=this.font.tables[this.tableName].features,s=0;s<i.length;s++)if(o=l[i[s]],o.tag===n)return o.feature;if(r){var u=l.length;return K.assert(u===0||n>=l[u-1].tag,"Features must be added in alphabetical order."),o={tag:n,feature:{params:0,lookupListIndexes:[]}},l.push(o),i.push(u),o.feature}}},getLookupTables:function(e,t,n,r,a){var o=this.getFeatureTable(e,t,n,a),i=[];if(o){for(var l,s=o.lookupListIndexes,u=this.font.tables[this.tableName].lookups,c=0;c<s.length;c++)l=u[s[c]],l.lookupType===r&&i.push(l);if(i.length===0&&a){l={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var p=u.length;return u.push(l),s.push(p),[l]}}return i},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var n=Af(e.ranges,t);return n?n.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var n=If(e.glyphs,t);return n>=0?n:-1;case 2:var r=Af(e.ranges,t);return r?r.index+t-r.start:-1}},expandCoverage:function(e){if(e.format===1)return e.glyphs;for(var t=[],n=e.ranges,r=0;r<n.length;r++)for(var a=n[r],o=a.start,i=a.end,l=o;l<=i;l++)t.push(l);return t}};function Ya(e){Xa.call(this,e,"gpos")}Ya.prototype=Xa.prototype;Ya.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)};Ya.prototype.getKerningValue=function(e,t,n){for(var r=0;r<e.length;r++)for(var a=e[r].subtables,o=0;o<a.length;o++){var i=a[o],l=this.getCoverageIndex(i.coverage,t);if(!(l<0))switch(i.posFormat){case 1:for(var s=i.pairSets[l],u=0;u<s.length;u++){var c=s[u];if(c.secondGlyph===n)return c.value1&&c.value1.xAdvance||0}break;case 2:var p=this.getGlyphClass(i.classDef1,t),f=this.getGlyphClass(i.classDef2,n),d=i.classRecords[p][f];return d.value1&&d.value1.xAdvance||0}}return 0};Ya.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)};function kt(e){Xa.call(this,e,"gsub")}function L1(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ju(e,t,n){for(var r=e.subtables,a=0;a<r.length;a++){var o=r[a];if(o.substFormat===t)return o}if(n)return r.push(n),n}kt.prototype=Xa.prototype;kt.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};kt.prototype.getSingle=function(e,t,n){for(var r=[],a=this.getLookupTables(t,n,e,1),o=0;o<a.length;o++)for(var i=a[o].subtables,l=0;l<i.length;l++){var s=i[l],u=this.expandCoverage(s.coverage),c=void 0;if(s.substFormat===1){var p=s.deltaGlyphId;for(c=0;c<u.length;c++){var f=u[c];r.push({sub:f,by:f+p})}}else{var d=s.substitute;for(c=0;c<u.length;c++)r.push({sub:u[c],by:d[c]})}}return r};kt.prototype.getMultiple=function(e,t,n){for(var r=[],a=this.getLookupTables(t,n,e,2),o=0;o<a.length;o++)for(var i=a[o].subtables,l=0;l<i.length;l++){var s=i[l],u=this.expandCoverage(s.coverage),c=void 0;for(c=0;c<u.length;c++){var p=u[c],f=s.sequences[c];r.push({sub:p,by:f})}}return r};kt.prototype.getAlternates=function(e,t,n){for(var r=[],a=this.getLookupTables(t,n,e,3),o=0;o<a.length;o++)for(var i=a[o].subtables,l=0;l<i.length;l++)for(var s=i[l],u=this.expandCoverage(s.coverage),c=s.alternateSets,p=0;p<u.length;p++)r.push({sub:u[p],by:c[p]});return r};kt.prototype.getLigatures=function(e,t,n){for(var r=[],a=this.getLookupTables(t,n,e,4),o=0;o<a.length;o++)for(var i=a[o].subtables,l=0;l<i.length;l++)for(var s=i[l],u=this.expandCoverage(s.coverage),c=s.ligatureSets,p=0;p<u.length;p++)for(var f=u[p],d=c[p],x=0;x<d.length;x++){var y=d[x];r.push({sub:[f].concat(y.components),by:y.ligGlyph})}return r};kt.prototype.addSingle=function(e,t,n,r){var a=this.getLookupTables(n,r,e,1,!0)[0],o=ju(a,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});K.assert(o.coverage.format===1,"Single: unable to modify coverage table format "+o.coverage.format);var i=t.sub,l=this.binSearch(o.coverage.glyphs,i);l<0&&(l=-1-l,o.coverage.glyphs.splice(l,0,i),o.substitute.splice(l,0,0)),o.substitute[l]=t.by};kt.prototype.addMultiple=function(e,t,n,r){K.assert(t.by instanceof Array&&t.by.length>1,'Multiple: "by" must be an array of two or more ids');var a=this.getLookupTables(n,r,e,2,!0)[0],o=ju(a,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});K.assert(o.coverage.format===1,"Multiple: unable to modify coverage table format "+o.coverage.format);var i=t.sub,l=this.binSearch(o.coverage.glyphs,i);l<0&&(l=-1-l,o.coverage.glyphs.splice(l,0,i),o.sequences.splice(l,0,0)),o.sequences[l]=t.by};kt.prototype.addAlternate=function(e,t,n,r){var a=this.getLookupTables(n,r,e,3,!0)[0],o=ju(a,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});K.assert(o.coverage.format===1,"Alternate: unable to modify coverage table format "+o.coverage.format);var i=t.sub,l=this.binSearch(o.coverage.glyphs,i);l<0&&(l=-1-l,o.coverage.glyphs.splice(l,0,i),o.alternateSets.splice(l,0,0)),o.alternateSets[l]=t.by};kt.prototype.addLigature=function(e,t,n,r){var a=this.getLookupTables(n,r,e,4,!0)[0],o=a.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},a.subtables[0]=o),K.assert(o.coverage.format===1,"Ligature: unable to modify coverage table format "+o.coverage.format);var i=t.sub[0],l=t.sub.slice(1),s={ligGlyph:t.by,components:l},u=this.binSearch(o.coverage.glyphs,i);if(u>=0){for(var c=o.ligatureSets[u],p=0;p<c.length;p++)if(L1(c[p].components,l))return;c.push(s)}else u=-1-u,o.coverage.glyphs.splice(u,0,i),o.ligatureSets.splice(u,0,[s])};kt.prototype.getFeature=function(e,t,n){if(/ss\d\d/.test(e))return this.getSingle(e,t,n);switch(e){case"aalt":case"salt":return this.getSingle(e,t,n).concat(this.getAlternates(e,t,n));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,n);case"ccmp":return this.getMultiple(e,t,n).concat(this.getLigatures(e,t,n));case"stch":return this.getMultiple(e,t,n)}};kt.prototype.add=function(e,t,n,r){if(/ss\d\d/.test(e))return this.addSingle(e,t,n,r);switch(e){case"aalt":case"salt":return typeof t.by=="number"?this.addSingle(e,t,n,r):this.addAlternate(e,t,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,n,r);case"ccmp":return t.by instanceof Array?this.addMultiple(e,t,n,r):this.addLigature(e,t,n,r)}};function N1(){return typeof window<"u"}function wv(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;++r)n[r]=e[r];return t}function O1(e){for(var t=new Buffer(e.byteLength),n=new Uint8Array(e),r=0;r<t.length;++r)t[r]=n[r];return t}function ia(e,t){if(!e)throw t}function Mf(e,t,n,r,a){var o;return(t&r)>0?(o=e.parseByte(),t&a||(o=-o),o=n+o):(t&a)>0?o=n:o=n+e.parseShort(),o}function Tv(e,t,n){var r=new $.Parser(t,n);e.numberOfContours=r.parseShort(),e._xMin=r.parseShort(),e._yMin=r.parseShort(),e._xMax=r.parseShort(),e._yMax=r.parseShort();var a,o;if(e.numberOfContours>0){for(var i=e.endPointIndices=[],l=0;l<e.numberOfContours;l+=1)i.push(r.parseUShort());e.instructionLength=r.parseUShort(),e.instructions=[];for(var s=0;s<e.instructionLength;s+=1)e.instructions.push(r.parseByte());var u=i[i.length-1]+1;a=[];for(var c=0;c<u;c+=1)if(o=r.parseByte(),a.push(o),(o&8)>0)for(var p=r.parseByte(),f=0;f<p;f+=1)a.push(o),c+=1;if(K.argument(a.length===u,"Bad flags."),i.length>0){var d=[],x;if(u>0){for(var y=0;y<u;y+=1)o=a[y],x={},x.onCurve=!!(o&1),x.lastPointOfContour=i.indexOf(y)>=0,d.push(x);for(var k=0,h=0;h<u;h+=1)o=a[h],x=d[h],x.x=Mf(r,o,k,2,16),k=x.x;for(var g=0,v=0;v<u;v+=1)o=a[v],x=d[v],x.y=Mf(r,o,g,4,32),g=x.y}e.points=d}else e.points=[]}else if(e.numberOfContours===0)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var S=!0;S;){a=r.parseUShort();var T={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(a&1)>0?(a&2)>0?(T.dx=r.parseShort(),T.dy=r.parseShort()):T.matchedPoints=[r.parseUShort(),r.parseUShort()]:(a&2)>0?(T.dx=r.parseChar(),T.dy=r.parseChar()):T.matchedPoints=[r.parseByte(),r.parseByte()],(a&8)>0?T.xScale=T.yScale=r.parseF2Dot14():(a&64)>0?(T.xScale=r.parseF2Dot14(),T.yScale=r.parseF2Dot14()):(a&128)>0&&(T.xScale=r.parseF2Dot14(),T.scale01=r.parseF2Dot14(),T.scale10=r.parseF2Dot14(),T.yScale=r.parseF2Dot14()),e.components.push(T),S=!!(a&32)}if(a&256){e.instructionLength=r.parseUShort(),e.instructions=[];for(var N=0;N<e.instructionLength;N+=1)e.instructions.push(r.parseByte())}}}function Cs(e,t){for(var n=[],r=0;r<e.length;r+=1){var a=e[r],o={x:t.xScale*a.x+t.scale01*a.y+t.dx,y:t.scale10*a.x+t.yScale*a.y+t.dy,onCurve:a.onCurve,lastPointOfContour:a.lastPointOfContour};n.push(o)}return n}function U1(e){for(var t=[],n=[],r=0;r<e.length;r+=1){var a=e[r];n.push(a),a.lastPointOfContour&&(t.push(n),n=[])}return K.argument(n.length===0,"There are still points left in the current contour."),t}function Ev(e){var t=new De;if(!e)return t;for(var n=U1(e),r=0;r<n.length;++r){var a=n[r],o=null,i=a[a.length-1],l=a[0];if(i.onCurve)t.moveTo(i.x,i.y);else if(l.onCurve)t.moveTo(l.x,l.y);else{var s={x:(i.x+l.x)*.5,y:(i.y+l.y)*.5};t.moveTo(s.x,s.y)}for(var u=0;u<a.length;++u)if(o=i,i=l,l=a[(u+1)%a.length],i.onCurve)t.lineTo(i.x,i.y);else{var c=l;o.onCurve||((i.x+o.x)*.5,(i.y+o.y)*.5),l.onCurve||(c={x:(i.x+l.x)*.5,y:(i.y+l.y)*.5}),t.quadraticCurveTo(i.x,i.y,c.x,c.y)}t.closePath()}return t}function bv(e,t){if(t.isComposite)for(var n=0;n<t.components.length;n+=1){var r=t.components[n],a=e.get(r.glyphIndex);if(a.getPath(),a.points){var o=void 0;if(r.matchedPoints===void 0)o=Cs(a.points,r);else{if(r.matchedPoints[0]>t.points.length-1||r.matchedPoints[1]>a.points.length-1)throw Error("Matched points out of range in "+t.name);var i=t.points[r.matchedPoints[0]],l=a.points[r.matchedPoints[1]],s={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};l=Cs([l],s)[0],s.dx=i.x-l.x,s.dy=i.y-l.y,o=Cs(a.points,s)}t.points=t.points.concat(o)}}return Ev(t.points)}function D1(e,t,n,r){for(var a=new qt.GlyphSet(r),o=0;o<n.length-1;o+=1){var i=n[o],l=n[o+1];i!==l?a.push(o,qt.ttfGlyphLoader(r,o,Tv,e,t+i,bv)):a.push(o,qt.glyphLoader(r,o))}return a}function P1(e,t,n,r){var a=new qt.GlyphSet(r);return r._push=function(o){var i=n[o],l=n[o+1];i!==l?a.push(o,qt.ttfGlyphLoader(r,o,Tv,e,t+i,bv)):a.push(o,qt.glyphLoader(r,o))},a}function z1(e,t,n,r,a){return a.lowMemory?P1(e,t,n,r):D1(e,t,n,r)}var Cv={getPath:Ev,parse:z1},Fv,ir,Rv,zl;function _v(e){this.font=e,this.getCommands=function(t){return Cv.getPath(t).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function I1(e){return e}function Lv(e){return Math.sign(e)*Math.round(Math.abs(e))}function A1(e){return Math.sign(e)*Math.round(Math.abs(e*2))/2}function M1(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function B1(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function j1(e){return Math.sign(e)*Math.floor(Math.abs(e))}var Nv=function(e){var t=this.srPeriod,n=this.srPhase,r=this.srThreshold,a=1;return e<0&&(e=-e,a=-1),e+=r-n,e=Math.trunc(e/t)*t,e+=n,e<0?n*a:e*a},Yt={x:1,y:0,axis:"x",distance:function(e,t,n,r){return(n?e.xo:e.x)-(r?t.xo:t.x)},interpolate:function(e,t,n,r){var a,o,i,l,s,u,c;if(!r||r===this){if(a=e.xo-t.xo,o=e.xo-n.xo,s=t.x-t.xo,u=n.x-n.xo,i=Math.abs(a),l=Math.abs(o),c=i+l,c===0){e.x=e.xo+(s+u)/2;return}e.x=e.xo+(s*l+u*i)/c;return}if(a=r.distance(e,t,!0,!0),o=r.distance(e,n,!0,!0),s=r.distance(t,t,!1,!0),u=r.distance(n,n,!1,!0),i=Math.abs(a),l=Math.abs(o),c=i+l,c===0){Yt.setRelative(e,e,(s+u)/2,r,!0);return}Yt.setRelative(e,e,(s*l+u*i)/c,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,n,r,a){if(!r||r===this){e.x=(a?t.xo:t.x)+n;return}var o=a?t.xo:t.x,i=a?t.yo:t.y,l=o+n*r.x,s=i+n*r.y;e.x=l+(e.y-s)/r.normalSlope},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},rn={x:0,y:1,axis:"y",distance:function(e,t,n,r){return(n?e.yo:e.y)-(r?t.yo:t.y)},interpolate:function(e,t,n,r){var a,o,i,l,s,u,c;if(!r||r===this){if(a=e.yo-t.yo,o=e.yo-n.yo,s=t.y-t.yo,u=n.y-n.yo,i=Math.abs(a),l=Math.abs(o),c=i+l,c===0){e.y=e.yo+(s+u)/2;return}e.y=e.yo+(s*l+u*i)/c;return}if(a=r.distance(e,t,!0,!0),o=r.distance(e,n,!0,!0),s=r.distance(t,t,!1,!0),u=r.distance(n,n,!1,!0),i=Math.abs(a),l=Math.abs(o),c=i+l,c===0){rn.setRelative(e,e,(s+u)/2,r,!0);return}rn.setRelative(e,e,(s*l+u*i)/c,r,!0)},normalSlope:0,setRelative:function(e,t,n,r,a){if(!r||r===this){e.y=(a?t.yo:t.y)+n;return}var o=a?t.xo:t.x,i=a?t.yo:t.y,l=o+n*r.x,s=i+n*r.y;e.y=s+r.normalSlope*(e.x-l)},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};Object.freeze(Yt);Object.freeze(rn);function Qa(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}Qa.prototype.distance=function(e,t,n,r){return this.x*Yt.distance(e,t,n,r)+this.y*rn.distance(e,t,n,r)};Qa.prototype.interpolate=function(e,t,n,r){var a,o,i,l,s,u,c;if(i=r.distance(e,t,!0,!0),l=r.distance(e,n,!0,!0),a=r.distance(t,t,!1,!0),o=r.distance(n,n,!1,!0),s=Math.abs(i),u=Math.abs(l),c=s+u,c===0){this.setRelative(e,e,(a+o)/2,r,!0);return}this.setRelative(e,e,(a*u+o*s)/c,r,!0)};Qa.prototype.setRelative=function(e,t,n,r,a){r=r||this;var o=a?t.xo:t.x,i=a?t.yo:t.y,l=o+n*r.x,s=i+n*r.y,u=r.normalSlope,c=this.slope,p=e.x,f=e.y;e.x=(c*p-u*l+s-f)/(c-u),e.y=c*(e.x-p)+f};Qa.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0};function Ka(e,t){var n=Math.sqrt(e*e+t*t);return e/=n,t/=n,e===1&&t===0?Yt:e===0&&t===1?rn:new Qa(e,t)}function on(e,t,n,r){this.x=this.xo=Math.round(e*64)/64,this.y=this.yo=Math.round(t*64)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}on.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t};on.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var ja=Object.freeze(new on(0,0)),G1={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Tn(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Yt,this.round=Lv}}_v.prototype.exec=function(e,t){if(typeof t!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==t){var a=this._fpgmState;if(!a){Tn.prototype=G1,a=this._fpgmState=new Tn("fpgm",n.tables.fpgm),a.funcs=[],a.font=n,R.DEBUG&&(console.log("---EXEC FPGM---"),a.step=-1);try{ir(a)}catch(u){console.log("Hinting error in FPGM:"+u),this._errorState=3;return}}Tn.prototype=a,r=this._prepState=new Tn("prep",n.tables.prep),r.ppem=t;var o=n.tables.cvt;if(o)for(var i=r.cvt=new Array(o.length),l=t/n.unitsPerEm,s=0;s<o.length;s++)i[s]=o[s]*l;else r.cvt=[];R.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{ir(r)}catch(u){this._errorState<2&&console.log("Hinting error in PREP:"+u),this._errorState=2}}if(!(this._errorState>1))try{return Rv(e,r)}catch(u){this._errorState<1&&(console.log("Hinting error:"+u),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};Rv=function(e,t){var n=t.ppem/t.font.unitsPerEm,r=n,a=e.components,o,i,l;if(Tn.prototype=t,!a)l=new Tn("glyf",e.instructions),R.DEBUG&&(console.log("---EXEC GLYPH---"),l.step=-1),zl(e,l,n,r),i=l.gZone;else{var s=t.font;i=[],o=[];for(var u=0;u<a.length;u++){var c=a[u],p=s.glyphs.get(c.glyphIndex);l=new Tn("glyf",p.instructions),R.DEBUG&&(console.log("---EXEC COMP "+u+"---"),l.step=-1),zl(p,l,n,r);for(var f=Math.round(c.dx*n),d=Math.round(c.dy*r),x=l.gZone,y=l.contours,k=0;k<x.length;k++){var h=x[k];h.xTouched=h.yTouched=!1,h.xo=h.x=h.x+f,h.yo=h.y=h.y+d}var g=i.length;i.push.apply(i,x);for(var v=0;v<y.length;v++)o.push(y[v]+g)}e.instructions&&!l.inhibitGridFit&&(l=new Tn("glyf",e.instructions),l.gZone=l.z0=l.z1=l.z2=i,l.contours=o,i.push(new on(0,0),new on(Math.round(e.advanceWidth*n),0)),R.DEBUG&&(console.log("---EXEC COMPOSITE---"),l.step=-1),ir(l),i.length-=2)}return i};zl=function(e,t,n,r){for(var a=e.points||[],o=a.length,i=t.gZone=t.z0=t.z1=t.z2=[],l=t.contours=[],s,u=0;u<o;u++)s=a[u],i[u]=new on(s.x*n,s.y*r,s.lastPointOfContour,s.onCurve);for(var c,p,f=0;f<o;f++)s=i[f],c||(c=s,l.push(f)),s.lastPointOfContour?(s.nextPointOnContour=c,c.prevPointOnContour=s,c=void 0):(p=i[f+1],s.nextPointOnContour=p,p.prevPointOnContour=s);if(!t.inhibitGridFit){if(R.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var d=0;d<o;d++)console.log(d,i[d].x,i[d].y)}if(i.push(new on(0,0),new on(Math.round(e.advanceWidth*n),0)),ir(t),i.length-=2,R.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var x=0;x<o;x++)console.log(x,i[x].x,i[x].y)}}};ir=function(e){var t=e.prog;if(t){var n=t.length,r;for(e.ip=0;e.ip<n;e.ip++){if(R.DEBUG&&e.step++,r=Fv[t[e.ip]],!r)throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));r(e)}}};function Gi(e){for(var t=e.tZone=new Array(e.gZone.length),n=0;n<t.length;n++)t[n]=new on(0,0)}function Ov(e,t){var n=e.prog,r=e.ip,a=1,o;do if(o=n[++r],o===88)a++;else if(o===89)a--;else if(o===64)r+=n[r+1]+1;else if(o===65)r+=2*n[r+1]+1;else if(o>=176&&o<=183)r+=o-176+1;else if(o>=184&&o<=191)r+=(o-184+1)*2;else if(t&&a===1&&o===27)break;while(a>0);e.ip=r}function Bf(e,t){R.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function jf(e,t){R.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function Gf(e,t){R.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function $f(e,t){var n=t.stack,r=n.pop(),a=n.pop(),o=t.z2[r],i=t.z1[a];R.DEBUG&&console.log("SPVTL["+e+"]",r,a);var l,s;e?(l=o.y-i.y,s=i.x-o.x):(l=i.x-o.x,s=i.y-o.y),t.pv=t.dpv=Ka(l,s)}function Hf(e,t){var n=t.stack,r=n.pop(),a=n.pop(),o=t.z2[r],i=t.z1[a];R.DEBUG&&console.log("SFVTL["+e+"]",r,a);var l,s;e?(l=o.y-i.y,s=i.x-o.x):(l=i.x-o.x,s=i.y-o.y),t.fv=Ka(l,s)}function $1(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"SPVFS[]",n,r),e.pv=e.dpv=Ka(r,n)}function H1(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"SPVFS[]",n,r),e.fv=Ka(r,n)}function Z1(e){var t=e.stack,n=e.pv;R.DEBUG&&console.log(e.step,"GPV[]"),t.push(n.x*16384),t.push(n.y*16384)}function W1(e){var t=e.stack,n=e.fv;R.DEBUG&&console.log(e.step,"GFV[]"),t.push(n.x*16384),t.push(n.y*16384)}function V1(e){e.fv=e.pv,R.DEBUG&&console.log(e.step,"SFVTPV[]")}function X1(e){var t=e.stack,n=t.pop(),r=t.pop(),a=t.pop(),o=t.pop(),i=t.pop(),l=e.z0,s=e.z1,u=l[n],c=l[r],p=s[a],f=s[o],d=e.z2[i];R.DEBUG&&console.log("ISECT[], ",n,r,a,o,i);var x=u.x,y=u.y,k=c.x,h=c.y,g=p.x,v=p.y,S=f.x,T=f.y,N=(x-k)*(v-T)-(y-h)*(g-S),E=x*h-y*k,b=g*T-v*S;d.x=(E*(g-S)-b*(x-k))/N,d.y=(E*(v-T)-b*(y-h))/N}function Y1(e){e.rp0=e.stack.pop(),R.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)}function Q1(e){e.rp1=e.stack.pop(),R.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)}function K1(e){e.rp2=e.stack.pop(),R.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)}function q1(e){var t=e.stack.pop();switch(R.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t,t){case 0:e.tZone||Gi(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function J1(e){var t=e.stack.pop();switch(R.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t,t){case 0:e.tZone||Gi(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function ex(e){var t=e.stack.pop();switch(R.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t,t){case 0:e.tZone||Gi(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function tx(e){var t=e.stack.pop();switch(R.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||Gi(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function nx(e){e.loop=e.stack.pop(),R.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)}function rx(e){R.DEBUG&&console.log(e.step,"RTG[]"),e.round=Lv}function ax(e){R.DEBUG&&console.log(e.step,"RTHG[]"),e.round=M1}function ox(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64}function ix(e){R.DEBUG&&console.log(e.step,"ELSE[]"),Ov(e,!1)}function sx(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1}function lx(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64}function ux(e){var t=e.stack;R.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])}function Fs(e){R.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function cx(e){R.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0}function fx(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"SWAP[]"),t.push(n),t.push(r)}function px(e){var t=e.stack;R.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)}function dx(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"LOOPCALL[]",n,r);var a=e.ip,o=e.prog;e.prog=e.funcs[n];for(var i=0;i<r;i++)ir(e),R.DEBUG&&console.log(++e.step,i+1<r?"next loopcall":"done loopcall",i);e.ip=a,e.prog=o}function hx(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"CALL[]",t);var n=e.ip,r=e.prog;e.prog=e.funcs[t],ir(e),e.ip=n,e.prog=r,R.DEBUG&&console.log(++e.step,"returning from",t)}function vx(e){var t=e.stack,n=t.pop();R.DEBUG&&console.log(e.step,"CINDEX[]",n),t.push(t[t.length-n])}function gx(e){var t=e.stack,n=t.pop();R.DEBUG&&console.log(e.step,"MINDEX[]",n),t.push(t.splice(t.length-n,1)[0])}function mx(e){if(e.env!=="fpgm")throw new Error("FDEF not allowed here");var t=e.stack,n=e.prog,r=e.ip,a=t.pop(),o=r;for(R.DEBUG&&console.log(e.step,"FDEF[]",a);n[++r]!==45;);e.ip=r,e.funcs[a]=n.slice(o+1,r)}function Zf(e,t){var n=t.stack.pop(),r=t.z0[n],a=t.fv,o=t.pv;R.DEBUG&&console.log(t.step,"MDAP["+e+"]",n);var i=o.distance(r,ja);e&&(i=t.round(i)),a.setRelative(r,ja,i,o),a.touch(r),t.rp0=t.rp1=n}function Wf(e,t){var n=t.z2,r=n.length-2,a,o,i;R.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var l=0;l<r;l++)a=n[l],!e.touched(a)&&(o=a.prevTouched(e),o!==a&&(i=a.nextTouched(e),o===i&&e.setRelative(a,a,e.distance(o,o,!1,!0),e,!0),e.interpolate(a,o,i,e)))}function Vf(e,t){for(var n=t.stack,r=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[r],o=t.fv,i=t.pv,l=t.loop,s=t.z2;l--;){var u=n.pop(),c=s[u],p=i.distance(a,a,!1,!0);o.setRelative(c,c,p,i),o.touch(c),R.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-l)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",u)}t.loop=1}function Xf(e,t){var n=t.stack,r=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[r],o=t.fv,i=t.pv,l=n.pop(),s=t.z2[t.contours[l]],u=s;R.DEBUG&&console.log(t.step,"SHC["+e+"]",l);var c=i.distance(a,a,!1,!0);do u!==a&&o.setRelative(u,u,c,i),u=u.nextPointOnContour;while(u!==s)}function Yf(e,t){var n=t.stack,r=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[r],o=t.fv,i=t.pv,l=n.pop();R.DEBUG&&console.log(t.step,"SHZ["+e+"]",l);var s;switch(l){case 0:s=t.tZone;break;case 1:s=t.gZone;break;default:throw new Error("Invalid zone")}for(var u,c=i.distance(a,a,!1,!0),p=s.length-2,f=0;f<p;f++)u=s[f],o.setRelative(u,u,c,i)}function yx(e){for(var t=e.stack,n=e.loop,r=e.fv,a=t.pop()/64,o=e.z2;n--;){var i=t.pop(),l=o[i];R.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-n)+": ":"")+"SHPIX[]",i,a),r.setRelative(l,l,a),r.touch(l)}e.loop=1}function xx(e){for(var t=e.stack,n=e.rp1,r=e.rp2,a=e.loop,o=e.z0[n],i=e.z1[r],l=e.fv,s=e.dpv,u=e.z2;a--;){var c=t.pop(),p=u[c];R.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"IP[]",c,n,"<->",r),l.interpolate(p,o,i,s),l.touch(p)}e.loop=1}function Qf(e,t){var n=t.stack,r=n.pop()/64,a=n.pop(),o=t.z1[a],i=t.z0[t.rp0],l=t.fv,s=t.pv;l.setRelative(o,i,r,s),l.touch(o),R.DEBUG&&console.log(t.step,"MSIRP["+e+"]",r,a),t.rp1=t.rp0,t.rp2=a,e&&(t.rp0=a)}function kx(e){for(var t=e.stack,n=e.rp0,r=e.z0[n],a=e.loop,o=e.fv,i=e.pv,l=e.z1;a--;){var s=t.pop(),u=l[s];R.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"ALIGNRP[]",s),o.setRelative(u,r,0,i),o.touch(u)}e.loop=1}function Sx(e){R.DEBUG&&console.log(e.step,"RTDG[]"),e.round=A1}function Kf(e,t){var n=t.stack,r=n.pop(),a=n.pop(),o=t.z0[a],i=t.fv,l=t.pv,s=t.cvt[r];R.DEBUG&&console.log(t.step,"MIAP["+e+"]",r,"(",s,")",a);var u=l.distance(o,ja);e&&(Math.abs(u-s)<t.cvCutIn&&(u=s),u=t.round(u)),i.setRelative(o,ja,u,l),t.zp0===0&&(o.xo=o.x,o.yo=o.y),i.touch(o),t.rp0=t.rp1=a}function wx(e){var t=e.prog,n=e.ip,r=e.stack,a=t[++n];R.DEBUG&&console.log(e.step,"NPUSHB[]",a);for(var o=0;o<a;o++)r.push(t[++n]);e.ip=n}function Tx(e){var t=e.ip,n=e.prog,r=e.stack,a=n[++t];R.DEBUG&&console.log(e.step,"NPUSHW[]",a);for(var o=0;o<a;o++){var i=n[++t]<<8|n[++t];i&32768&&(i=-((i^65535)+1)),r.push(i)}e.ip=t}function Ex(e){var t=e.stack,n=e.store;n||(n=e.store=[]);var r=t.pop(),a=t.pop();R.DEBUG&&console.log(e.step,"WS",r,a),n[a]=r}function bx(e){var t=e.stack,n=e.store,r=t.pop();R.DEBUG&&console.log(e.step,"RS",r);var a=n&&n[r]||0;t.push(a)}function Cx(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"WCVTP",n,r),e.cvt[r]=n/64}function Fx(e){var t=e.stack,n=t.pop();R.DEBUG&&console.log(e.step,"RCVT",n),t.push(e.cvt[n]*64)}function qf(e,t){var n=t.stack,r=n.pop(),a=t.z2[r];R.DEBUG&&console.log(t.step,"GC["+e+"]",r),n.push(t.dpv.distance(a,ja,e,!1)*64)}function Jf(e,t){var n=t.stack,r=n.pop(),a=n.pop(),o=t.z1[r],i=t.z0[a],l=t.dpv.distance(i,o,e,e);R.DEBUG&&console.log(t.step,"MD["+e+"]",r,a,"->",l),t.stack.push(Math.round(l*64))}function Rx(e){R.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)}function _x(e){R.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0}function Lx(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"LT[]",n,r),t.push(r<n?1:0)}function Nx(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"LTEQ[]",n,r),t.push(r<=n?1:0)}function Ox(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"GT[]",n,r),t.push(r>n?1:0)}function Ux(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"GTEQ[]",n,r),t.push(r>=n?1:0)}function Dx(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"EQ[]",n,r),t.push(n===r?1:0)}function Px(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"NEQ[]",n,r),t.push(n!==r?1:0)}function zx(e){var t=e.stack,n=t.pop();R.DEBUG&&console.log(e.step,"ODD[]",n),t.push(Math.trunc(n)%2?1:0)}function Ix(e){var t=e.stack,n=t.pop();R.DEBUG&&console.log(e.step,"EVEN[]",n),t.push(Math.trunc(n)%2?0:1)}function Ax(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"IF[]",t),t||(Ov(e,!0),R.DEBUG&&console.log(e.step,"EIF[]"))}function Mx(e){R.DEBUG&&console.log(e.step,"EIF[]")}function Bx(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"AND[]",n,r),t.push(n&&r?1:0)}function jx(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"OR[]",n,r),t.push(n||r?1:0)}function Gx(e){var t=e.stack,n=t.pop();R.DEBUG&&console.log(e.step,"NOT[]",n),t.push(n?0:1)}function Rs(e,t){var n=t.stack,r=n.pop(),a=t.fv,o=t.pv,i=t.ppem,l=t.deltaBase+(e-1)*16,s=t.deltaShift,u=t.z0;R.DEBUG&&console.log(t.step,"DELTAP["+e+"]",r,n);for(var c=0;c<r;c++){var p=n.pop(),f=n.pop(),d=l+((f&240)>>4);if(d===i){var x=(f&15)-8;x>=0&&x++,R.DEBUG&&console.log(t.step,"DELTAPFIX",p,"by",x*s);var y=u[p];a.setRelative(y,y,x*s,o)}}}function $x(e){var t=e.stack,n=t.pop();R.DEBUG&&console.log(e.step,"SDB[]",n),e.deltaBase=n}function Hx(e){var t=e.stack,n=t.pop();R.DEBUG&&console.log(e.step,"SDS[]",n),e.deltaShift=Math.pow(.5,n)}function Zx(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"ADD[]",n,r),t.push(r+n)}function Wx(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"SUB[]",n,r),t.push(r-n)}function Vx(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"DIV[]",n,r),t.push(r*64/n)}function Xx(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"MUL[]",n,r),t.push(r*n/64)}function Yx(e){var t=e.stack,n=t.pop();R.DEBUG&&console.log(e.step,"ABS[]",n),t.push(Math.abs(n))}function Qx(e){var t=e.stack,n=t.pop();R.DEBUG&&console.log(e.step,"NEG[]",n),t.push(-n)}function Kx(e){var t=e.stack,n=t.pop();R.DEBUG&&console.log(e.step,"FLOOR[]",n),t.push(Math.floor(n/64)*64)}function qx(e){var t=e.stack,n=t.pop();R.DEBUG&&console.log(e.step,"CEILING[]",n),t.push(Math.ceil(n/64)*64)}function Fo(e,t){var n=t.stack,r=n.pop();R.DEBUG&&console.log(t.step,"ROUND[]"),n.push(t.round(r/64)*64)}function Jx(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"WCVTF[]",n,r),e.cvt[r]=n*e.ppem/e.font.unitsPerEm}function _s(e,t){var n=t.stack,r=n.pop(),a=t.ppem,o=t.deltaBase+(e-1)*16,i=t.deltaShift;R.DEBUG&&console.log(t.step,"DELTAC["+e+"]",r,n);for(var l=0;l<r;l++){var s=n.pop(),u=n.pop(),c=o+((u&240)>>4);if(c===a){var p=(u&15)-8;p>=0&&p++;var f=p*i;R.DEBUG&&console.log(t.step,"DELTACFIX",s,"by",f),t.cvt[s]+=f}}}function ek(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"SROUND[]",t),e.round=Nv;var n;switch(t&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=n,t&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*n;break;case 32:e.srPhase=.5*n;break;case 48:e.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}t&=15,t===0?e.srThreshold=0:e.srThreshold=(t/8-.5)*n}function tk(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"S45ROUND[]",t),e.round=Nv;var n;switch(t&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=n,t&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*n;break;case 32:e.srPhase=.5*n;break;case 48:e.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}t&=15,t===0?e.srThreshold=0:e.srThreshold=(t/8-.5)*n}function nk(e){R.DEBUG&&console.log(e.step,"ROFF[]"),e.round=I1}function rk(e){R.DEBUG&&console.log(e.step,"RUTG[]"),e.round=B1}function ak(e){R.DEBUG&&console.log(e.step,"RDTG[]"),e.round=j1}function ok(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"SCANCTRL[]",t)}function ep(e,t){var n=t.stack,r=n.pop(),a=n.pop(),o=t.z2[r],i=t.z1[a];R.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",r,a);var l,s;e?(l=o.y-i.y,s=i.x-o.x):(l=i.x-o.x,s=i.y-o.y),t.dpv=Ka(l,s)}function ik(e){var t=e.stack,n=t.pop(),r=0;R.DEBUG&&console.log(e.step,"GETINFO[]",n),n&1&&(r=35),n&32&&(r|=4096),t.push(r)}function sk(e){var t=e.stack,n=t.pop(),r=t.pop(),a=t.pop();R.DEBUG&&console.log(e.step,"ROLL[]"),t.push(r),t.push(n),t.push(a)}function lk(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"MAX[]",n,r),t.push(Math.max(r,n))}function uk(e){var t=e.stack,n=t.pop(),r=t.pop();R.DEBUG&&console.log(e.step,"MIN[]",n,r),t.push(Math.min(r,n))}function ck(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"SCANTYPE[]",t)}function fk(e){var t=e.stack.pop(),n=e.stack.pop();switch(R.DEBUG&&console.log(e.step,"INSTCTRL[]",t,n),t){case 1:e.inhibitGridFit=!!n;return;case 2:e.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function hn(e,t){var n=t.stack,r=t.prog,a=t.ip;R.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var o=0;o<e;o++)n.push(r[++a]);t.ip=a}function vn(e,t){var n=t.ip,r=t.prog,a=t.stack;R.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var o=0;o<e;o++){var i=r[++n]<<8|r[++n];i&32768&&(i=-((i^65535)+1)),a.push(i)}t.ip=n}function G(e,t,n,r,a,o){var i=o.stack,l=e&&i.pop(),s=i.pop(),u=o.rp0,c=o.z0[u],p=o.z1[s],f=o.minDis,d=o.fv,x=o.dpv,y,k,h,g;k=y=x.distance(p,c,!0,!0),h=k>=0?1:-1,k=Math.abs(k),e&&(g=o.cvt[l],r&&Math.abs(k-g)<o.cvCutIn&&(k=g)),n&&k<f&&(k=f),r&&(k=o.round(k)),d.setRelative(p,c,h*k,x),d.touch(p),R.DEBUG&&console.log(o.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(n?">":"_")+(r?"R":"_")+(a===0?"Gr":a===1?"Bl":a===2?"Wh":"")+"]",e?l+"("+o.cvt[l]+","+g+")":"",s,"(d =",y,"->",h*k,")"),o.rp1=o.rp0,o.rp2=s,t&&(o.rp0=s)}Fv=[Bf.bind(void 0,rn),Bf.bind(void 0,Yt),jf.bind(void 0,rn),jf.bind(void 0,Yt),Gf.bind(void 0,rn),Gf.bind(void 0,Yt),$f.bind(void 0,0),$f.bind(void 0,1),Hf.bind(void 0,0),Hf.bind(void 0,1),$1,H1,Z1,W1,V1,X1,Y1,Q1,K1,q1,J1,ex,tx,nx,rx,ax,ox,ix,sx,lx,void 0,void 0,ux,Fs,cx,fx,px,vx,gx,void 0,void 0,void 0,dx,hx,mx,void 0,Zf.bind(void 0,0),Zf.bind(void 0,1),Wf.bind(void 0,rn),Wf.bind(void 0,Yt),Vf.bind(void 0,0),Vf.bind(void 0,1),Xf.bind(void 0,0),Xf.bind(void 0,1),Yf.bind(void 0,0),Yf.bind(void 0,1),yx,xx,Qf.bind(void 0,0),Qf.bind(void 0,1),kx,Sx,Kf.bind(void 0,0),Kf.bind(void 0,1),wx,Tx,Ex,bx,Cx,Fx,qf.bind(void 0,0),qf.bind(void 0,1),void 0,Jf.bind(void 0,0),Jf.bind(void 0,1),Rx,void 0,_x,void 0,void 0,Lx,Nx,Ox,Ux,Dx,Px,zx,Ix,Ax,Mx,Bx,jx,Gx,Rs.bind(void 0,1),$x,Hx,Zx,Wx,Vx,Xx,Yx,Qx,Kx,qx,Fo.bind(void 0,0),Fo.bind(void 0,1),Fo.bind(void 0,2),Fo.bind(void 0,3),void 0,void 0,void 0,void 0,Jx,Rs.bind(void 0,2),Rs.bind(void 0,3),_s.bind(void 0,1),_s.bind(void 0,2),_s.bind(void 0,3),ek,tk,void 0,void 0,nk,void 0,rk,ak,Fs,Fs,void 0,void 0,void 0,void 0,void 0,ok,ep.bind(void 0,0),ep.bind(void 0,1),ik,void 0,sk,lk,uk,ck,fk,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,hn.bind(void 0,1),hn.bind(void 0,2),hn.bind(void 0,3),hn.bind(void 0,4),hn.bind(void 0,5),hn.bind(void 0,6),hn.bind(void 0,7),hn.bind(void 0,8),vn.bind(void 0,1),vn.bind(void 0,2),vn.bind(void 0,3),vn.bind(void 0,4),vn.bind(void 0,5),vn.bind(void 0,6),vn.bind(void 0,7),vn.bind(void 0,8),G.bind(void 0,0,0,0,0,0),G.bind(void 0,0,0,0,0,1),G.bind(void 0,0,0,0,0,2),G.bind(void 0,0,0,0,0,3),G.bind(void 0,0,0,0,1,0),G.bind(void 0,0,0,0,1,1),G.bind(void 0,0,0,0,1,2),G.bind(void 0,0,0,0,1,3),G.bind(void 0,0,0,1,0,0),G.bind(void 0,0,0,1,0,1),G.bind(void 0,0,0,1,0,2),G.bind(void 0,0,0,1,0,3),G.bind(void 0,0,0,1,1,0),G.bind(void 0,0,0,1,1,1),G.bind(void 0,0,0,1,1,2),G.bind(void 0,0,0,1,1,3),G.bind(void 0,0,1,0,0,0),G.bind(void 0,0,1,0,0,1),G.bind(void 0,0,1,0,0,2),G.bind(void 0,0,1,0,0,3),G.bind(void 0,0,1,0,1,0),G.bind(void 0,0,1,0,1,1),G.bind(void 0,0,1,0,1,2),G.bind(void 0,0,1,0,1,3),G.bind(void 0,0,1,1,0,0),G.bind(void 0,0,1,1,0,1),G.bind(void 0,0,1,1,0,2),G.bind(void 0,0,1,1,0,3),G.bind(void 0,0,1,1,1,0),G.bind(void 0,0,1,1,1,1),G.bind(void 0,0,1,1,1,2),G.bind(void 0,0,1,1,1,3),G.bind(void 0,1,0,0,0,0),G.bind(void 0,1,0,0,0,1),G.bind(void 0,1,0,0,0,2),G.bind(void 0,1,0,0,0,3),G.bind(void 0,1,0,0,1,0),G.bind(void 0,1,0,0,1,1),G.bind(void 0,1,0,0,1,2),G.bind(void 0,1,0,0,1,3),G.bind(void 0,1,0,1,0,0),G.bind(void 0,1,0,1,0,1),G.bind(void 0,1,0,1,0,2),G.bind(void 0,1,0,1,0,3),G.bind(void 0,1,0,1,1,0),G.bind(void 0,1,0,1,1,1),G.bind(void 0,1,0,1,1,2),G.bind(void 0,1,0,1,1,3),G.bind(void 0,1,1,0,0,0),G.bind(void 0,1,1,0,0,1),G.bind(void 0,1,1,0,0,2),G.bind(void 0,1,1,0,0,3),G.bind(void 0,1,1,0,1,0),G.bind(void 0,1,1,0,1,1),G.bind(void 0,1,1,0,1,2),G.bind(void 0,1,1,0,1,3),G.bind(void 0,1,1,1,0,0),G.bind(void 0,1,1,1,0,1),G.bind(void 0,1,1,1,0,2),G.bind(void 0,1,1,1,0,3),G.bind(void 0,1,1,1,1,0),G.bind(void 0,1,1,1,1,1),G.bind(void 0,1,1,1,1,2),G.bind(void 0,1,1,1,1,3)];function Kr(e){this.char=e,this.state={},this.activeState=null}function Gu(e,t,n){this.contextName=n,this.startIndex=e,this.endOffset=t}function pk(e,t,n){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=n}function Mt(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function $i(e){this.eventId=e,this.subscribers=[]}function dk(e){var t=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(a){Object.defineProperty(t.events,a,{value:new $i(a)})}),e&&n.forEach(function(a){var o=e[a];typeof o=="function"&&t.events[a].subscribe(o)});var r=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];r.forEach(function(a){t.events[a].subscribe(t.updateContextsRanges)})}function Fe(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],dk.call(this,e)}Kr.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState};Kr.prototype.getState=function(e){return this.state[e]||null};Fe.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length};Fe.prototype.composeRUD=function(e){var t=this,n=!0,r=e.map(function(o){return t[o[0]].apply(t,o.slice(1).concat(n))}),a=function(o){return typeof o=="object"&&o.hasOwnProperty("FAIL")};if(r.every(a))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(a)};this.dispatch("composeRUD",[r.filter(function(o){return!a(o)})])};Fe.prototype.replaceRange=function(e,t,n,r){t=t!==null?t:this.tokens.length;var a=n.every(function(i){return i instanceof Kr});if(!isNaN(e)&&this.inboundIndex(e)&&a){var o=this.tokens.splice.apply(this.tokens,[e,t].concat(n));return r||this.dispatch("replaceToken",[e,t,n]),[o,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};Fe.prototype.replaceToken=function(e,t,n){if(!isNaN(e)&&this.inboundIndex(e)&&t instanceof Kr){var r=this.tokens.splice(e,1,t);return n||this.dispatch("replaceToken",[e,t]),[r[0],t]}else return{FAIL:"replaceToken: invalid token or index."}};Fe.prototype.removeRange=function(e,t,n){t=isNaN(t)?this.tokens.length:t;var r=this.tokens.splice(e,t);return n||this.dispatch("removeRange",[r,e,t]),r};Fe.prototype.removeToken=function(e,t){if(!isNaN(e)&&this.inboundIndex(e)){var n=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[n,e]),n}else return{FAIL:"removeToken: invalid token index."}};Fe.prototype.insertToken=function(e,t,n){var r=e.every(function(a){return a instanceof Kr});return r?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),n||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}};Fe.prototype.registerModifier=function(e,t,n){this.events.newToken.subscribe(function(r,a){var o=[r,a],i=t===null||t.apply(this,o)===!0,l=[r,a];if(i){var s=n.apply(this,l);r.setState(e,s)}}),this.registeredModifiers.push(e)};$i.prototype.subscribe=function(e){return typeof e=="function"?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};$i.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)};Mt.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)};Mt.prototype.get=function(e){switch(!0){case e===0:return this.current;case(e<0&&Math.abs(e)<=this.backtrack.length):return this.backtrack.slice(e)[0];case(e>0&&e<=this.lookahead.length):return this.lookahead[e-1];default:return null}};Fe.prototype.rangeToText=function(e){if(e instanceof Gu)return this.getRangeTokens(e).map(function(t){return t.char}).join("")};Fe.prototype.getText=function(){return this.tokens.map(function(e){return e.char}).join("")};Fe.prototype.getContext=function(e){var t=this.registeredContexts[e];return t||null};Fe.prototype.on=function(e,t){var n=this.events[e];return n?n.subscribe(t):null};Fe.prototype.dispatch=function(e,t){var n=this,r=this.events[e];r instanceof $i&&r.subscribers.forEach(function(a){a.apply(n,t||[])})};Fe.prototype.registerContextChecker=function(e,t,n){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if(typeof t!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var r=new pk(e,t,n);return this.registeredContexts[e]=r,this.contextCheckers.push(r),r};Fe.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))};Fe.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}};Fe.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];n.ranges=[]}};Fe.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map(function(r){return r.char}),t=0;t<e.length;t++){var n=new Mt(e,t);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};Fe.prototype.setEndOffset=function(e,t){var n=this.getContext(t).openRange.startIndex,r=new Gu(n,e,t),a=this.getContext(t).ranges;return r.rangeId=t+"."+a.length,a.push(r),this.getContext(t).openRange=null,r};Fe.prototype.runContextCheck=function(e){var t=this,n=e.index;this.contextCheckers.forEach(function(r){var a=r.contextName,o=t.getContext(a).openRange;if(!o&&r.checkStart(e)&&(o=new Gu(n,null,a),t.getContext(a).openRange=o,t.dispatch("contextStart",[a,n])),o&&r.checkEnd(e)){var i=n-o.startIndex+1,l=t.setEndOffset(i,a);t.dispatch("contextEnd",[a,l])}})};Fe.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var n=0;n<t.length;n++){var r=t[n],a=new Mt(t,n);this.dispatch("next",[a]),this.runContextCheck(a);var o=new Kr(r);this.tokens.push(o),this.dispatch("newToken",[o,a])}return this.dispatch("end",[this.tokens]),this.tokens};function On(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function Uv(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function Pn(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function Zo(e){return/[A-z]/.test(e)}function hk(e){return/\s/.test(e)}function St(e){this.font=e,this.features={}}function Xn(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function qa(e,t){if(!e)return-1;switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var n=t.ranges,r=0;r<n.length;r++){var a=n[r];if(e>=a.start&&e<=a.end){var o=e-a.start;return a.index+o}}break;default:return-1}return-1}function vk(e,t){var n=qa(e,t.coverage);return n===-1?null:e+t.deltaGlyphId}function gk(e,t){var n=qa(e,t.coverage);return n===-1?null:t.substitute[n]}function Ls(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r],o=t.current;o=Array.isArray(o)?o[0]:o;var i=qa(o,a);i!==-1&&n.push(i)}return n.length!==e.length?-1:n}function mk(e,t){var n=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<n)return[];var r=Ls(t.inputCoverage,e);if(r===-1)return[];var a=t.inputCoverage.length-1;if(e.lookahead.length<t.lookaheadCoverage.length)return[];for(var o=e.lookahead.slice(a);o.length&&Pn(o[0].char);)o.shift();var i=new Mt(o,0),l=Ls(t.lookaheadCoverage,i),s=[].concat(e.backtrack);for(s.reverse();s.length&&Pn(s[0].char);)s.shift();if(s.length<t.backtrackCoverage.length)return[];var u=new Mt(s,0),c=Ls(t.backtrackCoverage,u),p=r.length===t.inputCoverage.length&&l.length===t.lookaheadCoverage.length&&c.length===t.backtrackCoverage.length,f=[];if(p)for(var d=0;d<t.lookupRecords.length;d++)for(var x=t.lookupRecords[d],y=x.lookupListIndex,k=this.getLookupByIndex(y),h=0;h<k.subtables.length;h++){var g=k.subtables[h],v=this.getLookupMethod(k,g),S=this.getSubstitutionType(k,g);if(S==="12")for(var T=0;T<r.length;T++){var N=e.get(T),E=v(N);E&&f.push(E)}}return f}function yk(e,t){var n=e.current,r=qa(n,t.coverage);if(r===-1)return null;for(var a,o=t.ligatureSets[r],i=0;i<o.length;i++){a=o[i];for(var l=0;l<a.components.length;l++){var s=e.lookahead[l],u=a.components[l];if(s!==u)break;if(l===a.components.length-1)return a}}return null}function xk(e,t){var n=qa(e,t.coverage);return n===-1?null:t.sequences[n]}St.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var n=e[t];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};St.prototype.getScriptFeaturesIndexes=function(e){var t=this.font.tables;if(!t.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,r=0;r<n.length;r++){var a=n[r];if(a.tag===e&&a.script.defaultLangSys)return a.script.defaultLangSys.featureIndexes;var o=a.langSysRecords;if(o)for(var i=0;i<o.length;i++){var l=o[i];if(l.tag===e){var s=l.langSys;return s.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};St.prototype.mapTagsToFeatures=function(e,t){for(var n={},r=0;r<e.length;r++){var a=e[r].tag,o=e[r].feature;n[a]=o}this.features[t].tags=n};St.prototype.getScriptFeatures=function(e){var t=this.features[e];if(this.features.hasOwnProperty(e))return t;var n=this.getScriptFeaturesIndexes(e);if(!n)return null;var r=this.font.tables.gsub;return t=n.map(function(a){return r.features[a]}),this.features[e]=t,this.mapTagsToFeatures(t,e),t};St.prototype.getSubstitutionType=function(e,t){var n=e.lookupType.toString(),r=t.substFormat.toString();return n+r};St.prototype.getLookupMethod=function(e,t){var n=this,r=this.getSubstitutionType(e,t);switch(r){case"11":return function(a){return vk.apply(n,[a,t])};case"12":return function(a){return gk.apply(n,[a,t])};case"63":return function(a){return mk.apply(n,[a,t])};case"41":return function(a){return yk.apply(n,[a,t])};case"21":return function(a){return xk.apply(n,[a,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}};St.prototype.lookupFeature=function(e){var t=e.contextParams,n=t.index,r=this.getFeature({tag:e.tag,script:e.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var a=this.getFeatureLookups(r),o=[].concat(t.context),i=0;i<a.length;i++)for(var l=a[i],s=this.getLookupSubtables(l),u=0;u<s.length;u++){var c=s[u],p=this.getSubstitutionType(l,c),f=this.getLookupMethod(l,c),d=void 0;switch(p){case"11":d=f(t.current),d&&o.splice(n,1,new Xn({id:11,tag:e.tag,substitution:d}));break;case"12":d=f(t.current),d&&o.splice(n,1,new Xn({id:12,tag:e.tag,substitution:d}));break;case"63":d=f(t),Array.isArray(d)&&d.length&&o.splice(n,1,new Xn({id:63,tag:e.tag,substitution:d}));break;case"41":d=f(t),d&&o.splice(n,1,new Xn({id:41,tag:e.tag,substitution:d}));break;case"21":d=f(t.current),d&&o.splice(n,1,new Xn({id:21,tag:e.tag,substitution:d}));break}t=new Mt(o,n),!(Array.isArray(d)&&!d.length)&&(d=null)}return o.length?o:null};St.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var t=this.features.hasOwnProperty(e.script);if(!e.tag)return t;var n=this.features[e.script].some(function(r){return r.tag===e.tag});return t&&n};St.prototype.getLookupSubtables=function(e){return e.subtables||null};St.prototype.getLookupByIndex=function(e){var t=this.font.tables.gsub.lookups;return t[e]||null};St.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))};St.prototype.getFeature=function(t){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(t.script)||this.getScriptFeatures(t.script);var n=this.features[t.script];return n?n.tags[t.tag]?this.features[t.script].tags[t.tag]:null:{FAIL:"No feature for script "+t.script}};function kk(e){var t=e.current,n=e.get(-1);return n===null&&On(t)||!On(n)&&On(t)}function Sk(e){var t=e.get(1);return t===null||!On(t)}var wk={startCheck:kk,endCheck:Sk};function Tk(e){var t=e.current,n=e.get(-1);return(On(t)||Pn(t))&&!On(n)}function Ek(e){var t=e.get(1);switch(!0){case t===null:return!0;case(!On(t)&&!Pn(t)):var n=hk(t);if(!n)return!0;if(n){var r=!1;if(r=e.lookahead.some(function(a){return On(a)||Pn(a)}),!r)return!0}break;default:return!1}}var bk={startCheck:Tk,endCheck:Ek};function Ck(e,t,n){t[n].setState(e.tag,e.substitution)}function Fk(e,t,n){t[n].setState(e.tag,e.substitution)}function Rk(e,t,n){e.substitution.forEach(function(r,a){var o=t[n+a];o.setState(e.tag,r)})}function _k(e,t,n){var r=t[n];r.setState(e.tag,e.substitution.ligGlyph);for(var a=e.substitution.components.length,o=0;o<a;o++)r=t[n+o+1],r.setState("deleted",!0)}var tp={11:Ck,12:Fk,63:Rk,41:_k};function $u(e,t,n){e instanceof Xn&&tp[e.id]&&tp[e.id](e,t,n)}function Lk(e){for(var t=[].concat(e.backtrack),n=t.length-1;n>=0;n--){var r=t[n],a=Uv(r),o=Pn(r);if(!a&&!o)return!0;if(a)return!1}return!1}function Nk(e){if(Uv(e.current))return!1;for(var t=0;t<e.lookahead.length;t++){var n=e.lookahead[t],r=Pn(n);if(!r)return!0}return!1}function Ok(e){var t=this,n="arab",r=this.featuresTags[n],a=this.tokenizer.getRangeTokens(e);if(a.length!==1){var o=new Mt(a.map(function(l){return l.getState("glyphIndex")}),0),i=new Mt(a.map(function(l){return l.char}),0);a.forEach(function(l,s){if(!Pn(l.char)){o.setCurrentIndex(s),i.setCurrentIndex(s);var u=0;Lk(i)&&(u|=1),Nk(i)&&(u|=2);var c;switch(u){case 1:c="fina";break;case 2:c="init";break;case 3:c="medi";break}if(r.indexOf(c)!==-1){var p=t.query.lookupFeature({tag:c,script:n,contextParams:o});if(p instanceof Error)return console.info(p.message);p.forEach(function(f,d){f instanceof Xn&&($u(f,a,d),o.context[d]=f.substitution)})}}})}}function np(e,t){var n=e.map(function(r){return r.activeState.value});return new Mt(n,0)}function Uk(e){var t=this,n="arab",r=this.tokenizer.getRangeTokens(e),a=np(r);a.context.forEach(function(o,i){a.setCurrentIndex(i);var l=t.query.lookupFeature({tag:"rlig",script:n,contextParams:a});l.length&&(l.forEach(function(s){return $u(s,r,i)}),a=np(r))})}function Dk(e){var t=e.current,n=e.get(-1);return n===null&&Zo(t)||!Zo(n)&&Zo(t)}function Pk(e){var t=e.get(1);return t===null||!Zo(t)}var zk={startCheck:Dk,endCheck:Pk};function rp(e,t){var n=e.map(function(r){return r.activeState.value});return new Mt(n,0)}function Ik(e){var t=this,n="latn",r=this.tokenizer.getRangeTokens(e),a=rp(r);a.context.forEach(function(o,i){a.setCurrentIndex(i);var l=t.query.lookupFeature({tag:"liga",script:n,contextParams:a});l.length&&(l.forEach(function(s){return $u(s,r,i)}),a=rp(r))})}function Gt(e){this.baseDir=e||"ltr",this.tokenizer=new Fe,this.featuresTags={}}Gt.prototype.setText=function(e){this.text=e};Gt.prototype.contextChecks={latinWordCheck:zk,arabicWordCheck:wk,arabicSentenceCheck:bk};function Ns(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function Ak(){return Ns.call(this,"latinWord"),Ns.call(this,"arabicWord"),Ns.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function Mk(){var e=this,t=this.tokenizer.getContextRanges("arabicSentence");t.forEach(function(n){var r=e.tokenizer.getRangeTokens(n);e.tokenizer.replaceRange(n.startIndex,n.endOffset,r.reverse())})}Gt.prototype.registerFeatures=function(e,t){var n=this,r=t.filter(function(a){return n.query.supports({script:e,tag:a})});this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(r):this.featuresTags[e]=r};Gt.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new St(e));for(var n=0;n<t.length;n++){var r=t[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}};Gt.prototype.registerModifier=function(e,t,n){this.tokenizer.registerModifier(e,t,n)};function Hu(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function Bk(){var e=this,t="arab";if(this.featuresTags.hasOwnProperty(t)){Hu.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(r){Ok.call(e,r)})}}function jk(){var e=this,t="arab";if(this.featuresTags.hasOwnProperty(t)){var n=this.featuresTags[t];if(n.indexOf("rlig")!==-1){Hu.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(a){Uk.call(e,a)})}}}function Gk(){var e=this,t="latn";if(this.featuresTags.hasOwnProperty(t)){var n=this.featuresTags[t];if(n.indexOf("liga")!==-1){Hu.call(this);var r=this.tokenizer.getContextRanges("latinWord");r.forEach(function(a){Ik.call(e,a)})}}}Gt.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)};Gt.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(Bk.call(this),jk.call(this)),this.checkContextReady("latinWord")&&Gk.call(this),this.checkContextReady("arabicSentence")&&Mk.call(this)};Gt.prototype.processText=function(e){(!this.text||this.text!==e)&&(this.setText(e),Ak.call(this),this.applyFeaturesToContexts())};Gt.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()};Gt.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var a=r.activeState.value;t.push(Array.isArray(a)?a[0]:a)}}return t};function fe(e){e=e||{},e.tables=e.tables||{},e.empty||(ia(e.familyName,"When creating a new Font object, familyName is required."),ia(e.styleName,"When creating a new Font object, styleName is required."),ia(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),ia(e.ascender,"When creating a new Font object, ascender is required."),ia(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new qt.GlyphSet(this,e.glyphs||[]),this.encoding=new Kh(this),this.position=new Ya(this),this.substitution=new kt(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new _v(this)}})}fe.prototype.hasChar=function(e){return this.encoding.charToGlyphIndex(e)!==null};fe.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)};fe.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n};fe.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map(function(t){return t.script==="latn"?{script:"latn",tags:t.tags.filter(function(n){return e[n]})}:t})};fe.prototype.stringToGlyphs=function(e,t){var n=this,r=new Gt,a=function(p){return n.charToGlyphIndex(p.char)};r.registerModifier("glyphIndex",null,a);var o=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;r.applyFeatures(this,o);for(var i=r.getTextGlyphs(e),l=i.length,s=new Array(l),u=this.glyphs.get(0),c=0;c<l;c+=1)s[c]=this.glyphs.get(i[c])||u;return s};fe.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)};fe.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n};fe.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""};fe.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,e,t):this.kerningPairs[e+","+t]||0};fe.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};fe.prototype.forEachGlyph=function(e,t,n,r,a,o){t=t!==void 0?t:0,n=n!==void 0?n:0,r=r!==void 0?r:72,a=Object.assign({},this.defaultRenderOptions,a);var i=1/this.unitsPerEm*r,l=this.stringToGlyphs(e,a),s;if(a.kerning){var u=a.script||this.position.getDefaultScriptName();s=this.position.getKerningTables(u,a.language)}for(var c=0;c<l.length;c+=1){var p=l[c];if(o.call(this,p,t,n,r,a),p.advanceWidth&&(t+=p.advanceWidth*i),a.kerning&&c<l.length-1){var f=s?this.position.getKerningValue(s,p.index,l[c+1].index):this.getKerningValue(p,l[c+1]);t+=f*i}a.letterSpacing?t+=a.letterSpacing*r:a.tracking&&(t+=a.tracking/1e3*r)}return t};fe.prototype.getPath=function(e,t,n,r,a){var o=new De;return this.forEachGlyph(e,t,n,r,a,function(i,l,s,u){var c=i.getPath(l,s,u,a,this);o.extend(c)}),o};fe.prototype.getPaths=function(e,t,n,r,a){var o=[];return this.forEachGlyph(e,t,n,r,a,function(i,l,s,u){var c=i.getPath(l,s,u,a,this);o.push(c)}),o};fe.prototype.getAdvanceWidth=function(e,t,n){return this.forEachGlyph(e,0,0,t,n,function(){})};fe.prototype.draw=function(e,t,n,r,a,o){this.getPath(t,n,r,a,o).draw(e)};fe.prototype.drawPoints=function(e,t,n,r,a,o){this.forEachGlyph(t,n,r,a,o,function(i,l,s,u){i.drawPoints(e,l,s,u)})};fe.prototype.drawMetrics=function(e,t,n,r,a,o){this.forEachGlyph(t,n,r,a,o,function(i,l,s,u){i.drawMetrics(e,l,s,u)})};fe.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en};fe.prototype.validate=function(){var e=this;function t(r,a){}function n(r){var a=e.getEnglishName(r);a&&a.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};fe.prototype.toTables=function(){return _1.fontToTable(this)};fe.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};fe.prototype.toArrayBuffer=function(){for(var e=this.toTables(),t=e.encode(),n=new ArrayBuffer(t.length),r=new Uint8Array(n),a=0;a<t.length;a++)r[a]=t[a];return n};fe.prototype.download=function(e){var t=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");e=e||t.replace(/\s/g,"")+"-"+n+".otf";var r=this.toArrayBuffer();if(N1())if(window.URL=window.URL||window.webkitURL,window.URL){var a=new DataView(r),o=new Blob([a],{type:"font/opentype"}),i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.download=e;var l=document.createEvent("MouseEvents");l.initEvent("click",!0,!1),i.dispatchEvent(l)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var s=require("fs"),u=O1(r);s.writeFileSync(e,u)}};fe.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};fe.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};fe.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function Dv(e,t){var n=JSON.stringify(e),r=256;for(var a in t){var o=parseInt(a);if(!(!o||o<256)){if(JSON.stringify(t[a])===n)return o;r<=o&&(r=o+1)}}return t[r]=e,r}function $k(e,t,n){var r=Dv(t.name,n);return[{name:"tag_"+e,type:"TAG",value:t.tag},{name:"minValue_"+e,type:"FIXED",value:t.minValue<<16},{name:"defaultValue_"+e,type:"FIXED",value:t.defaultValue<<16},{name:"maxValue_"+e,type:"FIXED",value:t.maxValue<<16},{name:"flags_"+e,type:"USHORT",value:0},{name:"nameID_"+e,type:"USHORT",value:r}]}function Hk(e,t,n){var r={},a=new $.Parser(e,t);return r.tag=a.parseTag(),r.minValue=a.parseFixed(),r.defaultValue=a.parseFixed(),r.maxValue=a.parseFixed(),a.skip("uShort",1),r.name=n[a.parseUShort()]||{},r}function Zk(e,t,n,r){for(var a=Dv(t.name,r),o=[{name:"nameID_"+e,type:"USHORT",value:a},{name:"flags_"+e,type:"USHORT",value:0}],i=0;i<n.length;++i){var l=n[i].tag;o.push({name:"axis_"+e+" "+l,type:"FIXED",value:t.coordinates[l]<<16})}return o}function Wk(e,t,n,r){var a={},o=new $.Parser(e,t);a.name=r[o.parseUShort()]||{},o.skip("uShort",1),a.coordinates={};for(var i=0;i<n.length;++i)a.coordinates[n[i].tag]=o.parseFixed();return a}function Vk(e,t){var n=new I.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+e.axes.length*4}]);n.offsetToData=n.sizeOf();for(var r=0;r<e.axes.length;r++)n.fields=n.fields.concat($k(r,e.axes[r],t));for(var a=0;a<e.instances.length;a++)n.fields=n.fields.concat(Zk(a,e.instances[a],e.axes,t));return n}function Xk(e,t,n){var r=new $.Parser(e,t),a=r.parseULong();K.argument(a===65536,"Unsupported fvar table version.");var o=r.parseOffset16();r.skip("uShort",1);for(var i=r.parseUShort(),l=r.parseUShort(),s=r.parseUShort(),u=r.parseUShort(),c=[],p=0;p<i;p++)c.push(Hk(e,t+o+p*l,n));for(var f=[],d=t+o+i*l,x=0;x<s;x++)f.push(Wk(e,d+x*u,c,n));return{axes:c,instances:f}}var Yk={make:Vk,parse:Xk},Qk=function(){return{coverage:this.parsePointer(w.coverage),attachPoints:this.parseList(w.pointer(w.uShortList))}},Kk=function(){var e=this.parseUShort();if(K.argument(e===1||e===2||e===3,"Unsupported CaretValue table version."),e===1)return{coordinate:this.parseShort()};if(e===2)return{pointindex:this.parseShort()};if(e===3)return{coordinate:this.parseShort()}},qk=function(){return this.parseList(w.pointer(Kk))},Jk=function(){return{coverage:this.parsePointer(w.coverage),ligGlyphs:this.parseList(w.pointer(qk))}},eS=function(){return this.parseUShort(),this.parseList(w.pointer(w.coverage))};function tS(e,t){t=t||0;var n=new w(e,t),r=n.parseVersion(1);K.argument(r===1||r===1.2||r===1.3,"Unsupported GDEF table version.");var a={version:r,classDef:n.parsePointer(w.classDef),attachList:n.parsePointer(Qk),ligCaretList:n.parsePointer(Jk),markAttachClassDef:n.parsePointer(w.classDef)};return r>=1.2&&(a.markGlyphSets=n.parsePointer(eS)),a}var nS={parse:tS},Bt=new Array(10);Bt[1]=function(){var t=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(w.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(w.coverage),values:this.parseValueRecordList()};K.assert(!1,"0x"+t.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Bt[2]=function(){var t=this.offset+this.relativeOffset,n=this.parseUShort();K.assert(n===1||n===2,"0x"+t.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(w.coverage),a=this.parseUShort(),o=this.parseUShort();if(n===1)return{posFormat:n,coverage:r,valueFormat1:a,valueFormat2:o,pairSets:this.parseList(w.pointer(w.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(a),value2:this.parseValueRecord(o)}})))};if(n===2){var i=this.parsePointer(w.classDef),l=this.parsePointer(w.classDef),s=this.parseUShort(),u=this.parseUShort();return{posFormat:n,coverage:r,valueFormat1:a,valueFormat2:o,classDef1:i,classDef2:l,class1Count:s,class2Count:u,classRecords:this.parseList(s,w.list(u,function(){return{value1:this.parseValueRecord(a),value2:this.parseValueRecord(o)}}))}}};Bt[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Bt[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Bt[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Bt[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Bt[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Bt[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Bt[9]=function(){return{error:"GPOS Lookup 9 not supported"}};function rS(e,t){t=t||0;var n=new w(e,t),r=n.parseVersion(1);return K.argument(r===1||r===1.1,"Unsupported GPOS table version "+r),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Bt)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Bt),variations:n.parseFeatureVariationsList()}}var aS=new Array(10);function oS(e){return new I.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new I.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new I.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new I.LookupList(e.lookups,aS)}])}var iS={parse:rS,make:oS};function sS(e){var t={};e.skip("uShort");var n=e.parseUShort();K.argument(n===0,"Unsupported kern sub-table version."),e.skip("uShort",2);var r=e.parseUShort();e.skip("uShort",3);for(var a=0;a<r;a+=1){var o=e.parseUShort(),i=e.parseUShort(),l=e.parseShort();t[o+","+i]=l}return t}function lS(e){var t={};e.skip("uShort");var n=e.parseULong();n>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var r=e.parseUShort(),a=r&255;if(e.skip("uShort"),a===0){var o=e.parseUShort();e.skip("uShort",3);for(var i=0;i<o;i+=1){var l=e.parseUShort(),s=e.parseUShort(),u=e.parseShort();t[l+","+s]=u}}return t}function uS(e,t){var n=new $.Parser(e,t),r=n.parseUShort();if(r===0)return sS(n);if(r===1)return lS(n);throw new Error("Unsupported kern table version ("+r+").")}var cS={parse:uS};function fS(e,t,n,r){for(var a=new $.Parser(e,t),o=r?a.parseUShort:a.parseULong,i=[],l=0;l<n+1;l+=1){var s=o.call(a);r&&(s*=2),i.push(s)}return i}var pS={parse:fS};function dS(e,t){var n=require("fs");n.readFile(e,function(r,a){if(r)return t(r.message);t(null,wv(a))})}function hS(e,t){var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?t(null,n.response):t("Font could not be loaded: "+n.statusText)},n.onerror=function(){t("Font could not be loaded")},n.send()}function ap(e,t){for(var n=[],r=12,a=0;a<t;a+=1){var o=$.getTag(e,r),i=$.getULong(e,r+4),l=$.getULong(e,r+8),s=$.getULong(e,r+12);n.push({tag:o,checksum:i,offset:l,length:s,compression:!1}),r+=16}return n}function vS(e,t){for(var n=[],r=44,a=0;a<t;a+=1){var o=$.getTag(e,r),i=$.getULong(e,r+4),l=$.getULong(e,r+8),s=$.getULong(e,r+12),u=void 0;l<s?u="WOFF":u=!1,n.push({tag:o,offset:i,compression:u,compressedLength:l,length:s}),r+=20}return n}function Re(e,t){if(t.compression==="WOFF"){var n=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),r=new Uint8Array(t.length);if(iy(n,r),r.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");var a=new DataView(r.buffer,0);return{data:a,offset:0}}else return{data:e,offset:t.offset}}function Zu(e,t){t=t??{};var n,r,a=new fe({empty:!0}),o=new DataView(e,0),i,l=[],s=$.getTag(o,0);if(s==="\0\0\0"||s==="true"||s==="typ1")a.outlinesFormat="truetype",i=$.getUShort(o,4),l=ap(o,i);else if(s==="OTTO")a.outlinesFormat="cff",i=$.getUShort(o,4),l=ap(o,i);else if(s==="wOFF"){var u=$.getTag(o,4);if(u==="\0\0\0")a.outlinesFormat="truetype";else if(u==="OTTO")a.outlinesFormat="cff";else throw new Error("Unsupported OpenType flavor "+s);i=$.getUShort(o,12),l=vS(o,i)}else throw new Error("Unsupported OpenType signature "+s);for(var c,p,f,d,x,y,k,h,g,v,S,T,N=0;N<i;N+=1){var E=l[N],b=void 0;switch(E.tag){case"cmap":b=Re(o,E),a.tables.cmap=Qh.parse(b.data,b.offset),a.encoding=new qh(a.tables.cmap);break;case"cvt ":b=Re(o,E),T=new $.Parser(b.data,b.offset),a.tables.cvt=T.parseShortList(E.length/2);break;case"fvar":p=E;break;case"fpgm":b=Re(o,E),T=new $.Parser(b.data,b.offset),a.tables.fpgm=T.parseByteList(E.length);break;case"head":b=Re(o,E),a.tables.head=lv.parse(b.data,b.offset),a.unitsPerEm=a.tables.head.unitsPerEm,n=a.tables.head.indexToLocFormat;break;case"hhea":b=Re(o,E),a.tables.hhea=uv.parse(b.data,b.offset),a.ascender=a.tables.hhea.ascender,a.descender=a.tables.hhea.descender,a.numberOfHMetrics=a.tables.hhea.numberOfHMetrics;break;case"hmtx":k=E;break;case"ltag":b=Re(o,E),r=fv.parse(b.data,b.offset);break;case"maxp":b=Re(o,E),a.tables.maxp=pv.parse(b.data,b.offset),a.numGlyphs=a.tables.maxp.numGlyphs;break;case"name":v=E;break;case"OS/2":b=Re(o,E),a.tables.os2=Pl.parse(b.data,b.offset);break;case"post":b=Re(o,E),a.tables.post=yv.parse(b.data,b.offset),a.glyphNames=new Au(a.tables.post);break;case"prep":b=Re(o,E),T=new $.Parser(b.data,b.offset),a.tables.prep=T.parseByteList(E.length);break;case"glyf":f=E;break;case"loca":g=E;break;case"CFF ":c=E;break;case"kern":h=E;break;case"GDEF":d=E;break;case"GPOS":x=E;break;case"GSUB":y=E;break;case"meta":S=E;break}}var B=Re(o,v);if(a.tables.name=mv.parse(B.data,B.offset,r),a.names=a.tables.name,f&&g){var _=n===0,F=Re(o,g),z=pS.parse(F.data,F.offset,a.numGlyphs,_),j=Re(o,f);a.glyphs=Cv.parse(j.data,j.offset,z,a,t)}else if(c){var H=Re(o,c);sv.parse(H.data,H.offset,a,t)}else throw new Error("Font doesn't contain TrueType or CFF outlines.");var Y=Re(o,k);if(cv.parse(a,Y.data,Y.offset,a.numberOfHMetrics,a.numGlyphs,a.glyphs,t),Fy(a,t),h){var ee=Re(o,h);a.kerningPairs=cS.parse(ee.data,ee.offset)}else a.kerningPairs={};if(d){var W=Re(o,d);a.tables.gdef=nS.parse(W.data,W.offset)}if(x){var U=Re(o,x);a.tables.gpos=iS.parse(U.data,U.offset),a.position.init()}if(y){var A=Re(o,y);a.tables.gsub=xv.parse(A.data,A.offset)}if(p){var Z=Re(o,p);a.tables.fvar=Yk.parse(Z.data,Z.offset,a.names)}if(S){var X=Re(o,S);a.tables.meta=kv.parse(X.data,X.offset),a.metas=a.tables.meta}return a}function gS(e,t,n){n=n??{};var r=typeof window>"u",a=r&&!n.isUrl?dS:hS;return new Promise(function(o,i){a(e,function(l,s){if(l){if(t)return t(l);i(l)}var u;try{u=Zu(s,n)}catch(c){if(t)return t(c,null);i(c)}if(t)return t(null,u);o(u)})})}function mS(e,t){var n=require("fs"),r=n.readFileSync(e);return Zu(wv(r),t)}var vr=Object.freeze({__proto__:null,Font:fe,Glyph:xt,Path:De,BoundingBox:pn,_parse:$,parse:Zu,load:gS,loadSync:mS});const yS=e=>{const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`${e.meta.familyName}-${e.meta.styleName}.json`,r.click(),URL.revokeObjectURL(n)},xS=(e,t,n)=>{const r=e.shapes.map(s=>qm(s)).join(`
`),a=`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${t} ${t}" width="${t}" height="${t}">
${r}
</svg>`,o=new Blob([a],{type:"image/svg+xml"}),i=URL.createObjectURL(o),l=document.createElement("a");l.href=i,l.download=`${n}-${e.char}.svg`,l.click(),URL.revokeObjectURL(i)},kS=(e,t)=>{const n=new vr.Path,{type:r,x:a,y:o,width:i,height:l,rotation:s,corner:u}=e,c=d=>t-d,p=c(o+l),f=c(o);switch(r){case ce.SQUARE:n.moveTo(a,p),n.lineTo(a+i,p),n.lineTo(a+i,f),n.lineTo(a,f),n.close();break;case ce.CIRCLE:{const d=a+i/2,x=c(o+l/2),y=i/2,k=l/2,h=.5522847498;n.moveTo(d,x-k),n.curveTo(d+y*h,x-k,d+y,x-k*h,d+y,x),n.curveTo(d+y,x+k*h,d+y*h,x+k,d,x+k),n.curveTo(d-y*h,x+k,d-y,x+k*h,d-y,x),n.curveTo(d-y,x-k*h,d-y*h,x-k,d,x-k),n.close()}break;case ce.TRIANGLE:{const d=a+i/2,x=c(o+l/2),y=[{x:a,y:p},{x:a+i,y:p},{x:a,y:f}];if(s!==0){const k=s*Math.PI/180,h=Math.cos(k),g=Math.sin(k);y.forEach((v,S)=>{const T=v.x-d,N=c(v.y)-x;y[S]={x:d+T*h-N*g,y:c(x+T*g+N*h)}})}n.moveTo(y[0].x,y[0].y),n.lineTo(y[1].x,y[1].y),n.lineTo(y[2].x,y[2].y),n.close()}break;case ce.QUARTER_CIRCLE:{const d=u||q.TL,x=i,y=l,k=.5522847498;switch(d){case q.TL:n.moveTo(a+i,p),n.curveTo(a+i,p+y*k,a+x*k,f,a,f),n.lineTo(a,p),n.close();break;case q.TR:n.moveTo(a,p),n.curveTo(a+i-x*k,p,a+i,p+y*k,a+i,f),n.lineTo(a+i,p),n.close();break;case q.BL:n.moveTo(a+i,f),n.curveTo(a+i-x*k,f,a,f-y*k,a,p),n.lineTo(a,f),n.close();break;case q.BR:n.moveTo(a,f),n.curveTo(a,f-y*k,a+i-x*k,p,a+i,p),n.lineTo(a+i,f),n.close();break}}break}return n},SS=e=>{try{const{meta:t,metrics:n,glyphs:r}=e;if(Object.values(r).filter(k=>k.shapes.length>0).length===0){alert(`No glyphs with shapes found!

Please draw shapes on some glyphs before exporting.

1. Select a glyph from the left sidebar
2. Use the Draw tool (D)
3. Draw shapes on the canvas
4. Then export your font`);return}const o=1e3,l=n.gridSize*oe,s=o/l,c=[new vr.Glyph({name:".notdef",unicode:0,advanceWidth:Math.round(n.defaultAdvanceWidth*s),path:new vr.Path})];Object.values(r).forEach(k=>{if(k.shapes.length===0)return;const h=new vr.Path;k.shapes.forEach(v=>{const S=kS(v,l);h.commands=h.commands.concat(S.commands)}),h.commands.forEach(v=>{v.x!==void 0&&(v.x=Math.round(v.x*s)),v.y!==void 0&&(v.y=Math.round(v.y*s)),v.x1!==void 0&&(v.x1=Math.round(v.x1*s)),v.y1!==void 0&&(v.y1=Math.round(v.y1*s)),v.x2!==void 0&&(v.x2=Math.round(v.x2*s)),v.y2!==void 0&&(v.y2=Math.round(v.y2*s))});const g=new vr.Glyph({name:k.char===" "?"space":k.char,unicode:k.unicode,advanceWidth:Math.round(k.advanceWidth*s),path:h});c.push(g)});const f=new vr.Font({familyName:t.familyName,styleName:t.styleName,unitsPerEm:o,ascender:Math.round(n.ascender*s),descender:Math.round(n.descender*s),glyphs:c}).toArrayBuffer(),d=new Blob([f],{type:"font/ttf"}),x=URL.createObjectURL(d),y=document.createElement("a");y.href=x,y.download=`${t.familyName}-${t.styleName}.ttf`,y.click(),URL.revokeObjectURL(x)}catch(t){console.error("Error exporting TTF:",t),alert(`Error exporting TTF: ${t instanceof Error?t.message:String(t)}`)}},wS=(e,t,n)=>{const r=L.useCallback(s=>{if(!s||typeof s.id!="number"){console.warn("Invalid shape provided to flipHorizontal");return}t();let u={};if(s.type===ce.TRIANGLE){const c=(360-s.rotation)%360;u.rotation=c}else if(s.type===ce.QUARTER_CIRCLE){const c={[q.TL]:q.TR,[q.TR]:q.TL,[q.BL]:q.BR,[q.BR]:q.BL};u.corner=c[s.corner||q.TL]}n(s.id,u)},[t,n]),a=L.useCallback(s=>{if(!s||typeof s.id!="number"){console.warn("Invalid shape provided to flipVertical");return}t();let u={};if(s.type===ce.TRIANGLE){const c=s.rotation===0?180:s.rotation===90?270:s.rotation===180?0:90;u.rotation=c}else if(s.type===ce.QUARTER_CIRCLE){const c={[q.TL]:q.BL,[q.TR]:q.BR,[q.BL]:q.TL,[q.BR]:q.TR};u.corner=c[s.corner||q.TL]}n(s.id,u)},[t,n]),o=L.useCallback(s=>{if(!s||typeof s.id!="number"){console.warn("Invalid shape provided to rotate90");return}if(t(),s.type===ce.TRIANGLE)n(s.id,{rotation:(s.rotation+90)%360});else if(s.type===ce.QUARTER_CIRCLE){const u={[q.TL]:q.TR,[q.TR]:q.BR,[q.BR]:q.BL,[q.BL]:q.TL};n(s.id,{corner:u[s.corner||q.TL]})}},[t,n]),i=L.useCallback((s,u)=>{t();let c={};switch(u){case ie.LEFT:c.x=0;break;case ie.RIGHT:c.x=e-s.width;break;case ie.CENTER_H:c.x=(e-s.width)/2;break;case ie.TOP:c.y=0;break;case ie.BOTTOM:c.y=e-s.height;break;case ie.CENTER_V:c.y=(e-s.height)/2;break}n(s.id,c)},[e,t,n]),l=L.useCallback((s,u)=>{if(s.length===0)return;if(t(),s.length===1){const p=s[0];let f={};switch(u){case ie.LEFT:f.x=0;break;case ie.RIGHT:f.x=e-p.width;break;case ie.CENTER_H:f.x=(e-p.width)/2;break;case ie.TOP:f.y=0;break;case ie.BOTTOM:f.y=e-p.height;break;case ie.CENTER_V:f.y=(e-p.height)/2;break}n(p.id,f);return}let c;switch(u){case ie.LEFT:c=Math.min(...s.map(h=>h.x)),s.forEach(h=>{n(h.id,{x:c})});break;case ie.RIGHT:const p=Math.max(...s.map(h=>h.x+h.width));s.forEach(h=>{n(h.id,{x:p-h.width})});break;case ie.CENTER_H:const f=s.map(h=>h.x+h.width/2),d=f.reduce((h,g)=>h+g,0)/f.length;s.forEach(h=>{n(h.id,{x:d-h.width/2})});break;case ie.TOP:c=Math.min(...s.map(h=>h.y)),s.forEach(h=>{n(h.id,{y:c})});break;case ie.BOTTOM:const x=Math.max(...s.map(h=>h.y+h.height));s.forEach(h=>{n(h.id,{y:x-h.height})});break;case ie.CENTER_V:const y=s.map(h=>h.y+h.height/2),k=y.reduce((h,g)=>h+g,0)/y.length;s.forEach(h=>{n(h.id,{y:k-h.height/2})});break}},[e,t,n]);return{flipHorizontal:r,flipVertical:a,rotate90:o,alignShape:i,alignShapes:l}};function TS(e){let t=null,n=null;const r=(...a)=>{n=a,t===null&&(t=requestAnimationFrame(()=>{n&&e(...n),t=null,n=null}))};return r.cancel=()=>{t!==null&&(cancelAnimationFrame(t),t=null),n=null},r}function ES(e,t,n){if(e<n.x||e>n.x+n.width||t<n.y||t>n.y+n.height)return!1;if(!n.type||n.type==="SQUARE")return!0;if(n.type==="CIRCLE"){const r=n.x+n.width/2,a=n.y+n.height/2,o=n.width/2,i=n.height/2,l=(e-r)/o,s=(t-a)/i;return l*l+s*s<=1}if(n.type==="TRIANGLE"){const r=n.rotation||0,a=n.x+n.width/2,o=n.y+n.height/2,i=Math.cos(-r*Math.PI/180),l=Math.sin(-r*Math.PI/180),s=e-a,u=t-o,c=a+(s*i-u*l),p=o+(s*l+u*i),f=n.x,d=n.y,x=n.x+n.width,y=n.y+n.height,k=n.x,h=n.y+n.height,g=(y-h)*(f-k)+(k-x)*(d-h),v=((y-h)*(c-k)+(k-x)*(p-h))/g,S=((h-d)*(c-k)+(f-k)*(p-h))/g,T=1-v-S;return v>=0&&v<=1&&S>=0&&S<=1&&T>=0&&T<=1}if(n.type==="QUARTER_CIRCLE"){const r=n.corner||"tl",a=e-n.x,o=t-n.y;let i,l;switch(r){case"tl":case"TL":i=0,l=0;break;case"tr":case"TR":i=n.width,l=0;break;case"bl":case"BL":i=0,l=n.height;break;case"br":case"BR":i=n.width,l=n.height;break;default:i=0,l=0}const s=a-i,u=o-l;if(Math.sqrt((s/n.width)**2+(u/n.height)**2)>1)return!1;switch(r){case"tl":case"TL":return a>=0&&o>=0;case"tr":case"TR":return a<=n.width&&o>=0;case"bl":case"BL":return a>=0&&o<=n.height;case"br":case"BR":return a<=n.width&&o<=n.height;default:return!0}}return!0}function Zt(e,t,n){return Math.max(t,Math.min(n,e))}const bS=({font:e,currentGlyph:t,selectedShapeType:n,tool:r,onToolChange:a,onAddShape:o,onUpdateShape:i,onDeleteShape:l,onClearGlyph:s,onUndo:u,onRedo:c,history:p,saveToHistory:f,onDuplicateShape:d,onUpdateMetrics:x})=>{const y=e.glyphs[t],k=L.useRef(null),h=L.useRef(null),g=L.useRef((y==null?void 0:y.shapes)||[]),[v,S]=L.useState(1),[T,N]=L.useState(!1),[E,b]=L.useState(!1),[B,_]=L.useState(!1),[F,z]=L.useState([]),[j,H]=L.useState(null),[Y,ee]=L.useState(new Map),[W,U]=L.useState(null),[A,Z]=L.useState(null),[X,te]=L.useState(null),[Ee,ft]=L.useState(null),[ze,Je]=L.useState(null),[wt,Gn]=L.useState(!1),[Me,ec]=L.useState(null),[et,i0]=L.useState(null),[$n,s0]=L.useState(!0),[pe,l0]=L.useState(!0),ve=((y==null?void 0:y.gridSize)||16)*oe,fr=L.useCallback(V=>ve-V*oe,[ve]),tc=L.useCallback(V=>(ve-V)/oe,[ve]),$e=L.useCallback(V=>{switch(V){case"baseline":return fr(e.metrics.baseline);case"xHeight":return fr(e.metrics.xHeight);case"capHeight":return fr(e.metrics.capHeight);case"ascender":return fr(e.metrics.ascender);case"descender":return fr(e.metrics.descender)}},[e.metrics,fr]),to=L.useCallback(V=>{if(!$n||pe)return null;const D=["baseline","xHeight","capHeight","ascender","descender"],ne=6;for(const ue of D){const se=$e(ue);if(Math.abs(V-se)<ne)return ue}return null},[$n,pe,$e]),nc=L.useCallback((V,D)=>{const ne=Math.round(tc(D));switch(V){case"baseline":x({baseline:ne});break;case"xHeight":x({xHeight:ne});break;case"capHeight":x({capHeight:ne});break;case"ascender":x({ascender:ne});break;case"descender":x({descender:ne});break}},[tc,x]),{flipHorizontal:rc,flipVertical:ac,rotate90:oc,alignShapes:ic}=wS(ve,f,i);L.useEffect(()=>{y&&(g.current=y.shapes)},[y]),L.useEffect(()=>{y&&(N(!1),b(!1),_(!1),z([]),H(null),ee(new Map),U(null),Z(null),te(null),ft(null),Je(null))},[y==null?void 0:y.char]);const Xi=L.useCallback(()=>{F.length===0||!y||F.forEach(V=>{const D=y.shapes.find(ne=>ne.id===V);D&&rc(D)})},[F,y,rc]),Yi=L.useCallback(()=>{F.length===0||!y||F.forEach(V=>{const D=y.shapes.find(ne=>ne.id===V);D&&ac(D)})},[F,y,ac]),Qi=L.useCallback(()=>{F.length===0||!y||F.forEach(V=>{const D=y.shapes.find(ne=>ne.id===V);D&&oc(D)})},[F,y,oc]),pt=L.useCallback(V=>{if(F.length===0||!y)return;const D=y.shapes.filter(ne=>F.includes(ne.id));ic(D,V)},[F,y,ic]),u0=L.useCallback(()=>{y&&xS(y,ve,e.meta.familyName)},[y,ve,e]),sc=L.useCallback(V=>{if(V.target.tagName==="BUTTON"||V.target.tagName==="INPUT"||!y)return;const D=xf(V,k.current),ne=to(D.y);if(ne){V.preventDefault(),Gn(!0),ec(ne);return}if(r===Qe.SELECT&&F.length===1){const se=V.target.getAttribute("data-handle");if(se){V.preventDefault();const be=y.shapes.find(Oe=>Oe.id===F[0]);be&&(b(!0),Z(se),H(D),U({...be}));return}}if(r===Qe.DRAW&&n){V.preventDefault();const ue=Ye(D.x),se=Ye(D.y);te({x:ue,y:se})}else if(r===Qe.SELECT){let ue=null;for(let se=y.shapes.length-1;se>=0;se--){const be=y.shapes[se];if(ES(D.x,D.y,be)){ue=be;break}}if(ue)if(V.preventDefault(),V.shiftKey||V.metaKey||V.ctrlKey)F.includes(ue.id)?z(F.filter(se=>se!==ue.id)):z([...F,ue.id]);else{F.includes(ue.id)||z([ue.id]),N(!0),H(D);const se=new Map;F.forEach(be=>{const Oe=y.shapes.find(Tt=>Tt.id===be);Oe&&se.set(be,{x:Oe.x,y:Oe.y})}),F.includes(ue.id)||se.set(ue.id,{x:ue.x,y:ue.y}),ee(se)}else!V.shiftKey&&!V.metaKey&&!V.ctrlKey&&z([]),_(!0),H(D)}},[r,F,n,y,to]),lc=L.useCallback(V=>{const D=xf(V,k.current);if(wt&&Me){nc(Me,D.y);return}if(!T&&!E&&!B&&!X){const ne=to(D.y);i0(ne)}if(X&&!B){const ne=Math.abs(D.x-X.x),ue=Math.abs(D.y-X.y),se=Math.min(X.x,D.x),be=Math.min(X.y,D.y);ft({x:Ye(se),y:Ye(be),width:Ye(ne),height:Ye(ue)})}else if(B&&j){const ne=Math.abs(D.x-j.x),ue=Math.abs(D.y-j.y),se=Math.min(j.x,D.x),be=Math.min(j.y,D.y);Je({x:se,y:be,width:ne,height:ue})}else if(T&&F.length>0&&j&&Y.size>0){const ne=D.x-j.x,ue=D.y-j.y;F.forEach(se=>{const be=g.current.find(h0=>h0.id===se),Oe=Y.get(se);if(!be||!Oe)return;const Tt=Zt(Ye(Oe.x+ne),0,ve-be.width),d0=Zt(Ye(Oe.y+ue),0,ve-be.height);i(se,{x:Tt,y:d0})})}else if(E&&F.length===1&&j&&A&&W){const ne=F[0],ue=D.x-j.x,se=D.y-j.y;let be={};switch(A){case"resize-nw":{const Oe=Zt(Ye(W.x+ue),0,W.x+W.width-oe),Tt=Zt(Ye(W.y+se),0,W.y+W.height-oe);be={x:Oe,y:Tt,width:Math.max(oe,W.x+W.width-Oe),height:Math.max(oe,W.y+W.height-Tt)};break}case"resize-ne":{const Oe=Zt(Ye(W.y+se),0,W.y+W.height-oe),Tt=Math.max(oe,Ye(W.width+ue));be={y:Oe,width:Zt(Tt,oe,ve-W.x),height:Math.max(oe,W.y+W.height-Oe)};break}case"resize-sw":{const Oe=Zt(Ye(W.x+ue),0,W.x+W.width-oe),Tt=Math.max(oe,Ye(W.height+se));be={x:Oe,width:Math.max(oe,W.x+W.width-Oe),height:Zt(Tt,oe,ve-W.y)};break}case"resize-se":{const Oe=Math.max(oe,Ye(W.width+ue)),Tt=Math.max(oe,Ye(W.height+se));be={width:Zt(Oe,oe,ve-W.x),height:Zt(Tt,oe,ve-W.y)};break}}i(ne,be)}},[X,T,E,B,wt,Me,F,j,Y,A,W,ve,i,nc,to]),no=L.useMemo(()=>TS(lc),[lc]);L.useEffect(()=>()=>{no.cancel()},[no]);const ro=L.useCallback(()=>{if(wt){Gn(!1),ec(null);return}if(X&&Ee&&!B&&(Ee.width>=oe&&Ee.height>=oe&&(f(),o(Ym(n,Ee.x,Ee.y,Ee.width,Ee.height))),te(null),ft(null)),B&&ze&&y){const V=[];y.shapes.forEach(D=>{D.x<ze.x+ze.width&&D.x+D.width>ze.x&&D.y<ze.y+ze.height&&D.y+D.height>ze.y&&V.push(D.id)}),z(V),Je(null),_(!1)}(T||E)&&f(),N(!1),b(!1),H(null),ee(new Map),Z(null),U(null)},[X,Ee,ze,T,E,B,wt,f,o,n,y]);L.useEffect(()=>{const V=D=>{D.target.tagName!=="INPUT"&&y&&(D.key==="Delete"||D.key==="Backspace"?F.length>0&&(D.preventDefault(),F.forEach(ne=>l(ne)),z([])):D.key==="d"||D.key==="D"?D.ctrlKey||D.metaKey?(D.preventDefault(),F.length>0&&F.forEach(ne=>d(ne))):(D.preventDefault(),a(Qe.DRAW)):D.key==="v"||D.key==="V"?D.shiftKey&&F.length>0?(D.preventDefault(),Yi()):D.shiftKey||(D.preventDefault(),a(Qe.SELECT)):D.key==="Escape"?z([]):D.key==="a"&&(D.ctrlKey||D.metaKey)?(D.preventDefault(),z(y.shapes.map(ne=>ne.id))):(D.key==="h"||D.key==="H")&&F.length>0?(D.preventDefault(),Xi()):(D.key==="r"||D.key==="R")&&F.length>0?(D.preventDefault(),Qi()):D.shiftKey&&F.length>0&&(D.key==="L"?(D.preventDefault(),pt(ie.LEFT)):D.key==="R"?(D.preventDefault(),pt(ie.RIGHT)):D.key==="T"?(D.preventDefault(),pt(ie.TOP)):D.key==="B"?(D.preventDefault(),pt(ie.BOTTOM)):D.key==="C"?(D.preventDefault(),pt(ie.CENTER_H)):D.key==="M"&&(D.preventDefault(),pt(ie.CENTER_V))))};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[F,y,l,a,Xi,Yi,Qi,d,pt]);const pr=L.useMemo(()=>y?y.shapes.filter(V=>F.includes(V.id)):[],[y,F]),c0=L.useMemo(()=>r===Qe.DRAW?"cursor-crosshair":r===Qe.SELECT&&T?"cursor-move":"cursor-default",[r,T]),f0=L.useMemo(()=>m.jsx("defs",{children:m.jsxs("pattern",{id:"grid",width:oe,height:oe,patternUnits:"userSpaceOnUse",children:[m.jsx("rect",{width:oe,height:oe,fill:"white"}),m.jsx("path",{d:`M ${oe} 0 L 0 0 0 ${oe}`,fill:"none",stroke:"#e5e7eb",strokeWidth:"1"})]})}),[]),p0=V=>{var ne;(ne=V.target.files)!=null&&ne[0]&&(alert("SVG import coming soon"),V.target.value="")};return y?m.jsxs("div",{className:"flex-1 flex flex-col bg-white p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-neutral-200",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("i",{className:"ph ph-magnifying-glass text-sm text-neutral-400"}),m.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.25",value:v,onChange:V=>S(parseFloat(V.target.value)),className:"w-20"}),m.jsxs("span",{className:"text-xs text-neutral-500 w-10",children:[(v*100).toFixed(0),"%"]})]}),m.jsx("div",{className:"w-px h-6 bg-neutral-200"}),pr.length>0&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:Xi,className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Flip Horizontal (H)",children:m.jsx("i",{className:"ph ph-arrows-left-right text-base"})}),m.jsx("button",{onClick:Yi,className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Flip Vertical (Shift+V)",children:m.jsx("i",{className:"ph ph-arrows-down-up text-base"})}),m.jsx("button",{onClick:Qi,className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Rotate 90° (R)",children:m.jsx("i",{className:"ph ph-arrow-clockwise text-base"})})]}),m.jsx("div",{className:"w-px h-6 bg-neutral-200"}),m.jsx("button",{onClick:()=>F.forEach(V=>d(V)),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Duplicate (Ctrl+D)",children:m.jsx("i",{className:"ph ph-copy text-base"})}),m.jsx("div",{className:"w-px h-6 bg-neutral-200"}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>pt(ie.LEFT),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Align Left (Shift+L)",children:m.jsx("i",{className:"ph ph-align-left text-base"})}),m.jsx("button",{onClick:()=>pt(ie.CENTER_H),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Center H (Shift+C)",children:m.jsx("i",{className:"ph ph-align-center-horizontal text-base"})}),m.jsx("button",{onClick:()=>pt(ie.RIGHT),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Align Right (Shift+R)",children:m.jsx("i",{className:"ph ph-align-right text-base"})}),m.jsx("div",{className:"w-px h-4 bg-neutral-200 mx-1"}),m.jsx("button",{onClick:()=>pt(ie.TOP),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Align Top (Shift+T)",children:m.jsx("i",{className:"ph ph-align-top text-base"})}),m.jsx("button",{onClick:()=>pt(ie.CENTER_V),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Center V (Shift+M)",children:m.jsx("i",{className:"ph ph-align-center-vertical text-base"})}),m.jsx("button",{onClick:()=>pt(ie.BOTTOM),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Align Bottom (Shift+B)",children:m.jsx("i",{className:"ph ph-align-bottom text-base"})})]}),m.jsx("div",{className:"w-px h-6 bg-neutral-200"}),m.jsx("div",{className:"text-xs text-neutral-500",children:pr.length===1?`Size: ${Math.round(pr[0].width/oe)}×${Math.round(pr[0].height/oe)}`:`${pr.length} shapes selected`}),m.jsxs("button",{onClick:()=>{F.forEach(V=>l(V)),z([])},className:"tool-btn px-3 py-1.5 rounded bg-white text-neutral-700 flex items-center gap-1.5",title:"Delete (Del)",children:[m.jsx("i",{className:"ph ph-trash text-base"}),m.jsx("span",{className:"text-xs",children:"Delete"})]}),m.jsx("div",{className:"w-px h-6 bg-neutral-200"})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:u,disabled:!p[t]||p[t].past.length===0,className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700 disabled:opacity-30",title:"Undo (Cmd+Z)",children:m.jsx("i",{className:"ph ph-arrow-counter-clockwise text-base"})}),m.jsx("button",{onClick:c,disabled:!p[t]||p[t].future.length===0,className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700 disabled:opacity-30",title:"Redo (Cmd+Shift+Z)",children:m.jsx("i",{className:"ph ph-arrow-clockwise text-base"})})]}),m.jsx("div",{className:"flex-1"}),m.jsx("button",{onClick:()=>s0(!$n),className:`tool-btn px-2.5 py-2 rounded ${$n?"bg-blue-50 text-blue-600 border border-blue-200":"bg-white text-neutral-700"}`,title:$n?"Hide Guides":"Show Guides",children:m.jsx("i",{className:"ph ph-ruler text-base"})}),$n&&m.jsx("button",{onClick:()=>l0(!pe),className:`tool-btn px-2.5 py-2 rounded ${pe?"bg-white text-neutral-700":"bg-amber-50 text-amber-600 border border-amber-200"}`,title:pe?"Unlock Guides to Edit":"Lock Guides",children:m.jsx("i",{className:`ph ${pe?"ph-lock":"ph-lock-open"} text-base`})}),m.jsx("div",{className:"w-px h-6 bg-neutral-200"}),m.jsx("button",{onClick:()=>{var V;return(V=h.current)==null?void 0:V.click()},className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700",title:"Import SVG",children:m.jsx("i",{className:"ph ph-upload-simple text-base"})}),m.jsx("button",{onClick:u0,className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700",title:"Export Glyph as SVG",children:m.jsx("i",{className:"ph ph-download-simple text-base"})}),m.jsx("div",{className:"w-px h-6 bg-neutral-200"}),m.jsx("button",{onClick:s,className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700",title:"Clear",children:m.jsx("i",{className:"ph ph-trash text-base"})}),m.jsx("input",{ref:h,type:"file",accept:".svg",onChange:p0,className:"hidden"})]}),m.jsx("div",{className:"flex-1 flex items-center justify-center bg-neutral-50",children:m.jsxs("svg",{ref:k,width:ve*v,height:ve*v,viewBox:`0 0 ${ve} ${ve}`,className:c0,style:{border:"1px solid #e5e5e5",touchAction:"none",userSelect:"none"},onMouseDown:sc,onMouseMove:no,onMouseUp:ro,onMouseLeave:ro,onPointerDown:sc,onPointerMove:no,onPointerUp:ro,onPointerLeave:ro,children:[f0,m.jsx("rect",{width:ve,height:ve,fill:"url(#grid)"}),$n&&m.jsxs("g",{className:"guides",children:[m.jsx("line",{x1:"0",y1:$e("ascender"),x2:ve,y2:$e("ascender"),stroke:et==="ascender"||Me==="ascender"?"#3b82f6":pe?"#cbd5e1":"#94a3b8",strokeWidth:et==="ascender"||Me==="ascender"?"2":"1",strokeDasharray:"4 4",opacity:pe?"0.5":"1",style:{cursor:pe?"default":"ns-resize"}}),!pe&&(et==="ascender"||Me==="ascender")&&m.jsxs("text",{x:"4",y:$e("ascender")-4,fontSize:"10",fill:"#3b82f6",fontFamily:"system-ui",children:["Ascender (",e.metrics.ascender,")"]}),m.jsx("line",{x1:"0",y1:$e("capHeight"),x2:ve,y2:$e("capHeight"),stroke:et==="capHeight"||Me==="capHeight"?"#8b5cf6":pe?"#cbd5e1":"#94a3b8",strokeWidth:et==="capHeight"||Me==="capHeight"?"2":"1",strokeDasharray:"4 4",opacity:pe?"0.5":"1",style:{cursor:pe?"default":"ns-resize"}}),!pe&&(et==="capHeight"||Me==="capHeight")&&m.jsxs("text",{x:"4",y:$e("capHeight")-4,fontSize:"10",fill:"#8b5cf6",fontFamily:"system-ui",children:["Cap Height (",e.metrics.capHeight,")"]}),m.jsx("line",{x1:"0",y1:$e("xHeight"),x2:ve,y2:$e("xHeight"),stroke:et==="xHeight"||Me==="xHeight"?"#10b981":pe?"#cbd5e1":"#94a3b8",strokeWidth:et==="xHeight"||Me==="xHeight"?"2":"1",strokeDasharray:"4 4",opacity:pe?"0.5":"1",style:{cursor:pe?"default":"ns-resize"}}),!pe&&(et==="xHeight"||Me==="xHeight")&&m.jsxs("text",{x:"4",y:$e("xHeight")-4,fontSize:"10",fill:"#10b981",fontFamily:"system-ui",children:["X-Height (",e.metrics.xHeight,")"]}),m.jsx("line",{x1:"0",y1:$e("baseline"),x2:ve,y2:$e("baseline"),stroke:et==="baseline"||Me==="baseline"?"#ef4444":pe?"#cbd5e1":"#64748b",strokeWidth:et==="baseline"||Me==="baseline"?"3":"2",opacity:pe?"0.5":"1",style:{cursor:pe?"default":"ns-resize"}}),!pe&&(et==="baseline"||Me==="baseline")&&m.jsxs("text",{x:"4",y:$e("baseline")-4,fontSize:"10",fill:"#ef4444",fontWeight:"bold",fontFamily:"system-ui",children:["Baseline (",e.metrics.baseline,")"]}),m.jsx("line",{x1:"0",y1:$e("descender"),x2:ve,y2:$e("descender"),stroke:et==="descender"||Me==="descender"?"#f59e0b":pe?"#cbd5e1":"#94a3b8",strokeWidth:et==="descender"||Me==="descender"?"2":"1",strokeDasharray:"4 4",opacity:pe?"0.5":"1",style:{cursor:pe?"default":"ns-resize"}}),!pe&&(et==="descender"||Me==="descender")&&m.jsxs("text",{x:"4",y:$e("descender")+12,fontSize:"10",fill:"#f59e0b",fontFamily:"system-ui",children:["Descender (",e.metrics.descender,")"]})]}),y.shapes.map(V=>Bh(V)),pr.map(V=>Wm(V)),Ee&&m.jsx("rect",{x:Ee.x,y:Ee.y,width:Ee.width,height:Ee.height,fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"4 4",opacity:"0.5"}),ze&&m.jsx("rect",{x:ze.x,y:ze.y,width:ze.width,height:ze.height,fill:"rgba(59, 130, 246, 0.1)",stroke:"#3b82f6",strokeWidth:"1",strokeDasharray:"4 4"})]})})]}):m.jsx("div",{className:"flex-1 flex items-center justify-center text-neutral-500",children:"Select a glyph"})},CS=({font:e,currentGlyph:t,onUpdateGlyph:n})=>{const r=e.glyphs[t];return r?m.jsxs("div",{className:"w-full h-full bg-white border-l border-neutral-200 p-4 overflow-auto",children:[m.jsx("h2",{className:"text-sm font-semibold mb-4 text-neutral-900",children:"Properties"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-medium mb-3 text-neutral-500 uppercase tracking-wide",children:"Character"}),m.jsx("div",{className:"text-4xl text-neutral-900 font-light mb-2",children:r.char===" "?"␣":r.char}),m.jsxs("div",{className:"text-xs text-neutral-500",children:["U+",r.unicode.toString(16).toUpperCase().padStart(4,"0")]})]}),m.jsxs("div",{className:"pt-4 border-t border-neutral-200",children:[m.jsx("h3",{className:"text-xs font-medium mb-3 text-neutral-500 uppercase tracking-wide",children:"Info"}),m.jsxs("div",{className:"text-xs text-neutral-600 space-y-1",children:[m.jsxs("div",{children:["Shapes: ",r.shapes.length]}),m.jsxs("div",{children:["Grid: ",r.gridSize,"×",r.gridSize]})]})]}),m.jsxs("div",{className:"pt-4 border-t border-neutral-200",children:[m.jsx("h3",{className:"text-xs font-medium mb-3 text-neutral-500 uppercase tracking-wide",children:"Grid Resolution"}),m.jsx("div",{className:"space-y-3",children:m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-neutral-500 block mb-1",children:"Grid Size"}),m.jsxs("select",{value:r.gridSize,onChange:a=>n("gridSize",parseInt(a.target.value)),className:"w-full px-2 py-1 text-xs border border-neutral-300 rounded",children:[m.jsx("option",{value:"6",children:"6×6"}),m.jsx("option",{value:"8",children:"8×8"}),m.jsx("option",{value:"10",children:"10×10"}),m.jsx("option",{value:"12",children:"12×12"}),m.jsx("option",{value:"16",children:"16×16"})]})]})})]})]})]}):null},FS=(e,t,n,r=0,a="text")=>{let o=0;const i=[],l=n.metrics.gridSize,s=t/(l*32),u=(n.metrics.tracking+r)*s;for(let c=0;c<e.length;c++){const p=e[c],f=n.glyphs[p];if(!f){o+=n.metrics.defaultAdvanceWidth*s+u;continue}const d=m.jsx("g",{transform:`translate(${o}, 0) scale(${s})`,children:f.shapes.map(x=>Mh(x,!1))},`${a}-${c}-${p}`);i.push(d),o+=f.advanceWidth*32*s+u}return{elements:i,width:o,height:t}},RS=(e,t,n,r,a=0,o="text")=>{let i=0;const l=[],s=r.gridSize,u=t/(s*32),c=(r.tracking+a)*u;for(let p=0;p<e.length;p++){const f=e[p],d=n[f];if(!d){i+=r.defaultAdvanceWidth*u+c;continue}const x=m.jsx("g",{transform:`translate(${i}, 0) scale(${u})`,children:d.shapes.map(y=>Mh(y,!1))},`${o}-${p}-${f}`);l.push(x),i+=d.advanceWidth*32*u+c}return l},_S=er.memo(({font:e})=>{const[t,n]=L.useState("Hamburgefonts"),[r,a]=L.useState(64),[o,i]=L.useState(0),l=L.useDeferredValue(o),s=L.useMemo(()=>{const c=new Set(t),p={};return c.forEach(f=>{e.glyphs[f]&&(p[f]=e.glyphs[f])}),p},[t,e]),u=L.useMemo(()=>RS(t,r,s,e.metrics,l,"preview"),[t,r,l,s,e.metrics]);return m.jsxs("div",{className:"w-full h-full bg-white p-4 flex flex-col",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3 flex-shrink-0",children:[m.jsx("input",{type:"text",value:t,onChange:c=>n(c.target.value),className:"flex-1 px-3 py-2 bg-white border border-neutral-200 rounded text-sm focus:outline-none focus:border-neutral-400",placeholder:"Preview text..."}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("i",{className:"ph ph-text-aa text-sm text-neutral-400"}),m.jsx("input",{type:"range",min:"32",max:"128",step:"8",value:r,onChange:c=>a(parseInt(c.target.value)),className:"w-24"}),m.jsxs("span",{className:"text-xs text-neutral-500 w-10",children:[r,"px"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("i",{className:"ph ph-arrows-horizontal text-sm text-neutral-400"}),m.jsx("input",{type:"range",min:"-20",max:"40",step:"1",value:o,onChange:c=>i(parseInt(c.target.value)),className:"w-24"}),m.jsxs("span",{className:"text-xs text-neutral-500 font-mono w-10",children:[o>0?"+":"",o]})]})]}),m.jsx("div",{className:"flex-1 overflow-auto flex items-center",children:m.jsx("svg",{width:"100%",height:r+20,style:{minHeight:"100%"},children:u})})]})}),LS=er.memo(({font:e})=>{const[t,n]=L.useState(0),r=L.useDeferredValue(t),a=[{size:72,text:"The quick brown fox"},{size:60,text:"The quick brown fox jumps"},{size:48,text:"The quick brown fox jumps over"},{size:36,text:"The quick brown fox jumps over the lazy dog"},{size:28,text:"Pack my box with five dozen liquor jugs"},{size:20,text:"How vexingly quick daft zebras jump!"},{size:16,text:"Sphinx of black quartz, judge my vow"},{size:12,text:"The five boxing wizards jump quickly"}],o=L.useCallback((s,u,c=0)=>FS(s,u,e,r+c,`typeface-${s.substring(0,10)}`),[e,r]),i=L.useMemo(()=>{const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",u="abcdefghijklmnopqrstuvwxyz",c="0123456789",f=o(s,48),d=o(u,48),x=o(c,48);return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-medium text-neutral-500 mb-2",children:"UPPERCASE"}),m.jsx("svg",{width:"100%",height:58,children:m.jsx("g",{transform:"translate(0, 0)",children:f.elements})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-medium text-neutral-500 mb-2",children:"LOWERCASE"}),m.jsx("svg",{width:"100%",height:58,children:m.jsx("g",{transform:"translate(0, 0)",children:d.elements})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-medium text-neutral-500 mb-2",children:"NUMBERS"}),m.jsx("svg",{width:"100%",height:58,children:m.jsx("g",{transform:"translate(0, 0)",children:x.elements})})]})]})},[o]),l=L.useMemo(()=>m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-xs font-medium text-neutral-500 mb-3",children:"WATERFALL"}),a.map((s,u)=>{const c=o(s.text,s.size);return m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("span",{className:"text-xs text-neutral-400 font-mono w-8 flex-shrink-0",children:[s.size,"px"]}),m.jsx("svg",{width:"100%",height:s.size+10,children:m.jsx("g",{transform:"translate(0, 0)",children:c.elements})})]},u)})]}),[o,a]);return m.jsxs("div",{className:"w-full h-full bg-white flex flex-col",children:[m.jsx("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-neutral-200 flex-shrink-0",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("i",{className:"ph ph-arrows-horizontal text-sm text-neutral-400"}),m.jsx("label",{className:"text-xs text-neutral-600 font-medium",children:"Tracking:"}),m.jsx("input",{type:"range",min:"-20",max:"40",step:"1",value:t,onChange:s=>n(parseInt(s.target.value)),className:"w-32"}),m.jsxs("span",{className:"text-xs text-neutral-500 font-mono w-12",children:[t>0?"+":"",t]}),t!==0&&m.jsx("button",{onClick:()=>n(0),className:"text-xs text-blue-500 hover:text-blue-600",children:"Reset"})]})}),m.jsx("div",{className:"flex-1 overflow-auto p-6",children:m.jsxs("div",{className:"space-y-12 max-w-[1400px]",children:[i,m.jsx("div",{className:"border-t border-neutral-200 pt-8",children:l})]})})]})}),NS=({font:e})=>{const[t,n]=L.useState("text");return m.jsxs("div",{className:"w-full h-full bg-white border-t border-neutral-200 flex flex-col",children:[m.jsxs("div",{className:"flex items-center border-b border-neutral-200 bg-neutral-50 flex-shrink-0",children:[m.jsxs("button",{onClick:()=>n("text"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${t==="text"?"text-blue-600 bg-white":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:[m.jsx("i",{className:"ph ph-text-aa mr-1.5"}),"Text Preview",t==="text"&&m.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600"})]}),m.jsxs("button",{onClick:()=>n("typeface"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${t==="typeface"?"text-blue-600 bg-white":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:[m.jsx("i",{className:"ph ph-grid-four mr-1.5"}),"Typeface Preview",t==="typeface"&&m.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600"})]})]}),m.jsx("div",{className:"flex-1 overflow-hidden",children:t==="text"?m.jsx(_S,{font:e}):m.jsx(LS,{font:e})})]})},OS=[{category:"Tools",items:[{keys:"V",description:"Select tool"},{keys:"D",description:"Draw tool"}]},{category:"Editing",items:[{keys:"Ctrl/Cmd + Z",description:"Undo"},{keys:"Ctrl/Cmd + Shift + Z",description:"Redo"},{keys:"Ctrl/Cmd + D",description:"Duplicate selected shape"},{keys:"Delete / Backspace",description:"Delete selected shape"},{keys:"H",description:"Flip horizontal"},{keys:"Shift + V",description:"Flip vertical"},{keys:"R",description:"Rotate 90°"}]},{category:"Alignment",items:[{keys:"Shift + L",description:"Align left"},{keys:"Shift + R",description:"Align right"},{keys:"Shift + T",description:"Align top"},{keys:"Shift + B",description:"Align bottom"},{keys:"Shift + C",description:"Center horizontally"},{keys:"Shift + M",description:"Center vertically (Middle)"}]},{category:"View",items:[{keys:"?",description:"Show shortcuts"}]}],US=({onClose:e})=>m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4",onClick:t=>t.stopPropagation(),children:[m.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[m.jsx("h2",{className:"text-xl font-bold",children:"Keyboard Shortcuts"}),m.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-neutral-600",children:m.jsx("i",{className:"ph ph-x text-xl"})})]}),m.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:OS.map(({category:t,items:n})=>m.jsxs("div",{className:"mb-6 last:mb-0",children:[m.jsx("h3",{className:"text-sm font-bold text-neutral-500 uppercase mb-3",children:t}),m.jsx("div",{className:"space-y-2",children:n.map(({keys:r,description:a})=>m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-neutral-700",children:a}),m.jsx("kbd",{className:"px-3 py-1 bg-neutral-100 border border-neutral-300 rounded text-sm font-mono",children:r})]},r))})]},t))})]})}),Os=({children:e,defaultSize:t,minSize:n=200,maxSize:r=800,direction:a,position:o,storageKey:i,className:l=""})=>{const s=()=>{if(i)try{const E=localStorage.getItem(i);if(E){const b=parseInt(E,10);return Math.max(n,Math.min(r,b))}}catch(E){console.warn("Failed to load panel size from localStorage:",E)}return t},[u,c]=L.useState(s),[p,f]=L.useState(!1),[d,x]=L.useState(!1),y=L.useRef(0),k=L.useRef(0);L.useEffect(()=>{if(i)try{localStorage.setItem(i,u.toString())}catch(E){console.warn("Failed to save panel size to localStorage:",E)}},[u,i]);const h=L.useCallback(E=>{E.preventDefault(),f(!0),y.current=a==="horizontal"?E.clientX:E.clientY,k.current=u,document.body.style.userSelect="none"},[a,u]),g=L.useCallback(E=>{if(!p)return;let B=(a==="horizontal"?E.clientX:E.clientY)-y.current;(o==="right"||o==="bottom")&&(B=-B);const _=k.current+B,F=Math.max(n,Math.min(r,_));c(F)},[p,a,o,n,r]),v=L.useCallback(()=>{f(!1),document.body.style.userSelect=""},[]);L.useEffect(()=>{if(p)return window.addEventListener("mousemove",g),window.addEventListener("mouseup",v),()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",v)}},[p,g,v]);const S=()=>a==="horizontal"?"cursor-col-resize":"cursor-row-resize",T=()=>{const E="absolute z-10 transition-colors",b="bg-transparent";if(a==="horizontal"){const B=`${E} ${b} top-0 bottom-0 w-2 ${S()}`;return o==="left"?`${B} -right-1`:`${B} -left-1`}else{const B=`${E} ${b} left-0 right-0 h-2 ${S()}`;return o==="top"?`${B} -bottom-1`:`${B} -top-1`}},N=()=>a==="horizontal"?{width:`${u}px`,flexShrink:0}:{height:`${u}px`,flexShrink:0};return m.jsxs("div",{className:`relative ${l}`,style:N(),children:[e,m.jsx("div",{className:T(),onMouseDown:h,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:(d||p)&&m.jsx("div",{className:"absolute bg-blue-500 transition-opacity pointer-events-none",style:{width:a==="horizontal"?"2px":"100%",height:a==="vertical"?"2px":"100%",left:a==="horizontal"?"50%":0,top:a==="vertical"?"50%":0,transform:a==="horizontal"?"translateX(-50%)":"translateY(-50%)",opacity:p?.8:.5}})})]})},DS=(e,t)=>({char:e,unicode:e.charCodeAt(0),gridSize:t,shapes:[],leftBearing:1,rightBearing:1,advanceWidth:t,modifiedAt:Date.now()}),PS=()=>{const e={gridSize:12,ascender:10,capHeight:8,xHeight:5,baseline:0,descender:-2,defaultAdvanceWidth:12,tracking:0},t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:-_+/?! ",n={};for(const r of t)n[r]=DS(r,e.gridSize);return{meta:{familyName:"ModGrid",styleName:"Regular"},metrics:e,glyphs:n,version:4}},zS=()=>{const[e,t]=L.useState(PS()),[n,r]=L.useState("A"),[a,o]=L.useState({}),i=L.useRef(null),l=L.useRef(new Map);L.useEffect(()=>()=>{i.current!==null&&(cancelAnimationFrame(i.current),i.current=null),l.current.clear()},[]);const s=L.useCallback(()=>{if(l.current.size===0)return;const _=new Map(l.current);l.current.clear(),t(F=>{let z=null;return _.forEach((j,H)=>{const Y=F.glyphs[H];if(!Y||j.size===0)return;let ee=!1;const W=Y.shapes.map(U=>{const A=j.get(U.id);return A?(ee=!0,{...U,...A}):U});ee&&(z||(z={...F.glyphs}),z[H]={...Y,shapes:W,modifiedAt:Date.now()})}),z?{...F,glyphs:z}:F})},[]),u=L.useCallback(()=>{i.current===null&&(i.current=requestAnimationFrame(()=>{i.current=null,s(),l.current.size>0&&u()}))},[s]),c=L.useCallback((_,F)=>{const z=l.current.get(_);return!z||z.size===0?F.shapes.map(j=>({...j})):F.shapes.map(j=>{const H=z.get(j.id);return H?{...j,...H}:{...j}})},[]),p=L.useCallback((_,F)=>{const z=l.current.get(_);z&&(z.delete(F),z.size===0&&l.current.delete(_))},[]),f=L.useCallback(_=>{l.current.delete(_)},[]),d=L.useCallback(()=>{i.current!==null&&(cancelAnimationFrame(i.current),i.current=null)},[]),x=L.useCallback(()=>{const _=e.glyphs[n];if(!_)return;const F=c(n,_);o(z=>{const H=[...(z[n]||{past:[]}).past,F];return H.length>50&&H.shift(),{...z,[n]:{past:H,future:[]}}}),u()},[e,n,c,u]),y=L.useCallback(_=>{d(),s(),t(F=>{const z=F.glyphs[n];return z?{...F,glyphs:{...F.glyphs,[n]:{...z,shapes:[...z.shapes,_],modifiedAt:Date.now()}}}:F})},[n,d,s]),k=L.useCallback((_,F)=>{if(!F||Object.keys(F).length===0)return;const z=n,j=l.current;let H=j.get(z);H||(H=new Map,j.set(z,H));const Y=H.get(_);H.set(_,Y?{...Y,...F}:{...F}),u()},[n,u]),h=L.useCallback(_=>{e.glyphs[n]&&(x(),p(n,_),t(z=>{const j=z.glyphs[n];if(!j)return z;const H=j.shapes.filter(Y=>Y.id!==_);return H.length===j.shapes.length?z:{...z,glyphs:{...z.glyphs,[n]:{...j,shapes:H,modifiedAt:Date.now()}}}}))},[e,n,x,p]),g=L.useCallback(_=>{const F=e.glyphs[n];if(!F)return;const j=c(n,F).find(ee=>ee.id===_);if(!j)return;x();const H=32,Y={...j,id:Date.now()+Math.random(),x:j.x+H,y:j.y+H};t(ee=>{const W=ee.glyphs[n];return W?{...ee,glyphs:{...ee.glyphs,[n]:{...W,shapes:[...W.shapes,Y],modifiedAt:Date.now()}}}:ee})},[e,n,c,x]),v=L.useCallback(()=>{const _=e.glyphs[n];_&&(_.shapes.length>0&&!confirm(`Clear all shapes from "${_.char}"?`)||(x(),d(),f(n),t(F=>{const z=F.glyphs[n];return z?{...F,glyphs:{...F.glyphs,[n]:{...z,shapes:[],modifiedAt:Date.now()}}}:F})))},[e,n,x,d,f]),S=L.useCallback(()=>{const _=a[n];if(!_||_.past.length===0)return;d(),f(n);const F=e.glyphs[n];if(!F)return;const z=_.past[_.past.length-1],j=_.past.slice(0,-1),H=[[...c(n,F)],..._.future];t(Y=>{const ee=Y.glyphs[n];return ee?{...Y,glyphs:{...Y.glyphs,[n]:{...ee,shapes:z,modifiedAt:Date.now()}}}:Y}),o(Y=>({...Y,[n]:{past:j,future:H}}))},[e,n,a,c,d,f]),T=L.useCallback(()=>{const _=a[n];if(!_||_.future.length===0)return;d(),f(n);const F=e.glyphs[n];if(!F)return;const z=_.future[0],j=[..._.past,[...c(n,F)]],H=_.future.slice(1);t(Y=>{const ee=Y.glyphs[n];return ee?{...Y,glyphs:{...Y.glyphs,[n]:{...ee,shapes:z,modifiedAt:Date.now()}}}:Y}),o(Y=>({...Y,[n]:{past:j,future:H}}))},[e,n,a,c,d,f]),N=L.useCallback((_,F)=>{d(),s(),t(z=>{const j=z.glyphs[n];return j?{...z,glyphs:{...z.glyphs,[n]:{...j,[_]:F,modifiedAt:Date.now()}}}:z})},[n,d,s]),E=L.useCallback(_=>{t(F=>({...F,metrics:{...F.metrics,..._}}))},[]),b=L.useCallback(_=>{d(),l.current.clear(),t(_),o({}),r(Object.keys(_.glyphs)[0]??"A")},[d]),B=L.useCallback(_=>{d(),s(),r(_)},[d,s]);return{font:e,currentGlyph:n,history:a,setCurrentGlyph:B,saveToHistory:x,addShape:y,updateShape:k,deleteShape:h,duplicateShape:g,clearGlyph:v,undo:S,redo:T,updateGlyph:N,updateMetrics:E,importFont:b}};function IS(e,t=[]){L.useEffect(()=>{const n=r=>{if(r.target.tagName!=="INPUT"&&r.target.tagName!=="TEXTAREA")for(const a of e){const o=a.ctrl===void 0||a.ctrl===(r.ctrlKey||r.metaKey),i=a.shift===void 0||a.shift===r.shiftKey,l=a.meta===void 0||a.meta===r.metaKey,s=r.key.toLowerCase()===a.key.toLowerCase();if(o&&i&&l&&s){r.preventDefault(),a.handler();break}}};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e,...t])}function C(e,t,n){function r(l,s){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(e),t(l,s);for(const c in i.prototype)c in l||Object.defineProperty(l,c,{value:i.prototype[c].bind(l)});l._zod.constr=i,l._zod.def=s}const a=(n==null?void 0:n.Parent)??Object;class o extends a{}Object.defineProperty(o,"name",{value:e});function i(l){var s;const u=n!=null&&n.Parent?new o:this;r(u,l),(s=u._zod).deferred??(s.deferred=[]);for(const c of u._zod.deferred)c();return u}return Object.defineProperty(i,"init",{value:r}),Object.defineProperty(i,Symbol.hasInstance,{value:l=>{var s,u;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(u=(s=l==null?void 0:l._zod)==null?void 0:s.traits)==null?void 0:u.has(e)}}),Object.defineProperty(i,"name",{value:e}),i}class Ir extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Pv extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const zv={};function zn(e){return zv}function AS(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function Il(e,t){return typeof t=="bigint"?t.toString():t}function Wu(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Vu(e){return e==null}function Xu(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function MS(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const s=r.match(/\d?e-(\d?)/);s!=null&&s[1]&&(a=Number.parseInt(s[1]))}const o=n>a?n:a,i=Number.parseInt(e.toFixed(o).replace(".","")),l=Number.parseInt(t.toFixed(o).replace(".",""));return i%l/10**o}const op=Symbol("evaluating");function he(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==op)return r===void 0&&(r=op,r=n()),r},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function ur(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function cr(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function ip(e){return JSON.stringify(e)}const Iv="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function wi(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const BS=Wu(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Wr(e){if(wi(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(wi(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Av(e){return Wr(e)?{...e}:Array.isArray(e)?[...e]:e}const jS=new Set(["string","number","symbol"]);function Hi(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function jn(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function Q(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function GS(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const $S={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function HS(e,t){const n=e._zod.def,r=cr(e._zod.def,{get shape(){const a={};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(a[o]=n.shape[o])}return ur(this,"shape",a),a},checks:[]});return jn(e,r)}function ZS(e,t){const n=e._zod.def,r=cr(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete a[o]}return ur(this,"shape",a),a},checks:[]});return jn(e,r)}function WS(e,t){if(!Wr(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=cr(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return ur(this,"shape",o),o},checks:[]});return jn(e,a)}function VS(e,t){if(!Wr(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return ur(this,"shape",r),r},checks:e._zod.def.checks};return jn(e,n)}function XS(e,t){const n=cr(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return ur(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return jn(e,n)}function YS(e,t,n){const r=cr(t._zod.def,{get shape(){const a=t._zod.def.shape,o={...a};if(n)for(const i in n){if(!(i in a))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(o[i]=e?new e({type:"optional",innerType:a[i]}):a[i])}else for(const i in a)o[i]=e?new e({type:"optional",innerType:a[i]}):a[i];return ur(this,"shape",o),o},checks:[]});return jn(t,r)}function QS(e,t,n){const r=cr(t._zod.def,{get shape(){const a=t._zod.def.shape,o={...a};if(n)for(const i in n){if(!(i in o))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(o[i]=new e({type:"nonoptional",innerType:a[i]}))}else for(const i in a)o[i]=new e({type:"nonoptional",innerType:a[i]});return ur(this,"shape",o),o},checks:[]});return jn(t,r)}function Rr(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function _r(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Ro(e){return typeof e=="string"?e:e==null?void 0:e.message}function In(e,t,n){var a,o,i,l,s,u;const r={...e,path:e.path??[]};if(!e.message){const c=Ro((i=(o=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:o.error)==null?void 0:i.call(o,e))??Ro((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??Ro((s=n.customError)==null?void 0:s.call(n,e))??Ro((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=c}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Yu(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ga(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Mv=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Il,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Bv=C("$ZodError",Mv),jv=C("$ZodError",Mv,{Parent:Error});function KS(e,t=n=>n.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function qS(e,t=n=>n.message){const n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(i=>r({issues:i}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(t(o));else{let i=n,l=0;for(;l<o.path.length;){const s=o.path[l];l===o.path.length-1?(i[s]=i[s]||{_errors:[]},i[s]._errors.push(t(o))):i[s]=i[s]||{_errors:[]},i=i[s],l++}}};return r(e),n}const Qu=e=>(t,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new Ir;if(i.issues.length){const l=new((a==null?void 0:a.Err)??e)(i.issues.map(s=>In(s,o,zn())));throw Iv(l,a==null?void 0:a.callee),l}return i.value},Ku=e=>async(t,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise&&(i=await i),i.issues.length){const l=new((a==null?void 0:a.Err)??e)(i.issues.map(s=>In(s,o,zn())));throw Iv(l,a==null?void 0:a.callee),l}return i.value},Zi=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new Ir;return o.issues.length?{success:!1,error:new(e??Bv)(o.issues.map(i=>In(i,a,zn())))}:{success:!0,data:o.value}},JS=Zi(jv),Wi=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(i=>In(i,a,zn())))}:{success:!0,data:o.value}},ew=Wi(jv),tw=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Qu(e)(t,n,a)},nw=e=>(t,n,r)=>Qu(e)(t,n,r),rw=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ku(e)(t,n,a)},aw=e=>async(t,n,r)=>Ku(e)(t,n,r),ow=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Zi(e)(t,n,a)},iw=e=>(t,n,r)=>Zi(e)(t,n,r),sw=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Wi(e)(t,n,a)},lw=e=>async(t,n,r)=>Wi(e)(t,n,r),uw=/^[cC][^\s-]{8,}$/,cw=/^[0-9a-z]+$/,fw=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,pw=/^[0-9a-vA-V]{20}$/,dw=/^[A-Za-z0-9]{27}$/,hw=/^[a-zA-Z0-9_-]{21}$/,vw=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,gw=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,sp=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,mw=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,yw="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function xw(){return new RegExp(yw,"u")}const kw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Sw=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,ww=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Tw=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ew=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Gv=/^[A-Za-z0-9_-]*$/,bw=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Cw=/^\+(?:[0-9]){6,14}[0-9]$/,$v="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Fw=new RegExp(`^${$v}$`);function Hv(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Rw(e){return new RegExp(`^${Hv(e)}$`)}function _w(e){const t=Hv({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${$v}T(?:${r})$`)}const Lw=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Nw=/^-?\d+$/,Ow=/^-?\d+(?:\.\d+)?/,Uw=/^[^A-Z]*$/,Dw=/^[^a-z]*$/,ct=C("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Zv={number:"number",bigint:"bigint",object:"date"},Wv=C("$ZodCheckLessThan",(e,t)=>{ct.init(e,t);const n=Zv[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Vv=C("$ZodCheckGreaterThan",(e,t)=>{ct.init(e,t);const n=Zv[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Pw=C("$ZodCheckMultipleOf",(e,t)=>{ct.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):MS(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),zw=C("$ZodCheckNumberFormat",(e,t)=>{var i;ct.init(e,t),t.format=t.format||"float64";const n=(i=t.format)==null?void 0:i.includes("int"),r=n?"int":"number",[a,o]=$S[t.format];e._zod.onattach.push(l=>{const s=l._zod.bag;s.format=t.format,s.minimum=a,s.maximum=o,n&&(s.pattern=Nw)}),e._zod.check=l=>{const s=l.value;if(n){if(!Number.isInteger(s)){l.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});return}if(!Number.isSafeInteger(s)){s>0?l.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):l.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}s<a&&l.issues.push({origin:"number",input:s,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),s>o&&l.issues.push({origin:"number",input:s,code:"too_big",maximum:o,inst:e})}}),Iw=C("$ZodCheckMaxLength",(e,t)=>{var n;ct.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Vu(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const i=Yu(a);r.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Aw=C("$ZodCheckMinLength",(e,t)=>{var n;ct.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Vu(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const i=Yu(a);r.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Mw=C("$ZodCheckLengthEquals",(e,t)=>{var n;ct.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Vu(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,o=a.length;if(o===t.length)return;const i=Yu(a),l=o>t.length;r.issues.push({origin:i,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Vi=C("$ZodCheckStringFormat",(e,t)=>{var n,r;ct.init(e,t),e._zod.onattach.push(a=>{const o=a._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),Bw=C("$ZodCheckRegex",(e,t)=>{Vi.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),jw=C("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Uw),Vi.init(e,t)}),Gw=C("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Dw),Vi.init(e,t)}),$w=C("$ZodCheckIncludes",(e,t)=>{ct.init(e,t);const n=Hi(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),Hw=C("$ZodCheckStartsWith",(e,t)=>{ct.init(e,t);const n=new RegExp(`^${Hi(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),Zw=C("$ZodCheckEndsWith",(e,t)=>{ct.init(e,t);const n=new RegExp(`.*${Hi(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),Ww=C("$ZodCheckOverwrite",(e,t)=>{ct.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class Vw{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(i=>i),a=Math.min(...r.map(i=>i.length-i.trimStart().length)),o=r.map(i=>i.slice(a)).map(i=>" ".repeat(this.indent*2)+i);for(const i of o)this.content.push(i)}compile(){const t=Function,n=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,a.join(`
`))}}const Xw={major:4,minor:1,patch:12},Ne=C("$ZodType",(e,t)=>{var a;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Xw;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const i of o._zod.onattach)i(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const o=(l,s,u)=>{let c=Rr(l),p;for(const f of s){if(f._zod.def.when){if(!f._zod.def.when(l))continue}else if(c)continue;const d=l.issues.length,x=f._zod.check(l);if(x instanceof Promise&&(u==null?void 0:u.async)===!1)throw new Ir;if(p||x instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await x,l.issues.length!==d&&(c||(c=Rr(l,d)))});else{if(l.issues.length===d)continue;c||(c=Rr(l,d))}}return p?p.then(()=>l):l},i=(l,s,u)=>{if(Rr(l))return l.aborted=!0,l;const c=o(s,r,u);if(c instanceof Promise){if(u.async===!1)throw new Ir;return c.then(p=>e._zod.parse(p,u))}return e._zod.parse(c,u)};e._zod.run=(l,s)=>{if(s.skipChecks)return e._zod.parse(l,s);if(s.direction==="backward"){const c=e._zod.parse({value:l.value,issues:[]},{...s,skipChecks:!0});return c instanceof Promise?c.then(p=>i(p,l,s)):i(c,l,s)}const u=e._zod.parse(l,s);if(u instanceof Promise){if(s.async===!1)throw new Ir;return u.then(c=>o(c,r,s))}return o(u,r,s)}}e["~standard"]={validate:o=>{var i;try{const l=JS(e,o);return l.success?{value:l.data}:{issues:(i=l.error)==null?void 0:i.issues}}catch{return ew(e,o).then(s=>{var u;return s.success?{value:s.data}:{issues:(u=s.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),qu=C("$ZodString",(e,t)=>{var n;Ne.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??Lw(e._zod.bag),e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),xe=C("$ZodStringFormat",(e,t)=>{Vi.init(e,t),qu.init(e,t)}),Yw=C("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=gw),xe.init(e,t)}),Qw=C("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=sp(r))}else t.pattern??(t.pattern=sp());xe.init(e,t)}),Kw=C("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=mw),xe.init(e,t)}),qw=C("$ZodURL",(e,t)=>{xe.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:bw.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Jw=C("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=xw()),xe.init(e,t)}),e2=C("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=hw),xe.init(e,t)}),t2=C("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=uw),xe.init(e,t)}),n2=C("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=cw),xe.init(e,t)}),r2=C("$ZodULID",(e,t)=>{t.pattern??(t.pattern=fw),xe.init(e,t)}),a2=C("$ZodXID",(e,t)=>{t.pattern??(t.pattern=pw),xe.init(e,t)}),o2=C("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=dw),xe.init(e,t)}),i2=C("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=_w(t)),xe.init(e,t)}),s2=C("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Fw),xe.init(e,t)}),l2=C("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Rw(t)),xe.init(e,t)}),u2=C("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=vw),xe.init(e,t)}),c2=C("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=kw),xe.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),f2=C("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Sw),xe.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),p2=C("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=ww),xe.init(e,t)}),d2=C("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Tw),xe.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,o]=r;if(!o)throw new Error;const i=Number(o);if(`${i}`!==o)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Xv(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const h2=C("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Ew),xe.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{Xv(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function v2(e){if(!Gv.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Xv(n)}const g2=C("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Gv),xe.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{v2(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),m2=C("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Cw),xe.init(e,t)});function y2(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const x2=C("$ZodJWT",(e,t)=>{xe.init(e,t),e._zod.check=n=>{y2(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Yv=C("$ZodNumber",(e,t)=>{Ne.init(e,t),e._zod.pattern=e._zod.bag.pattern??Ow,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...o?{received:o}:{}}),n}}),k2=C("$ZodNumber",(e,t)=>{zw.init(e,t),Yv.init(e,t)}),S2=C("$ZodUnknown",(e,t)=>{Ne.init(e,t),e._zod.parse=n=>n}),w2=C("$ZodNever",(e,t)=>{Ne.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function lp(e,t,n){e.issues.length&&t.issues.push(..._r(n,e.issues)),t.value[n]=e.value}const T2=C("$ZodArray",(e,t)=>{Ne.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const o=[];for(let i=0;i<a.length;i++){const l=a[i],s=t.element._zod.run({value:l,issues:[]},r);s instanceof Promise?o.push(s.then(u=>lp(u,n,i))):lp(s,n,i)}return o.length?Promise.all(o).then(()=>n):n}});function Ti(e,t,n,r){e.issues.length&&t.issues.push(..._r(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Qv(e){var r,a,o,i;const t=Object.keys(e.shape);for(const l of t)if(!((i=(o=(a=(r=e.shape)==null?void 0:r[l])==null?void 0:a._zod)==null?void 0:o.traits)!=null&&i.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=GS(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Kv(e,t,n,r,a,o){const i=[],l=a.keySet,s=a.catchall._zod,u=s.def.type;for(const c of Object.keys(t)){if(l.has(c))continue;if(u==="never"){i.push(c);continue}const p=s.run({value:t[c],issues:[]},r);p instanceof Promise?e.push(p.then(f=>Ti(f,n,c,t))):Ti(p,n,c,t)}return i.length&&n.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const E2=C("$ZodObject",(e,t)=>{Ne.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const s={...l};return Object.defineProperty(t,"shape",{value:s}),s}})}const r=Wu(()=>Qv(t));he(e._zod,"propValues",()=>{const l=t.shape,s={};for(const u in l){const c=l[u]._zod;if(c.values){s[u]??(s[u]=new Set);for(const p of c.values)s[u].add(p)}}return s});const a=wi,o=t.catchall;let i;e._zod.parse=(l,s)=>{i??(i=r.value);const u=l.value;if(!a(u))return l.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),l;l.value={};const c=[],p=i.shape;for(const f of i.keys){const x=p[f]._zod.run({value:u[f],issues:[]},s);x instanceof Promise?c.push(x.then(y=>Ti(y,l,f,u))):Ti(x,l,f,u)}return o?Kv(c,u,l,s,r.value,e):c.length?Promise.all(c).then(()=>l):l}}),b2=C("$ZodObjectJIT",(e,t)=>{E2.init(e,t);const n=e._zod.parse,r=Wu(()=>Qv(t)),a=f=>{const d=new Vw(["shape","payload","ctx"]),x=r.value,y=v=>{const S=ip(v);return`shape[${S}]._zod.run({ value: input[${S}], issues: [] }, ctx)`};d.write("const input = payload.value;");const k=Object.create(null);let h=0;for(const v of x.keys)k[v]=`key_${h++}`;d.write("const newResult = {};");for(const v of x.keys){const S=k[v],T=ip(v);d.write(`const ${S} = ${y(v)};`),d.write(`
        if (${S}.issues.length) {
          payload.issues = payload.issues.concat(${S}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${T}, ...iss.path] : [${T}]
          })));
        }
        
        
        if (${S}.value === undefined) {
          if (${T} in input) {
            newResult[${T}] = undefined;
          }
        } else {
          newResult[${T}] = ${S}.value;
        }
        
      `)}d.write("payload.value = newResult;"),d.write("return payload;");const g=d.compile();return(v,S)=>g(f,v,S)};let o;const i=wi,l=!zv.jitless,u=l&&BS.value,c=t.catchall;let p;e._zod.parse=(f,d)=>{p??(p=r.value);const x=f.value;return i(x)?l&&u&&(d==null?void 0:d.async)===!1&&d.jitless!==!0?(o||(o=a(t.shape)),f=o(f,d),c?Kv([],x,f,d,p,e):f):n(f,d):(f.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),f)}});function up(e,t,n,r){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const a=e.filter(o=>!Rr(o));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(o=>o.issues.map(i=>In(i,r,zn())))}),t)}const C2=C("$ZodUnion",(e,t)=>{Ne.init(e,t),he(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),he(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),he(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),he(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>Xu(o.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(a,o)=>{if(n)return r(a,o);let i=!1;const l=[];for(const s of t.options){const u=s._zod.run({value:a.value,issues:[]},o);if(u instanceof Promise)l.push(u),i=!0;else{if(u.issues.length===0)return u;l.push(u)}}return i?Promise.all(l).then(s=>up(s,a,e,o)):up(l,a,e,o)}}),F2=C("$ZodIntersection",(e,t)=>{Ne.init(e,t),e._zod.parse=(n,r)=>{const a=n.value,o=t.left._zod.run({value:a,issues:[]},r),i=t.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||i instanceof Promise?Promise.all([o,i]).then(([s,u])=>cp(n,s,u)):cp(n,o,i)}});function Al(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Wr(e)&&Wr(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),a={...e,...t};for(const o of r){const i=Al(e[o],t[o]);if(!i.valid)return{valid:!1,mergeErrorPath:[o,...i.mergeErrorPath]};a[o]=i.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=e[r],o=t[r],i=Al(a,o);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function cp(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Rr(e))return e;const r=Al(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const R2=C("$ZodRecord",(e,t)=>{Ne.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Wr(a))return n.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),n;const o=[];if(t.keyType._zod.values){const i=t.keyType._zod.values;n.value={};for(const s of i)if(typeof s=="string"||typeof s=="number"||typeof s=="symbol"){const u=t.valueType._zod.run({value:a[s],issues:[]},r);u instanceof Promise?o.push(u.then(c=>{c.issues.length&&n.issues.push(..._r(s,c.issues)),n.value[s]=c.value})):(u.issues.length&&n.issues.push(..._r(s,u.issues)),n.value[s]=u.value)}let l;for(const s in a)i.has(s)||(l=l??[],l.push(s));l&&l.length>0&&n.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:l})}else{n.value={};for(const i of Reflect.ownKeys(a)){if(i==="__proto__")continue;const l=t.keyType._zod.run({value:i,issues:[]},r);if(l instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(l.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(u=>In(u,r,zn())),input:i,path:[i],inst:e}),n.value[l.value]=l.value;continue}const s=t.valueType._zod.run({value:a[i],issues:[]},r);s instanceof Promise?o.push(s.then(u=>{u.issues.length&&n.issues.push(..._r(i,u.issues)),n.value[l.value]=u.value})):(s.issues.length&&n.issues.push(..._r(i,s.issues)),n.value[l.value]=s.value)}}return o.length?Promise.all(o).then(()=>n):n}}),_2=C("$ZodEnum",(e,t)=>{Ne.init(e,t);const n=AS(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(a=>jS.has(typeof a)).map(a=>typeof a=="string"?Hi(a):a.toString()).join("|")})$`),e._zod.parse=(a,o)=>{const i=a.value;return r.has(i)||a.issues.push({code:"invalid_value",values:n,input:i,inst:e}),a}}),L2=C("$ZodTransform",(e,t)=>{Ne.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Pv(e.constructor.name);const a=t.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(i=>(n.value=i,n));if(a instanceof Promise)throw new Ir;return n.value=a,n}});function fp(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const N2=C("$ZodOptional",(e,t)=>{Ne.init(e,t),e._zod.optin="optional",e._zod.optout="optional",he(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),he(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Xu(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>fp(o,n.value)):fp(a,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),O2=C("$ZodNullable",(e,t)=>{Ne.init(e,t),he(e._zod,"optin",()=>t.innerType._zod.optin),he(e._zod,"optout",()=>t.innerType._zod.optout),he(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Xu(n.source)}|null)$`):void 0}),he(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),U2=C("$ZodDefault",(e,t)=>{Ne.init(e,t),e._zod.optin="optional",he(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>pp(o,t)):pp(a,t)}});function pp(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const D2=C("$ZodPrefault",(e,t)=>{Ne.init(e,t),e._zod.optin="optional",he(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),P2=C("$ZodNonOptional",(e,t)=>{Ne.init(e,t),he(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>dp(o,e)):dp(a,e)}});function dp(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const z2=C("$ZodCatch",(e,t)=>{Ne.init(e,t),he(e._zod,"optin",()=>t.innerType._zod.optin),he(e._zod,"optout",()=>t.innerType._zod.optout),he(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(i=>In(i,r,zn()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(o=>In(o,r,zn()))},input:n.value}),n.issues=[]),n)}}),I2=C("$ZodPipe",(e,t)=>{Ne.init(e,t),he(e._zod,"values",()=>t.in._zod.values),he(e._zod,"optin",()=>t.in._zod.optin),he(e._zod,"optout",()=>t.out._zod.optout),he(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=t.out._zod.run(n,r);return o instanceof Promise?o.then(i=>_o(i,t.in,r)):_o(o,t.in,r)}const a=t.in._zod.run(n,r);return a instanceof Promise?a.then(o=>_o(o,t.out,r)):_o(a,t.out,r)}});function _o(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const A2=C("$ZodReadonly",(e,t)=>{Ne.init(e,t),he(e._zod,"propValues",()=>t.innerType._zod.propValues),he(e._zod,"values",()=>t.innerType._zod.values),he(e._zod,"optin",()=>t.innerType._zod.optin),he(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(hp):hp(a)}});function hp(e){return e.value=Object.freeze(e.value),e}const M2=C("$ZodCustom",(e,t)=>{ct.init(e,t),Ne.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(o=>vp(o,n,r,e));vp(a,n,r,e)}});function vp(e,t,n,r){if(!e){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(Ga(a))}}class B2{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function j2(){return new B2}const Lo=j2();function G2(e,t){return new e({type:"string",...Q(t)})}function $2(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Q(t)})}function gp(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Q(t)})}function H2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Q(t)})}function Z2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Q(t)})}function W2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Q(t)})}function V2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Q(t)})}function X2(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Q(t)})}function Y2(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Q(t)})}function Q2(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Q(t)})}function K2(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Q(t)})}function q2(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Q(t)})}function J2(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Q(t)})}function eT(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Q(t)})}function tT(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Q(t)})}function nT(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Q(t)})}function rT(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Q(t)})}function aT(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Q(t)})}function oT(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Q(t)})}function iT(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Q(t)})}function sT(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Q(t)})}function lT(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Q(t)})}function uT(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Q(t)})}function cT(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Q(t)})}function fT(e,t){return new e({type:"string",format:"date",check:"string_format",...Q(t)})}function pT(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Q(t)})}function dT(e,t){return new e({type:"string",format:"duration",check:"string_format",...Q(t)})}function hT(e,t){return new e({type:"number",checks:[],...Q(t)})}function vT(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Q(t)})}function gT(e){return new e({type:"unknown"})}function mT(e,t){return new e({type:"never",...Q(t)})}function mp(e,t){return new Wv({check:"less_than",...Q(t),value:e,inclusive:!1})}function Us(e,t){return new Wv({check:"less_than",...Q(t),value:e,inclusive:!0})}function yp(e,t){return new Vv({check:"greater_than",...Q(t),value:e,inclusive:!1})}function Ds(e,t){return new Vv({check:"greater_than",...Q(t),value:e,inclusive:!0})}function xp(e,t){return new Pw({check:"multiple_of",...Q(t),value:e})}function qv(e,t){return new Iw({check:"max_length",...Q(t),maximum:e})}function Ei(e,t){return new Aw({check:"min_length",...Q(t),minimum:e})}function Jv(e,t){return new Mw({check:"length_equals",...Q(t),length:e})}function yT(e,t){return new Bw({check:"string_format",format:"regex",...Q(t),pattern:e})}function xT(e){return new jw({check:"string_format",format:"lowercase",...Q(e)})}function kT(e){return new Gw({check:"string_format",format:"uppercase",...Q(e)})}function ST(e,t){return new $w({check:"string_format",format:"includes",...Q(t),includes:e})}function wT(e,t){return new Hw({check:"string_format",format:"starts_with",...Q(t),prefix:e})}function TT(e,t){return new Zw({check:"string_format",format:"ends_with",...Q(t),suffix:e})}function Ja(e){return new Ww({check:"overwrite",tx:e})}function ET(e){return Ja(t=>t.normalize(e))}function bT(){return Ja(e=>e.trim())}function CT(){return Ja(e=>e.toLowerCase())}function FT(){return Ja(e=>e.toUpperCase())}function RT(e,t,n){return new e({type:"array",element:t,...Q(n)})}function _T(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Q(n)})}function LT(e){const t=NT(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Ga(r,n.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),n.issues.push(Ga(a))}},e(n.value,n)));return t}function NT(e,t){const n=new ct({check:"custom",...Q(t)});return n._zod.check=e,n}const OT=C("ZodISODateTime",(e,t)=>{i2.init(e,t),Te.init(e,t)});function UT(e){return cT(OT,e)}const DT=C("ZodISODate",(e,t)=>{s2.init(e,t),Te.init(e,t)});function PT(e){return fT(DT,e)}const zT=C("ZodISOTime",(e,t)=>{l2.init(e,t),Te.init(e,t)});function IT(e){return pT(zT,e)}const AT=C("ZodISODuration",(e,t)=>{u2.init(e,t),Te.init(e,t)});function MT(e){return dT(AT,e)}const e0=(e,t)=>{Bv.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>qS(e,n)},flatten:{value:n=>KS(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Il,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Il,2)}},isEmpty:{get(){return e.issues.length===0}}})},BT=C("ZodError",e0),Lt=C("ZodError",e0,{Parent:Error}),jT=Qu(Lt),GT=Ku(Lt),$T=Zi(Lt),HT=Wi(Lt),ZT=tw(Lt),WT=nw(Lt),VT=rw(Lt),XT=aw(Lt),YT=ow(Lt),QT=iw(Lt),KT=sw(Lt),qT=lw(Lt),Pe=C("ZodType",(e,t)=>(Ne.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(cr(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>jn(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>jT(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>$T(e,n,r),e.parseAsync=async(n,r)=>GT(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>HT(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>ZT(e,n,r),e.decode=(n,r)=>WT(e,n,r),e.encodeAsync=async(n,r)=>VT(e,n,r),e.decodeAsync=async(n,r)=>XT(e,n,r),e.safeEncode=(n,r)=>YT(e,n,r),e.safeDecode=(n,r)=>QT(e,n,r),e.safeEncodeAsync=async(n,r)=>KT(e,n,r),e.safeDecodeAsync=async(n,r)=>qT(e,n,r),e.refine=(n,r)=>e.check($E(n,r)),e.superRefine=n=>e.check(HE(n)),e.overwrite=n=>e.check(Ja(n)),e.optional=()=>Tp(e),e.nullable=()=>Ep(e),e.nullish=()=>Tp(Ep(e)),e.nonoptional=n=>zE(e,n),e.array=()=>r0(e),e.or=n=>EE([e,n]),e.and=n=>CE(e,n),e.transform=n=>bp(e,LE(n)),e.default=n=>UE(e,n),e.prefault=n=>PE(e,n),e.catch=n=>AE(e,n),e.pipe=n=>bp(e,n),e.readonly=()=>jE(e),e.describe=n=>{const r=e.clone();return Lo.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Lo.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Lo.get(e);const r=e.clone();return Lo.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),t0=C("_ZodString",(e,t)=>{qu.init(e,t),Pe.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(yT(...r)),e.includes=(...r)=>e.check(ST(...r)),e.startsWith=(...r)=>e.check(wT(...r)),e.endsWith=(...r)=>e.check(TT(...r)),e.min=(...r)=>e.check(Ei(...r)),e.max=(...r)=>e.check(qv(...r)),e.length=(...r)=>e.check(Jv(...r)),e.nonempty=(...r)=>e.check(Ei(1,...r)),e.lowercase=r=>e.check(xT(r)),e.uppercase=r=>e.check(kT(r)),e.trim=()=>e.check(bT()),e.normalize=(...r)=>e.check(ET(...r)),e.toLowerCase=()=>e.check(CT()),e.toUpperCase=()=>e.check(FT())}),JT=C("ZodString",(e,t)=>{qu.init(e,t),t0.init(e,t),e.email=n=>e.check($2(eE,n)),e.url=n=>e.check(X2(tE,n)),e.jwt=n=>e.check(uT(gE,n)),e.emoji=n=>e.check(Y2(nE,n)),e.guid=n=>e.check(gp(kp,n)),e.uuid=n=>e.check(H2(No,n)),e.uuidv4=n=>e.check(Z2(No,n)),e.uuidv6=n=>e.check(W2(No,n)),e.uuidv7=n=>e.check(V2(No,n)),e.nanoid=n=>e.check(Q2(rE,n)),e.guid=n=>e.check(gp(kp,n)),e.cuid=n=>e.check(K2(aE,n)),e.cuid2=n=>e.check(q2(oE,n)),e.ulid=n=>e.check(J2(iE,n)),e.base64=n=>e.check(iT(dE,n)),e.base64url=n=>e.check(sT(hE,n)),e.xid=n=>e.check(eT(sE,n)),e.ksuid=n=>e.check(tT(lE,n)),e.ipv4=n=>e.check(nT(uE,n)),e.ipv6=n=>e.check(rT(cE,n)),e.cidrv4=n=>e.check(aT(fE,n)),e.cidrv6=n=>e.check(oT(pE,n)),e.e164=n=>e.check(lT(vE,n)),e.datetime=n=>e.check(UT(n)),e.date=n=>e.check(PT(n)),e.time=n=>e.check(IT(n)),e.duration=n=>e.check(MT(n))});function bi(e){return G2(JT,e)}const Te=C("ZodStringFormat",(e,t)=>{xe.init(e,t),t0.init(e,t)}),eE=C("ZodEmail",(e,t)=>{Kw.init(e,t),Te.init(e,t)}),kp=C("ZodGUID",(e,t)=>{Yw.init(e,t),Te.init(e,t)}),No=C("ZodUUID",(e,t)=>{Qw.init(e,t),Te.init(e,t)}),tE=C("ZodURL",(e,t)=>{qw.init(e,t),Te.init(e,t)}),nE=C("ZodEmoji",(e,t)=>{Jw.init(e,t),Te.init(e,t)}),rE=C("ZodNanoID",(e,t)=>{e2.init(e,t),Te.init(e,t)}),aE=C("ZodCUID",(e,t)=>{t2.init(e,t),Te.init(e,t)}),oE=C("ZodCUID2",(e,t)=>{n2.init(e,t),Te.init(e,t)}),iE=C("ZodULID",(e,t)=>{r2.init(e,t),Te.init(e,t)}),sE=C("ZodXID",(e,t)=>{a2.init(e,t),Te.init(e,t)}),lE=C("ZodKSUID",(e,t)=>{o2.init(e,t),Te.init(e,t)}),uE=C("ZodIPv4",(e,t)=>{c2.init(e,t),Te.init(e,t)}),cE=C("ZodIPv6",(e,t)=>{f2.init(e,t),Te.init(e,t)}),fE=C("ZodCIDRv4",(e,t)=>{p2.init(e,t),Te.init(e,t)}),pE=C("ZodCIDRv6",(e,t)=>{d2.init(e,t),Te.init(e,t)}),dE=C("ZodBase64",(e,t)=>{h2.init(e,t),Te.init(e,t)}),hE=C("ZodBase64URL",(e,t)=>{g2.init(e,t),Te.init(e,t)}),vE=C("ZodE164",(e,t)=>{m2.init(e,t),Te.init(e,t)}),gE=C("ZodJWT",(e,t)=>{x2.init(e,t),Te.init(e,t)}),n0=C("ZodNumber",(e,t)=>{Yv.init(e,t),Pe.init(e,t),e.gt=(r,a)=>e.check(yp(r,a)),e.gte=(r,a)=>e.check(Ds(r,a)),e.min=(r,a)=>e.check(Ds(r,a)),e.lt=(r,a)=>e.check(mp(r,a)),e.lte=(r,a)=>e.check(Us(r,a)),e.max=(r,a)=>e.check(Us(r,a)),e.int=r=>e.check(Sp(r)),e.safe=r=>e.check(Sp(r)),e.positive=r=>e.check(yp(0,r)),e.nonnegative=r=>e.check(Ds(0,r)),e.negative=r=>e.check(mp(0,r)),e.nonpositive=r=>e.check(Us(0,r)),e.multipleOf=(r,a)=>e.check(xp(r,a)),e.step=(r,a)=>e.check(xp(r,a)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function _e(e){return hT(n0,e)}const mE=C("ZodNumberFormat",(e,t)=>{k2.init(e,t),n0.init(e,t)});function Sp(e){return vT(mE,e)}const yE=C("ZodUnknown",(e,t)=>{S2.init(e,t),Pe.init(e,t)});function wp(){return gT(yE)}const xE=C("ZodNever",(e,t)=>{w2.init(e,t),Pe.init(e,t)});function kE(e){return mT(xE,e)}const SE=C("ZodArray",(e,t)=>{T2.init(e,t),Pe.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(Ei(n,r)),e.nonempty=n=>e.check(Ei(1,n)),e.max=(n,r)=>e.check(qv(n,r)),e.length=(n,r)=>e.check(Jv(n,r)),e.unwrap=()=>e.element});function r0(e,t){return RT(SE,e,t)}const wE=C("ZodObject",(e,t)=>{b2.init(e,t),Pe.init(e,t),he(e,"shape",()=>t.shape),e.keyof=()=>Ju(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:wp()}),e.loose=()=>e.clone({...e._zod.def,catchall:wp()}),e.strict=()=>e.clone({...e._zod.def,catchall:kE()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>WS(e,n),e.safeExtend=n=>VS(e,n),e.merge=n=>XS(e,n),e.pick=n=>HS(e,n),e.omit=n=>ZS(e,n),e.partial=(...n)=>YS(a0,e,n[0]),e.required=(...n)=>QS(o0,e,n[0])});function eo(e,t){const n={type:"object",shape:e??{},...Q(t)};return new wE(n)}const TE=C("ZodUnion",(e,t)=>{C2.init(e,t),Pe.init(e,t),e.options=t.options});function EE(e,t){return new TE({type:"union",options:e,...Q(t)})}const bE=C("ZodIntersection",(e,t)=>{F2.init(e,t),Pe.init(e,t)});function CE(e,t){return new bE({type:"intersection",left:e,right:t})}const FE=C("ZodRecord",(e,t)=>{R2.init(e,t),Pe.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function RE(e,t,n){return new FE({type:"record",keyType:e,valueType:t,...Q(n)})}const Ml=C("ZodEnum",(e,t)=>{_2.init(e,t),Pe.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const o={};for(const i of r)if(n.has(i))o[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new Ml({...t,checks:[],...Q(a),entries:o})},e.exclude=(r,a)=>{const o={...t.entries};for(const i of r)if(n.has(i))delete o[i];else throw new Error(`Key ${i} not found in enum`);return new Ml({...t,checks:[],...Q(a),entries:o})}});function Ju(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Ml({type:"enum",entries:n,...Q(t)})}const _E=C("ZodTransform",(e,t)=>{L2.init(e,t),Pe.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Pv(e.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(Ga(o,n.value,t));else{const i=o;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),n.issues.push(Ga(i))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function LE(e){return new _E({type:"transform",transform:e})}const a0=C("ZodOptional",(e,t)=>{N2.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Tp(e){return new a0({type:"optional",innerType:e})}const NE=C("ZodNullable",(e,t)=>{O2.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ep(e){return new NE({type:"nullable",innerType:e})}const OE=C("ZodDefault",(e,t)=>{U2.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function UE(e,t){return new OE({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Av(t)}})}const DE=C("ZodPrefault",(e,t)=>{D2.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function PE(e,t){return new DE({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Av(t)}})}const o0=C("ZodNonOptional",(e,t)=>{P2.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function zE(e,t){return new o0({type:"nonoptional",innerType:e,...Q(t)})}const IE=C("ZodCatch",(e,t)=>{z2.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function AE(e,t){return new IE({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const ME=C("ZodPipe",(e,t)=>{I2.init(e,t),Pe.init(e,t),e.in=t.in,e.out=t.out});function bp(e,t){return new ME({type:"pipe",in:e,out:t})}const BE=C("ZodReadonly",(e,t)=>{A2.init(e,t),Pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function jE(e){return new BE({type:"readonly",innerType:e})}const GE=C("ZodCustom",(e,t)=>{M2.init(e,t),Pe.init(e,t)});function $E(e,t={}){return _T(GE,e,t)}function HE(e){return LT(e)}const ZE=Ju([q.TL,q.TR,q.BL,q.BR]),WE=Ju([ce.SQUARE,ce.CIRCLE,ce.TRIANGLE,ce.QUARTER_CIRCLE]),VE=eo({id:_e(),type:WE,x:_e(),y:_e(),width:_e().min(0),height:_e().min(0),rotation:_e(),corner:ZE.nullable()}),XE=eo({char:bi(),unicode:_e(),gridSize:_e().min(1),shapes:r0(VE),leftBearing:_e(),rightBearing:_e(),advanceWidth:_e(),modifiedAt:_e()}),YE=eo({gridSize:_e().min(1),ascender:_e(),capHeight:_e(),xHeight:_e(),baseline:_e(),descender:_e(),defaultAdvanceWidth:_e(),tracking:_e()}),QE=eo({familyName:bi().min(1),styleName:bi().min(1)}),KE=eo({meta:QE,metrics:YE,glyphs:RE(bi(),XE),version:_e()}),qE=e=>{try{return{success:!0,font:KE.parse(e)}}catch(t){return t instanceof BT?{success:!1,errors:t.issues.map(r=>`${r.path.join(".")||"<root>"}: ${r.message}`)}:{success:!1,errors:["Unknown validation error"]}}};function JE(){const{font:e,currentGlyph:t,history:n,setCurrentGlyph:r,saveToHistory:a,addShape:o,updateShape:i,deleteShape:l,duplicateShape:s,clearGlyph:u,undo:c,redo:p,updateGlyph:f,updateMetrics:d,importFont:x}=zS(),[y,k]=L.useState(ce.SQUARE),[h,g]=L.useState(Qe.DRAW),[v,S]=L.useState(!1),T=()=>{yS(e)},N=()=>{SS(e)},E=b=>{var F;const B=(F=b.target.files)==null?void 0:F[0];if(!B)return;const _=new FileReader;_.onload=z=>{var j;try{const H=JSON.parse((j=z.target)==null?void 0:j.result),Y=qE(H);if(Y.success)x(Y.font);else{const ee=Y.errors.join(`
- `);alert(`Failed to import font. Validation errors:
- ${ee}`),console.error("Font import validation errors:",Y.errors)}}catch(H){alert("Failed to import font: Invalid JSON format"),console.error("JSON parse error:",H)}},_.readAsText(B),b.target.value=""};return IS([{key:"?",handler:()=>S(!0),description:"Show keyboard shortcuts"},{key:"z",ctrl:!0,shift:!1,handler:()=>c(),description:"Undo"},{key:"z",ctrl:!0,shift:!0,handler:()=>p(),description:"Redo"}],[c,p]),m.jsxs("div",{className:"h-screen flex flex-col bg-neutral-50",children:[m.jsx($m,{font:e,onExportJSON:T,onExportTTF:N,onImportJSON:E,onShowShortcuts:()=>S(!0)}),m.jsx(Zm,{selectedShape:y,onSelectShape:k,tool:h,onToolChange:g}),m.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[m.jsx(Os,{defaultSize:280,minSize:200,maxSize:500,direction:"horizontal",position:"left",storageKey:"panel-glyph-grid-width",children:m.jsx(Vm,{font:e,currentGlyph:t,onSelectGlyph:r})}),m.jsx("div",{className:"flex-1 flex overflow-hidden",children:m.jsx(bS,{font:e,currentGlyph:t,selectedShapeType:y,tool:h,onToolChange:g,onAddShape:o,onUpdateShape:i,onDeleteShape:l,onClearGlyph:u,onUndo:c,onRedo:p,history:n,saveToHistory:a,onDuplicateShape:s,onUpdateMetrics:d})}),m.jsx(Os,{defaultSize:320,minSize:250,maxSize:600,direction:"horizontal",position:"right",storageKey:"panel-inspector-width",children:m.jsx(CS,{font:e,currentGlyph:t,onUpdateGlyph:f,onUpdateMetrics:d})})]}),m.jsx(Os,{defaultSize:120,minSize:80,maxSize:300,direction:"vertical",position:"bottom",storageKey:"panel-preview-height",children:m.jsx(NS,{font:e})})]}),v&&m.jsx(US,{onClose:()=>S(!1)})]})}Ps.createRoot(document.getElementById("root")).render(m.jsx(er.StrictMode,{children:m.jsx(JE,{})}))});export default eb();
