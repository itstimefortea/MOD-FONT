var g0=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var eE=g0(R=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function m0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fd={exports:{}},Fi={},Rd={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a=Symbol.for("react.element"),y0=Symbol.for("react.portal"),x0=Symbol.for("react.fragment"),k0=Symbol.for("react.strict_mode"),S0=Symbol.for("react.profiler"),w0=Symbol.for("react.provider"),b0=Symbol.for("react.context"),T0=Symbol.for("react.forward_ref"),E0=Symbol.for("react.suspense"),C0=Symbol.for("react.memo"),F0=Symbol.for("react.lazy"),cc=Symbol.iterator;function R0(e){return e===null||typeof e!="object"?null:(e=cc&&e[cc]||e["@@iterator"],typeof e=="function"?e:null)}var _d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nd=Object.assign,Ld={};function Wn(e,t,r){this.props=e,this.context=t,this.refs=Ld,this.updater=r||_d}Wn.prototype.isReactComponent={};Wn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ud(){}Ud.prototype=Wn.prototype;function jl(e,t,r){this.props=e,this.context=t,this.refs=Ld,this.updater=r||_d}var Gl=jl.prototype=new Ud;Gl.constructor=jl;Nd(Gl,Wn.prototype);Gl.isPureReactComponent=!0;var fc=Array.isArray,Od=Object.prototype.hasOwnProperty,$l={current:null},Dd={key:!0,ref:!0,__self:!0,__source:!0};function Pd(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Od.call(t,n)&&!Dd.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];a.children=s}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:$a,type:e,key:o,ref:i,props:a,_owner:$l.current}}function _0(e,t){return{$$typeof:$a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hl(e){return typeof e=="object"&&e!==null&&e.$$typeof===$a}function N0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dc=/\/+/g;function qi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?N0(""+e.key):t.toString(36)}function Oo(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case $a:case y0:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+qi(i,0):n,fc(a)?(r="",e!=null&&(r=e.replace(dc,"$&/")+"/"),Oo(a,t,r,"",function(u){return u})):a!=null&&(Hl(a)&&(a=_0(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(dc,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",fc(e))for(var l=0;l<e.length;l++){o=e[l];var s=n+qi(o,l);i+=Oo(o,t,r,s,a)}else if(s=R0(e),typeof s=="function")for(e=s.call(e),l=0;!(o=e.next()).done;)o=o.value,s=n+qi(o,l++),i+=Oo(o,t,r,s,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function oo(e,t,r){if(e==null)return e;var n=[],a=0;return Oo(e,n,"","",function(o){return t.call(r,o,a++)}),n}function L0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rt={current:null},Do={transition:null},U0={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Do,ReactCurrentOwner:$l};function zd(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:oo,forEach:function(e,t,r){oo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return oo(e,function(){t++}),t},toArray:function(e){return oo(e,function(t){return t})||[]},only:function(e){if(!Hl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Wn;re.Fragment=x0;re.Profiler=S0;re.PureComponent=jl;re.StrictMode=k0;re.Suspense=E0;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U0;re.act=zd;re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Nd({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=$l.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)Od.call(t,s)&&!Dd.hasOwnProperty(s)&&(n[s]=t[s]===void 0&&l!==void 0?l[s]:t[s])}var s=arguments.length-2;if(s===1)n.children=r;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:$a,type:e.type,key:a,ref:o,props:n,_owner:i}};re.createContext=function(e){return e={$$typeof:b0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w0,_context:e},e.Consumer=e};re.createElement=Pd;re.createFactory=function(e){var t=Pd.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:T0,render:e}};re.isValidElement=Hl;re.lazy=function(e){return{$$typeof:F0,_payload:{_status:-1,_result:e},_init:L0}};re.memo=function(e,t){return{$$typeof:C0,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Do.transition;Do.transition={};try{e()}finally{Do.transition=t}};re.unstable_act=zd;re.useCallback=function(e,t){return rt.current.useCallback(e,t)};re.useContext=function(e){return rt.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return rt.current.useDeferredValue(e)};re.useEffect=function(e,t){return rt.current.useEffect(e,t)};re.useId=function(){return rt.current.useId()};re.useImperativeHandle=function(e,t,r){return rt.current.useImperativeHandle(e,t,r)};re.useInsertionEffect=function(e,t){return rt.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return rt.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return rt.current.useMemo(e,t)};re.useReducer=function(e,t,r){return rt.current.useReducer(e,t,r)};re.useRef=function(e){return rt.current.useRef(e)};re.useState=function(e){return rt.current.useState(e)};re.useSyncExternalStore=function(e,t,r){return rt.current.useSyncExternalStore(e,t,r)};re.useTransition=function(){return rt.current.useTransition()};re.version="18.3.1";Rd.exports=re;var N=Rd.exports;const qr=m0(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0=N,D0=Symbol.for("react.element"),P0=Symbol.for("react.fragment"),z0=Object.prototype.hasOwnProperty,I0=O0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A0={key:!0,ref:!0,__self:!0,__source:!0};function Id(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)z0.call(t,n)&&!A0.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:D0,type:e,key:o,ref:i,props:a,_owner:I0.current}}Fi.Fragment=P0;Fi.jsx=Id;Fi.jsxs=Id;Fd.exports=Fi;var g=Fd.exports,zs={},Ad={exports:{}},vt={},Md={exports:{}},Bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,I){var H=C.length;C.push(I);e:for(;0<H;){var V=H-1>>>1,q=C[V];if(0<a(q,I))C[V]=I,C[H]=q,H=V;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var I=C[0],H=C.pop();if(H!==I){C[0]=H;e:for(var V=0,q=C.length,kt=q>>>1;V<kt;){var ke=2*(V+1)-1,Kt=C[ke],pe=ke+1,Rt=C[pe];if(0>a(Kt,H))pe<q&&0>a(Rt,Kt)?(C[V]=Rt,C[pe]=H,V=pe):(C[V]=Kt,C[ke]=H,V=ke);else if(pe<q&&0>a(Rt,H))C[V]=Rt,C[pe]=H,V=pe;else break e}}return I}function a(C,I){var H=C.sortIndex-I.sortIndex;return H!==0?H:C.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var s=[],u=[],c=1,d=null,f=3,p=!1,y=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(C){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=C)n(u),I.sortIndex=I.expirationTime,t(s,I);else break;I=r(u)}}function S(C){if(x=!1,m(C),!y)if(r(s)!==null)y=!0,ee(E);else{var I=r(u);I!==null&&ae(S,I.startTime-C)}}function E(C,I){y=!1,x&&(x=!1,h(T),T=-1),p=!0;var H=f;try{for(m(I),d=r(s);d!==null&&(!(d.expirationTime>I)||C&&!D());){var V=d.callback;if(typeof V=="function"){d.callback=null,f=d.priorityLevel;var q=V(d.expirationTime<=I);I=e.unstable_now(),typeof q=="function"?d.callback=q:d===r(s)&&n(s),m(I)}else n(s);d=r(s)}if(d!==null)var kt=!0;else{var ke=r(u);ke!==null&&ae(S,ke.startTime-I),kt=!1}return kt}finally{d=null,f=H,p=!1}}var L=!1,w=null,T=-1,A=5,_=-1;function D(){return!(e.unstable_now()-_<A)}function z(){if(w!==null){var C=e.unstable_now();_=C;var I=!0;try{I=w(!0,C)}finally{I?X():(L=!1,w=null)}}else L=!1}var X;if(typeof v=="function")X=function(){v(z)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Z=B.port2;B.port1.onmessage=z,X=function(){Z.postMessage(null)}}else X=function(){k(z,0)};function ee(C){w=C,L||(L=!0,X())}function ae(C,I){T=k(function(){C(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,ee(E))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(s)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var H=f;f=I;try{return C()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,I){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var H=f;f=C;try{return I()}finally{f=H}},e.unstable_scheduleCallback=function(C,I,H){var V=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,C){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=H+q,C={id:c++,callback:I,priorityLevel:C,startTime:H,expirationTime:q,sortIndex:-1},H>V?(C.sortIndex=H,t(u,C),r(s)===null&&C===r(u)&&(x?(h(T),T=-1):x=!0,ae(S,H-V))):(C.sortIndex=q,t(s,C),y||p||(y=!0,ee(E))),C},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(C){var I=f;return function(){var H=f;f=I;try{return C.apply(this,arguments)}finally{f=H}}}})(Bd);Md.exports=Bd;var M0=Md.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0=N,ht=M0;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jd=new Set,Sa={};function on(e,t){In(e,t),In(e+"Capture",t)}function In(e,t){for(Sa[e]=t,e=0;e<t.length;e++)jd.add(t[e])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=Object.prototype.hasOwnProperty,j0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pc={},hc={};function G0(e){return Is.call(hc,e)?!0:Is.call(pc,e)?!1:j0.test(e)?hc[e]=!0:(pc[e]=!0,!1)}function $0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function H0(e,t,r,n){if(t===null||typeof t>"u"||$0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zl=/[\-:]([a-z])/g;function Wl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zl,Wl);We[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zl,Wl);We[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zl,Wl);We[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vl(e,t,r,n){var a=We.hasOwnProperty(t)?We[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(H0(t,r,a,n)&&(r=null),n||a===null?G0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var cr=B0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,io=Symbol.for("react.element"),vn=Symbol.for("react.portal"),gn=Symbol.for("react.fragment"),Xl=Symbol.for("react.strict_mode"),As=Symbol.for("react.profiler"),Gd=Symbol.for("react.provider"),$d=Symbol.for("react.context"),Yl=Symbol.for("react.forward_ref"),Ms=Symbol.for("react.suspense"),Bs=Symbol.for("react.suspense_list"),Ql=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),Hd=Symbol.for("react.offscreen"),vc=Symbol.iterator;function qn(e){return e===null||typeof e!="object"?null:(e=vc&&e[vc]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,Ji;function sa(e){if(Ji===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ji=t&&t[1]||""}return`
`+Ji+e}var es=!1;function ts(e,t){if(!e||es)return"";es=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var s=`
`+a[i].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=i&&0<=l);break}}}finally{es=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?sa(e):""}function Z0(e){switch(e.tag){case 5:return sa(e.type);case 16:return sa("Lazy");case 13:return sa("Suspense");case 19:return sa("SuspenseList");case 0:case 2:case 15:return e=ts(e.type,!1),e;case 11:return e=ts(e.type.render,!1),e;case 1:return e=ts(e.type,!0),e;default:return""}}function js(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gn:return"Fragment";case vn:return"Portal";case As:return"Profiler";case Xl:return"StrictMode";case Ms:return"Suspense";case Bs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $d:return(e.displayName||"Context")+".Consumer";case Gd:return(e._context.displayName||"Context")+".Provider";case Yl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ql:return t=e.displayName||null,t!==null?t:js(e.type)||"Memo";case gr:t=e._payload,e=e._init;try{return js(e(t))}catch{}}return null}function W0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return js(t);case 8:return t===Xl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function V0(e){var t=Zd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function so(e){e._valueTracker||(e._valueTracker=V0(e))}function Wd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Zd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Vo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gs(e,t){var r=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ur(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vd(e,t){t=t.checked,t!=null&&Vl(e,"checked",t,!1)}function $s(e,t){Vd(e,t);var r=Ur(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hs(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hs(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hs(e,t,r){(t!=="number"||Vo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var la=Array.isArray;function _n(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ur(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Zs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(U(92));if(la(r)){if(1<r.length)throw Error(U(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ur(r)}}function Xd(e,t){var r=Ur(t.value),n=Ur(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ws(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lo,Qd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lo=lo||document.createElement("div"),lo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X0=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(e){X0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fa[t]=fa[e]})});function Kd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fa.hasOwnProperty(e)&&fa[e]?(""+t).trim():t+"px"}function qd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Kd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Y0=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vs(e,t){if(t){if(Y0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Xs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ys=null;function Kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qs=null,Nn=null,Ln=null;function kc(e){if(e=Wa(e)){if(typeof Qs!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Ui(t),Qs(e.stateNode,e.type,t))}}function Jd(e){Nn?Ln?Ln.push(e):Ln=[e]:Nn=e}function ep(){if(Nn){var e=Nn,t=Ln;if(Ln=Nn=null,kc(e),t)for(e=0;e<t.length;e++)kc(t[e])}}function tp(e,t){return e(t)}function rp(){}var rs=!1;function np(e,t,r){if(rs)return e(t,r);rs=!0;try{return tp(e,t,r)}finally{rs=!1,(Nn!==null||Ln!==null)&&(rp(),ep())}}function ba(e,t){var r=e.stateNode;if(r===null)return null;var n=Ui(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(U(231,t,typeof r));return r}var Ks=!1;if(ir)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{Ks=!1}function Q0(e,t,r,n,a,o,i,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var da=!1,Xo=null,Yo=!1,qs=null,K0={onError:function(e){da=!0,Xo=e}};function q0(e,t,r,n,a,o,i,l,s){da=!1,Xo=null,Q0.apply(K0,arguments)}function J0(e,t,r,n,a,o,i,l,s){if(q0.apply(this,arguments),da){if(da){var u=Xo;da=!1,Xo=null}else throw Error(U(198));Yo||(Yo=!0,qs=u)}}function sn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ap(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sc(e){if(sn(e)!==e)throw Error(U(188))}function eg(e){var t=e.alternate;if(!t){if(t=sn(e),t===null)throw Error(U(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Sc(a),e;if(o===n)return Sc(a),t;o=o.sibling}throw Error(U(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(U(189))}}if(r.alternate!==n)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?e:t}function op(e){return e=eg(e),e!==null?ip(e):null}function ip(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ip(e);if(t!==null)return t;e=e.sibling}return null}var sp=ht.unstable_scheduleCallback,wc=ht.unstable_cancelCallback,tg=ht.unstable_shouldYield,rg=ht.unstable_requestPaint,Ue=ht.unstable_now,ng=ht.unstable_getCurrentPriorityLevel,ql=ht.unstable_ImmediatePriority,lp=ht.unstable_UserBlockingPriority,Qo=ht.unstable_NormalPriority,ag=ht.unstable_LowPriority,up=ht.unstable_IdlePriority,Ri=null,Xt=null;function og(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Ri,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:lg,ig=Math.log,sg=Math.LN2;function lg(e){return e>>>=0,e===0?32:31-(ig(e)/sg|0)|0}var uo=64,co=4194304;function ua(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ko(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=ua(l):(o&=i,o!==0&&(n=ua(o)))}else i=r&~a,i!==0?n=ua(i):o!==0&&(n=ua(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ot(t),a=1<<r,n|=e[r],t&=~a;return n}function ug(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Ot(o),l=1<<i,s=a[i];s===-1?(!(l&r)||l&n)&&(a[i]=ug(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}function Js(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cp(){var e=uo;return uo<<=1,!(uo&4194240)&&(uo=64),e}function ns(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ha(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=r}function fg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ot(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Jl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ot(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var le=0;function fp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dp,eu,pp,hp,vp,el=!1,fo=[],br=null,Tr=null,Er=null,Ta=new Map,Ea=new Map,yr=[],dg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bc(e,t){switch(e){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Ta.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(t.pointerId)}}function ea(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Wa(t),t!==null&&eu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function pg(e,t,r,n,a){switch(t){case"focusin":return br=ea(br,e,t,r,n,a),!0;case"dragenter":return Tr=ea(Tr,e,t,r,n,a),!0;case"mouseover":return Er=ea(Er,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Ta.set(o,ea(Ta.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Ea.set(o,ea(Ea.get(o)||null,e,t,r,n,a)),!0}return!1}function gp(e){var t=Vr(e.target);if(t!==null){var r=sn(t);if(r!==null){if(t=r.tag,t===13){if(t=ap(r),t!==null){e.blockedOn=t,vp(e.priority,function(){pp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Po(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ys=n,r.target.dispatchEvent(n),Ys=null}else return t=Wa(r),t!==null&&eu(t),e.blockedOn=r,!1;t.shift()}return!0}function Tc(e,t,r){Po(e)&&r.delete(t)}function hg(){el=!1,br!==null&&Po(br)&&(br=null),Tr!==null&&Po(Tr)&&(Tr=null),Er!==null&&Po(Er)&&(Er=null),Ta.forEach(Tc),Ea.forEach(Tc)}function ta(e,t){e.blockedOn===t&&(e.blockedOn=null,el||(el=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,hg)))}function Ca(e){function t(a){return ta(a,e)}if(0<fo.length){ta(fo[0],e);for(var r=1;r<fo.length;r++){var n=fo[r];n.blockedOn===e&&(n.blockedOn=null)}}for(br!==null&&ta(br,e),Tr!==null&&ta(Tr,e),Er!==null&&ta(Er,e),Ta.forEach(t),Ea.forEach(t),r=0;r<yr.length;r++)n=yr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yr.length&&(r=yr[0],r.blockedOn===null);)gp(r),r.blockedOn===null&&yr.shift()}var Un=cr.ReactCurrentBatchConfig,qo=!0;function vg(e,t,r,n){var a=le,o=Un.transition;Un.transition=null;try{le=1,tu(e,t,r,n)}finally{le=a,Un.transition=o}}function gg(e,t,r,n){var a=le,o=Un.transition;Un.transition=null;try{le=4,tu(e,t,r,n)}finally{le=a,Un.transition=o}}function tu(e,t,r,n){if(qo){var a=tl(e,t,r,n);if(a===null)ps(e,t,n,Jo,r),bc(e,n);else if(pg(a,e,t,r,n))n.stopPropagation();else if(bc(e,n),t&4&&-1<dg.indexOf(e)){for(;a!==null;){var o=Wa(a);if(o!==null&&dp(o),o=tl(e,t,r,n),o===null&&ps(e,t,n,Jo,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else ps(e,t,n,null,r)}}var Jo=null;function tl(e,t,r,n){if(Jo=null,e=Kl(n),e=Vr(e),e!==null)if(t=sn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ap(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jo=e,null}function mp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ng()){case ql:return 1;case lp:return 4;case Qo:case ag:return 16;case up:return 536870912;default:return 16}default:return 16}}var kr=null,ru=null,zo=null;function yp(){if(zo)return zo;var e,t=ru,r=t.length,n,a="value"in kr?kr.value:kr.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return zo=a.slice(e,1<n?1-n:void 0)}function Io(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function po(){return!0}function Ec(){return!1}function gt(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?po:Ec,this.isPropagationStopped=Ec,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),t}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=gt(Vn),Za=Ee({},Vn,{view:0,detail:0}),mg=gt(Za),as,os,ra,_i=Ee({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ra&&(ra&&e.type==="mousemove"?(as=e.screenX-ra.screenX,os=e.screenY-ra.screenY):os=as=0,ra=e),as)},movementY:function(e){return"movementY"in e?e.movementY:os}}),Cc=gt(_i),yg=Ee({},_i,{dataTransfer:0}),xg=gt(yg),kg=Ee({},Za,{relatedTarget:0}),is=gt(kg),Sg=Ee({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),wg=gt(Sg),bg=Ee({},Vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tg=gt(bg),Eg=Ee({},Vn,{data:0}),Fc=gt(Eg),Cg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _g(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rg[e])?!!t[e]:!1}function au(){return _g}var Ng=Ee({},Za,{key:function(e){if(e.key){var t=Cg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Io(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(e){return e.type==="keypress"?Io(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Io(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lg=gt(Ng),Ug=Ee({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rc=gt(Ug),Og=Ee({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),Dg=gt(Og),Pg=Ee({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),zg=gt(Pg),Ig=Ee({},_i,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ag=gt(Ig),Mg=[9,13,27,32],ou=ir&&"CompositionEvent"in window,pa=null;ir&&"documentMode"in document&&(pa=document.documentMode);var Bg=ir&&"TextEvent"in window&&!pa,xp=ir&&(!ou||pa&&8<pa&&11>=pa),_c=" ",Nc=!1;function kp(e,t){switch(e){case"keyup":return Mg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mn=!1;function jg(e,t){switch(e){case"compositionend":return Sp(t);case"keypress":return t.which!==32?null:(Nc=!0,_c);case"textInput":return e=t.data,e===_c&&Nc?null:e;default:return null}}function Gg(e,t){if(mn)return e==="compositionend"||!ou&&kp(e,t)?(e=yp(),zo=ru=kr=null,mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xp&&t.locale!=="ko"?null:t.data;default:return null}}var $g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$g[e.type]:t==="textarea"}function wp(e,t,r,n){Jd(n),t=ei(t,"onChange"),0<t.length&&(r=new nu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ha=null,Fa=null;function Hg(e){Op(e,0)}function Ni(e){var t=kn(e);if(Wd(t))return e}function Zg(e,t){if(e==="change")return t}var bp=!1;if(ir){var ss;if(ir){var ls="oninput"in document;if(!ls){var Uc=document.createElement("div");Uc.setAttribute("oninput","return;"),ls=typeof Uc.oninput=="function"}ss=ls}else ss=!1;bp=ss&&(!document.documentMode||9<document.documentMode)}function Oc(){ha&&(ha.detachEvent("onpropertychange",Tp),Fa=ha=null)}function Tp(e){if(e.propertyName==="value"&&Ni(Fa)){var t=[];wp(t,Fa,e,Kl(e)),np(Hg,t)}}function Wg(e,t,r){e==="focusin"?(Oc(),ha=t,Fa=r,ha.attachEvent("onpropertychange",Tp)):e==="focusout"&&Oc()}function Vg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ni(Fa)}function Xg(e,t){if(e==="click")return Ni(t)}function Yg(e,t){if(e==="input"||e==="change")return Ni(t)}function Qg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Qg;function Ra(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Is.call(t,a)||!Pt(e[a],t[a]))return!1}return!0}function Dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pc(e,t){var r=Dc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dc(r)}}function Ep(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ep(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cp(){for(var e=window,t=Vo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Vo(e.document)}return t}function iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kg(e){var t=Cp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ep(r.ownerDocument.documentElement,r)){if(n!==null&&iu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Pc(r,o);var i=Pc(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qg=ir&&"documentMode"in document&&11>=document.documentMode,yn=null,rl=null,va=null,nl=!1;function zc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nl||yn==null||yn!==Vo(n)||(n=yn,"selectionStart"in n&&iu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),va&&Ra(va,n)||(va=n,n=ei(rl,"onSelect"),0<n.length&&(t=new nu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yn)))}function ho(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xn={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionend:ho("Transition","TransitionEnd")},us={},Fp={};ir&&(Fp=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);function Li(e){if(us[e])return us[e];if(!xn[e])return e;var t=xn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Fp)return us[e]=t[r];return e}var Rp=Li("animationend"),_p=Li("animationiteration"),Np=Li("animationstart"),Lp=Li("transitionend"),Up=new Map,Ic="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Up.set(e,t),on(t,[e])}for(var cs=0;cs<Ic.length;cs++){var fs=Ic[cs],Jg=fs.toLowerCase(),em=fs[0].toUpperCase()+fs.slice(1);Ir(Jg,"on"+em)}Ir(Rp,"onAnimationEnd");Ir(_p,"onAnimationIteration");Ir(Np,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(Lp,"onTransitionEnd");In("onMouseEnter",["mouseout","mouseover"]);In("onMouseLeave",["mouseout","mouseover"]);In("onPointerEnter",["pointerout","pointerover"]);In("onPointerLeave",["pointerout","pointerover"]);on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));on("onBeforeInput",["compositionend","keypress","textInput","paste"]);on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tm=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function Ac(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,J0(n,t,void 0,e),e.currentTarget=null}function Op(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==o&&a.isPropagationStopped())break e;Ac(a,l,u),o=s}else for(i=0;i<n.length;i++){if(l=n[i],s=l.instance,u=l.currentTarget,l=l.listener,s!==o&&a.isPropagationStopped())break e;Ac(a,l,u),o=s}}}if(Yo)throw e=qs,Yo=!1,qs=null,e}function ge(e,t){var r=t[ll];r===void 0&&(r=t[ll]=new Set);var n=e+"__bubble";r.has(n)||(Dp(t,e,2,!1),r.add(n))}function ds(e,t,r){var n=0;t&&(n|=4),Dp(r,e,n,t)}var vo="_reactListening"+Math.random().toString(36).slice(2);function _a(e){if(!e[vo]){e[vo]=!0,jd.forEach(function(r){r!=="selectionchange"&&(tm.has(r)||ds(r,!1,e),ds(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vo]||(t[vo]=!0,ds("selectionchange",!1,t))}}function Dp(e,t,r,n){switch(mp(t)){case 1:var a=vg;break;case 4:a=gg;break;default:a=tu}r=a.bind(null,t,r,e),a=void 0,!Ks||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ps(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var s=i.tag;if((s===3||s===4)&&(s=i.stateNode.containerInfo,s===a||s.nodeType===8&&s.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Vr(l),i===null)return;if(s=i.tag,s===5||s===6){n=o=i;continue e}l=l.parentNode}}n=n.return}np(function(){var u=o,c=Kl(r),d=[];e:{var f=Up.get(e);if(f!==void 0){var p=nu,y=e;switch(e){case"keypress":if(Io(r)===0)break e;case"keydown":case"keyup":p=Lg;break;case"focusin":y="focus",p=is;break;case"focusout":y="blur",p=is;break;case"beforeblur":case"afterblur":p=is;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Dg;break;case Rp:case _p:case Np:p=wg;break;case Lp:p=zg;break;case"scroll":p=mg;break;case"wheel":p=Ag;break;case"copy":case"cut":case"paste":p=Tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Rc}var x=(t&4)!==0,k=!x&&e==="scroll",h=x?f!==null?f+"Capture":null:f;x=[];for(var v=u,m;v!==null;){m=v;var S=m.stateNode;if(m.tag===5&&S!==null&&(m=S,h!==null&&(S=ba(v,h),S!=null&&x.push(Na(v,S,m)))),k)break;v=v.return}0<x.length&&(f=new p(f,y,null,r,c),d.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Ys&&(y=r.relatedTarget||r.fromElement)&&(Vr(y)||y[sr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?Vr(y):null,y!==null&&(k=sn(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(x=Cc,S="onMouseLeave",h="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=Rc,S="onPointerLeave",h="onPointerEnter",v="pointer"),k=p==null?f:kn(p),m=y==null?f:kn(y),f=new x(S,v+"leave",p,r,c),f.target=k,f.relatedTarget=m,S=null,Vr(c)===u&&(x=new x(h,v+"enter",y,r,c),x.target=m,x.relatedTarget=k,S=x),k=S,p&&y)t:{for(x=p,h=y,v=0,m=x;m;m=dn(m))v++;for(m=0,S=h;S;S=dn(S))m++;for(;0<v-m;)x=dn(x),v--;for(;0<m-v;)h=dn(h),m--;for(;v--;){if(x===h||h!==null&&x===h.alternate)break t;x=dn(x),h=dn(h)}x=null}else x=null;p!==null&&Mc(d,f,p,x,!1),y!==null&&k!==null&&Mc(d,k,y,x,!0)}}e:{if(f=u?kn(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=Zg;else if(Lc(f))if(bp)E=Yg;else{E=Vg;var L=Wg}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Xg);if(E&&(E=E(e,u))){wp(d,E,r,c);break e}L&&L(e,f,u),e==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&Hs(f,"number",f.value)}switch(L=u?kn(u):window,e){case"focusin":(Lc(L)||L.contentEditable==="true")&&(yn=L,rl=u,va=null);break;case"focusout":va=rl=yn=null;break;case"mousedown":nl=!0;break;case"contextmenu":case"mouseup":case"dragend":nl=!1,zc(d,r,c);break;case"selectionchange":if(qg)break;case"keydown":case"keyup":zc(d,r,c)}var w;if(ou)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else mn?kp(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(xp&&r.locale!=="ko"&&(mn||T!=="onCompositionStart"?T==="onCompositionEnd"&&mn&&(w=yp()):(kr=c,ru="value"in kr?kr.value:kr.textContent,mn=!0)),L=ei(u,T),0<L.length&&(T=new Fc(T,e,null,r,c),d.push({event:T,listeners:L}),w?T.data=w:(w=Sp(r),w!==null&&(T.data=w)))),(w=Bg?jg(e,r):Gg(e,r))&&(u=ei(u,"onBeforeInput"),0<u.length&&(c=new Fc("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=w))}Op(d,t)})}function Na(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ei(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=ba(e,r),o!=null&&n.unshift(Na(e,o,a)),o=ba(e,t),o!=null&&n.push(Na(e,o,a))),e=e.return}return n}function dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mc(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,s=l.alternate,u=l.stateNode;if(s!==null&&s===n)break;l.tag===5&&u!==null&&(l=u,a?(s=ba(r,o),s!=null&&i.unshift(Na(r,s,l))):a||(s=ba(r,o),s!=null&&i.push(Na(r,s,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var rm=/\r\n?/g,nm=/\u0000|\uFFFD/g;function Bc(e){return(typeof e=="string"?e:""+e).replace(rm,`
`).replace(nm,"")}function go(e,t,r){if(t=Bc(t),Bc(e)!==t&&r)throw Error(U(425))}function ti(){}var al=null,ol=null;function il(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sl=typeof setTimeout=="function"?setTimeout:void 0,am=typeof clearTimeout=="function"?clearTimeout:void 0,jc=typeof Promise=="function"?Promise:void 0,om=typeof queueMicrotask=="function"?queueMicrotask:typeof jc<"u"?function(e){return jc.resolve(null).then(e).catch(im)}:sl;function im(e){setTimeout(function(){throw e})}function hs(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ca(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ca(t)}function Cr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Xn=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Xn,La="__reactProps$"+Xn,sr="__reactContainer$"+Xn,ll="__reactEvents$"+Xn,sm="__reactListeners$"+Xn,lm="__reactHandles$"+Xn;function Vr(e){var t=e[Wt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sr]||r[Wt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gc(e);e!==null;){if(r=e[Wt])return r;e=Gc(e)}return t}e=r,r=e.parentNode}return null}function Wa(e){return e=e[Wt]||e[sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Ui(e){return e[La]||null}var ul=[],Sn=-1;function Ar(e){return{current:e}}function me(e){0>Sn||(e.current=ul[Sn],ul[Sn]=null,Sn--)}function fe(e,t){Sn++,ul[Sn]=e.current,e.current=t}var Or={},qe=Ar(Or),it=Ar(!1),Jr=Or;function An(e,t){var r=e.type.contextTypes;if(!r)return Or;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function st(e){return e=e.childContextTypes,e!=null}function ri(){me(it),me(qe)}function $c(e,t,r){if(qe.current!==Or)throw Error(U(168));fe(qe,t),fe(it,r)}function Pp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(U(108,W0(e)||"Unknown",a));return Ee({},r,n)}function ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Or,Jr=qe.current,fe(qe,e),fe(it,it.current),!0}function Hc(e,t,r){var n=e.stateNode;if(!n)throw Error(U(169));r?(e=Pp(e,t,Jr),n.__reactInternalMemoizedMergedChildContext=e,me(it),me(qe),fe(qe,e)):me(it),fe(it,r)}var er=null,Oi=!1,vs=!1;function zp(e){er===null?er=[e]:er.push(e)}function um(e){Oi=!0,zp(e)}function Mr(){if(!vs&&er!==null){vs=!0;var e=0,t=le;try{var r=er;for(le=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}er=null,Oi=!1}catch(a){throw er!==null&&(er=er.slice(e+1)),sp(ql,Mr),a}finally{le=t,vs=!1}}return null}var wn=[],bn=0,ai=null,oi=0,St=[],wt=0,en=null,tr=1,rr="";function $r(e,t){wn[bn++]=oi,wn[bn++]=ai,ai=e,oi=t}function Ip(e,t,r){St[wt++]=tr,St[wt++]=rr,St[wt++]=en,en=e;var n=tr;e=rr;var a=32-Ot(n)-1;n&=~(1<<a),r+=1;var o=32-Ot(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,tr=1<<32-Ot(t)+a|r<<a|n,rr=o+e}else tr=1<<o|r<<a|n,rr=e}function su(e){e.return!==null&&($r(e,1),Ip(e,1,0))}function lu(e){for(;e===ai;)ai=wn[--bn],wn[bn]=null,oi=wn[--bn],wn[bn]=null;for(;e===en;)en=St[--wt],St[wt]=null,rr=St[--wt],St[wt]=null,tr=St[--wt],St[wt]=null}var pt=null,dt=null,ye=!1,Ut=null;function Ap(e,t){var r=bt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Zc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,dt=Cr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=en!==null?{id:tr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=bt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pt=e,dt=null,!0):!1;default:return!1}}function cl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fl(e){if(ye){var t=dt;if(t){var r=t;if(!Zc(e,t)){if(cl(e))throw Error(U(418));t=Cr(r.nextSibling);var n=pt;t&&Zc(e,t)?Ap(n,r):(e.flags=e.flags&-4097|2,ye=!1,pt=e)}}else{if(cl(e))throw Error(U(418));e.flags=e.flags&-4097|2,ye=!1,pt=e}}}function Wc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function mo(e){if(e!==pt)return!1;if(!ye)return Wc(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!il(e.type,e.memoizedProps)),t&&(t=dt)){if(cl(e))throw Mp(),Error(U(418));for(;t;)Ap(e,t),t=Cr(t.nextSibling)}if(Wc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dt=Cr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=pt?Cr(e.stateNode.nextSibling):null;return!0}function Mp(){for(var e=dt;e;)e=Cr(e.nextSibling)}function Mn(){dt=pt=null,ye=!1}function uu(e){Ut===null?Ut=[e]:Ut.push(e)}var cm=cr.ReactCurrentBatchConfig;function na(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var n=r.stateNode}if(!n)throw Error(U(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vc(e){var t=e._init;return t(e._payload)}function Bp(e){function t(h,v){if(e){var m=h.deletions;m===null?(h.deletions=[v],h.flags|=16):m.push(v)}}function r(h,v){if(!e)return null;for(;v!==null;)t(h,v),v=v.sibling;return null}function n(h,v){for(h=new Map;v!==null;)v.key!==null?h.set(v.key,v):h.set(v.index,v),v=v.sibling;return h}function a(h,v){return h=Nr(h,v),h.index=0,h.sibling=null,h}function o(h,v,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<v?(h.flags|=2,v):m):(h.flags|=2,v)):(h.flags|=1048576,v)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,v,m,S){return v===null||v.tag!==6?(v=ws(m,h.mode,S),v.return=h,v):(v=a(v,m),v.return=h,v)}function s(h,v,m,S){var E=m.type;return E===gn?c(h,v,m.props.children,S,m.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gr&&Vc(E)===v.type)?(S=a(v,m.props),S.ref=na(h,v,m),S.return=h,S):(S=Ho(m.type,m.key,m.props,null,h.mode,S),S.ref=na(h,v,m),S.return=h,S)}function u(h,v,m,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==m.containerInfo||v.stateNode.implementation!==m.implementation?(v=bs(m,h.mode,S),v.return=h,v):(v=a(v,m.children||[]),v.return=h,v)}function c(h,v,m,S,E){return v===null||v.tag!==7?(v=Kr(m,h.mode,S,E),v.return=h,v):(v=a(v,m),v.return=h,v)}function d(h,v,m){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ws(""+v,h.mode,m),v.return=h,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case io:return m=Ho(v.type,v.key,v.props,null,h.mode,m),m.ref=na(h,null,v),m.return=h,m;case vn:return v=bs(v,h.mode,m),v.return=h,v;case gr:var S=v._init;return d(h,S(v._payload),m)}if(la(v)||qn(v))return v=Kr(v,h.mode,m,null),v.return=h,v;yo(h,v)}return null}function f(h,v,m,S){var E=v!==null?v.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:l(h,v,""+m,S);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case io:return m.key===E?s(h,v,m,S):null;case vn:return m.key===E?u(h,v,m,S):null;case gr:return E=m._init,f(h,v,E(m._payload),S)}if(la(m)||qn(m))return E!==null?null:c(h,v,m,S,null);yo(h,m)}return null}function p(h,v,m,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(m)||null,l(v,h,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case io:return h=h.get(S.key===null?m:S.key)||null,s(v,h,S,E);case vn:return h=h.get(S.key===null?m:S.key)||null,u(v,h,S,E);case gr:var L=S._init;return p(h,v,m,L(S._payload),E)}if(la(S)||qn(S))return h=h.get(m)||null,c(v,h,S,E,null);yo(v,S)}return null}function y(h,v,m,S){for(var E=null,L=null,w=v,T=v=0,A=null;w!==null&&T<m.length;T++){w.index>T?(A=w,w=null):A=w.sibling;var _=f(h,w,m[T],S);if(_===null){w===null&&(w=A);break}e&&w&&_.alternate===null&&t(h,w),v=o(_,v,T),L===null?E=_:L.sibling=_,L=_,w=A}if(T===m.length)return r(h,w),ye&&$r(h,T),E;if(w===null){for(;T<m.length;T++)w=d(h,m[T],S),w!==null&&(v=o(w,v,T),L===null?E=w:L.sibling=w,L=w);return ye&&$r(h,T),E}for(w=n(h,w);T<m.length;T++)A=p(w,h,T,m[T],S),A!==null&&(e&&A.alternate!==null&&w.delete(A.key===null?T:A.key),v=o(A,v,T),L===null?E=A:L.sibling=A,L=A);return e&&w.forEach(function(D){return t(h,D)}),ye&&$r(h,T),E}function x(h,v,m,S){var E=qn(m);if(typeof E!="function")throw Error(U(150));if(m=E.call(m),m==null)throw Error(U(151));for(var L=E=null,w=v,T=v=0,A=null,_=m.next();w!==null&&!_.done;T++,_=m.next()){w.index>T?(A=w,w=null):A=w.sibling;var D=f(h,w,_.value,S);if(D===null){w===null&&(w=A);break}e&&w&&D.alternate===null&&t(h,w),v=o(D,v,T),L===null?E=D:L.sibling=D,L=D,w=A}if(_.done)return r(h,w),ye&&$r(h,T),E;if(w===null){for(;!_.done;T++,_=m.next())_=d(h,_.value,S),_!==null&&(v=o(_,v,T),L===null?E=_:L.sibling=_,L=_);return ye&&$r(h,T),E}for(w=n(h,w);!_.done;T++,_=m.next())_=p(w,h,T,_.value,S),_!==null&&(e&&_.alternate!==null&&w.delete(_.key===null?T:_.key),v=o(_,v,T),L===null?E=_:L.sibling=_,L=_);return e&&w.forEach(function(z){return t(h,z)}),ye&&$r(h,T),E}function k(h,v,m,S){if(typeof m=="object"&&m!==null&&m.type===gn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case io:e:{for(var E=m.key,L=v;L!==null;){if(L.key===E){if(E=m.type,E===gn){if(L.tag===7){r(h,L.sibling),v=a(L,m.props.children),v.return=h,h=v;break e}}else if(L.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gr&&Vc(E)===L.type){r(h,L.sibling),v=a(L,m.props),v.ref=na(h,L,m),v.return=h,h=v;break e}r(h,L);break}else t(h,L);L=L.sibling}m.type===gn?(v=Kr(m.props.children,h.mode,S,m.key),v.return=h,h=v):(S=Ho(m.type,m.key,m.props,null,h.mode,S),S.ref=na(h,v,m),S.return=h,h=S)}return i(h);case vn:e:{for(L=m.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===m.containerInfo&&v.stateNode.implementation===m.implementation){r(h,v.sibling),v=a(v,m.children||[]),v.return=h,h=v;break e}else{r(h,v);break}else t(h,v);v=v.sibling}v=bs(m,h.mode,S),v.return=h,h=v}return i(h);case gr:return L=m._init,k(h,v,L(m._payload),S)}if(la(m))return y(h,v,m,S);if(qn(m))return x(h,v,m,S);yo(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,v!==null&&v.tag===6?(r(h,v.sibling),v=a(v,m),v.return=h,h=v):(r(h,v),v=ws(m,h.mode,S),v.return=h,h=v),i(h)):r(h,v)}return k}var Bn=Bp(!0),jp=Bp(!1),ii=Ar(null),si=null,Tn=null,cu=null;function fu(){cu=Tn=si=null}function du(e){var t=ii.current;me(ii),e._currentValue=t}function dl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function On(e,t){si=e,cu=Tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(cu!==e)if(e={context:e,memoizedValue:t,next:null},Tn===null){if(si===null)throw Error(U(308));Tn=e,si.dependencies={lanes:0,firstContext:e}}else Tn=Tn.next=e;return t}var Xr=null;function pu(e){Xr===null?Xr=[e]:Xr.push(e)}function Gp(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,pu(t)):(r.next=a.next,a.next=r),t.interleaved=r,lr(e,n)}function lr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var mr=!1;function hu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $p(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,lr(e,r)}return a=n.interleaved,a===null?(t.next=t,pu(n)):(t.next=a.next,a.next=t),n.interleaved=t,lr(e,r)}function Ao(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jl(e,r)}}function Xc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function li(e,t,r,n){var a=e.updateQueue;mr=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var s=l,u=s.next;s.next=null,i===null?o=u:i.next=u,i=s;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==i&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(o!==null){var d=a.baseState;i=0,c=u=s=null,l=o;do{var f=l.lane,p=l.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(f=t,p=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){d=y.call(p,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(p,d,f):y,f==null)break e;d=Ee({},d,f);break e;case 2:mr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,s=d):c=c.next=p,i|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(c===null&&(s=d),a.baseState=s,a.firstBaseUpdate=u,a.lastBaseUpdate=c,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);rn|=i,e.lanes=i,e.memoizedState=d}}function Yc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(U(191,a));a.call(n)}}}var Va={},Yt=Ar(Va),Ua=Ar(Va),Oa=Ar(Va);function Yr(e){if(e===Va)throw Error(U(174));return e}function vu(e,t){switch(fe(Oa,t),fe(Ua,e),fe(Yt,Va),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ws(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ws(t,e)}me(Yt),fe(Yt,t)}function jn(){me(Yt),me(Ua),me(Oa)}function Hp(e){Yr(Oa.current);var t=Yr(Yt.current),r=Ws(t,e.type);t!==r&&(fe(Ua,e),fe(Yt,r))}function gu(e){Ua.current===e&&(me(Yt),me(Ua))}var be=Ar(0);function ui(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gs=[];function mu(){for(var e=0;e<gs.length;e++)gs[e]._workInProgressVersionPrimary=null;gs.length=0}var Mo=cr.ReactCurrentDispatcher,ms=cr.ReactCurrentBatchConfig,tn=0,Te=null,Ie=null,Be=null,ci=!1,ga=!1,Da=0,fm=0;function Ve(){throw Error(U(321))}function yu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Pt(e[r],t[r]))return!1;return!0}function xu(e,t,r,n,a,o){if(tn=o,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mo.current=e===null||e.memoizedState===null?vm:gm,e=r(n,a),ga){o=0;do{if(ga=!1,Da=0,25<=o)throw Error(U(301));o+=1,Be=Ie=null,t.updateQueue=null,Mo.current=mm,e=r(n,a)}while(ga)}if(Mo.current=fi,t=Ie!==null&&Ie.next!==null,tn=0,Be=Ie=Te=null,ci=!1,t)throw Error(U(300));return e}function ku(){var e=Da!==0;return Da=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Te.memoizedState=Be=e:Be=Be.next=e,Be}function Ct(){if(Ie===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Be===null?Te.memoizedState:Be.next;if(t!==null)Be=t,Ie=e;else{if(e===null)throw Error(U(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Be===null?Te.memoizedState=Be=e:Be=Be.next=e}return Be}function Pa(e,t){return typeof t=="function"?t(e):t}function ys(e){var t=Ct(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=Ie,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,s=null,u=o;do{var c=u.lane;if((tn&c)===c)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(l=s=d,i=n):s=s.next=d,Te.lanes|=c,rn|=c}u=u.next}while(u!==null&&u!==o);s===null?i=n:s.next=l,Pt(n,t.memoizedState)||(ot=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=s,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,Te.lanes|=o,rn|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xs(e){var t=Ct(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Pt(o,t.memoizedState)||(ot=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Zp(){}function Wp(e,t){var r=Te,n=Ct(),a=t(),o=!Pt(n.memoizedState,a);if(o&&(n.memoizedState=a,ot=!0),n=n.queue,Su(Yp.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Be!==null&&Be.memoizedState.tag&1){if(r.flags|=2048,za(9,Xp.bind(null,r,n,a,t),void 0,null),Ge===null)throw Error(U(349));tn&30||Vp(r,t,a)}return a}function Vp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Xp(e,t,r,n){t.value=r,t.getSnapshot=n,Qp(t)&&Kp(e)}function Yp(e,t,r){return r(function(){Qp(t)&&Kp(e)})}function Qp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pt(e,r)}catch{return!0}}function Kp(e){var t=lr(e,1);t!==null&&Dt(t,e,1,-1)}function Qc(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:e},t.queue=e,e=e.dispatch=hm.bind(null,Te,e),[t.memoizedState,e]}function za(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qp(){return Ct().memoizedState}function Bo(e,t,r,n){var a=Ht();Te.flags|=e,a.memoizedState=za(1|t,r,void 0,n===void 0?null:n)}function Di(e,t,r,n){var a=Ct();n=n===void 0?null:n;var o=void 0;if(Ie!==null){var i=Ie.memoizedState;if(o=i.destroy,n!==null&&yu(n,i.deps)){a.memoizedState=za(t,r,o,n);return}}Te.flags|=e,a.memoizedState=za(1|t,r,o,n)}function Kc(e,t){return Bo(8390656,8,e,t)}function Su(e,t){return Di(2048,8,e,t)}function Jp(e,t){return Di(4,2,e,t)}function eh(e,t){return Di(4,4,e,t)}function th(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rh(e,t,r){return r=r!=null?r.concat([e]):null,Di(4,4,th.bind(null,t,e),r)}function wu(){}function nh(e,t){var r=Ct();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ah(e,t){var r=Ct();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function oh(e,t,r){return tn&21?(Pt(r,t)||(r=cp(),Te.lanes|=r,rn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=r)}function dm(e,t){var r=le;le=r!==0&&4>r?r:4,e(!0);var n=ms.transition;ms.transition={};try{e(!1),t()}finally{le=r,ms.transition=n}}function ih(){return Ct().memoizedState}function pm(e,t,r){var n=_r(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},sh(e))lh(t,r);else if(r=Gp(e,t,r,n),r!==null){var a=tt();Dt(r,e,n,a),uh(r,t,n)}}function hm(e,t,r){var n=_r(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(sh(e))lh(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,Pt(l,i)){var s=t.interleaved;s===null?(a.next=a,pu(t)):(a.next=s.next,s.next=a),t.interleaved=a;return}}catch{}finally{}r=Gp(e,t,a,n),r!==null&&(a=tt(),Dt(r,e,n,a),uh(r,t,n))}}function sh(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function lh(e,t){ga=ci=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function uh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jl(e,r)}}var fi={readContext:Et,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},vm={readContext:Et,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:Kc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bo(4194308,4,th.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var r=Ht();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ht();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=pm.bind(null,Te,e),[n.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:Qc,useDebugValue:wu,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Qc(!1),t=e[0];return e=dm.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Te,a=Ht();if(ye){if(r===void 0)throw Error(U(407));r=r()}else{if(r=t(),Ge===null)throw Error(U(349));tn&30||Vp(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Kc(Yp.bind(null,n,o,e),[e]),n.flags|=2048,za(9,Xp.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Ht(),t=Ge.identifierPrefix;if(ye){var r=rr,n=tr;r=(n&~(1<<32-Ot(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Da++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=fm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gm={readContext:Et,useCallback:nh,useContext:Et,useEffect:Su,useImperativeHandle:rh,useInsertionEffect:Jp,useLayoutEffect:eh,useMemo:ah,useReducer:ys,useRef:qp,useState:function(){return ys(Pa)},useDebugValue:wu,useDeferredValue:function(e){var t=Ct();return oh(t,Ie.memoizedState,e)},useTransition:function(){var e=ys(Pa)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Zp,useSyncExternalStore:Wp,useId:ih,unstable_isNewReconciler:!1},mm={readContext:Et,useCallback:nh,useContext:Et,useEffect:Su,useImperativeHandle:rh,useInsertionEffect:Jp,useLayoutEffect:eh,useMemo:ah,useReducer:xs,useRef:qp,useState:function(){return xs(Pa)},useDebugValue:wu,useDeferredValue:function(e){var t=Ct();return Ie===null?t.memoizedState=e:oh(t,Ie.memoizedState,e)},useTransition:function(){var e=xs(Pa)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Zp,useSyncExternalStore:Wp,useId:ih,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function pl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ee({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Pi={isMounted:function(e){return(e=e._reactInternals)?sn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=tt(),a=_r(e),o=ar(n,a);o.payload=t,r!=null&&(o.callback=r),t=Fr(e,o,a),t!==null&&(Dt(t,e,a,n),Ao(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=tt(),a=_r(e),o=ar(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Fr(e,o,a),t!==null&&(Dt(t,e,a,n),Ao(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tt(),n=_r(e),a=ar(r,n);a.tag=2,t!=null&&(a.callback=t),t=Fr(e,a,n),t!==null&&(Dt(t,e,n,r),Ao(t,e,n))}};function qc(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ra(r,n)||!Ra(a,o):!0}function ch(e,t,r){var n=!1,a=Or,o=t.contextType;return typeof o=="object"&&o!==null?o=Et(o):(a=st(t)?Jr:qe.current,n=t.contextTypes,o=(n=n!=null)?An(e,a):Or),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Jc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Pi.enqueueReplaceState(t,t.state,null)}function hl(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},hu(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Et(o):(o=st(t)?Jr:qe.current,a.context=An(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(pl(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Pi.enqueueReplaceState(a,a.state,null),li(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Gn(e,t){try{var r="",n=t;do r+=Z0(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function ks(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ym=typeof WeakMap=="function"?WeakMap:Map;function fh(e,t,r){r=ar(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){pi||(pi=!0,El=n),vl(e,t)},r}function dh(e,t,r){r=ar(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){vl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){vl(e,t),typeof n!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function ef(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ym;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Um.bind(null,e,t,r),t.then(e,e))}function tf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rf(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ar(-1,1),t.tag=2,Fr(r,t,1))),r.lanes|=1),e)}var xm=cr.ReactCurrentOwner,ot=!1;function et(e,t,r,n){t.child=e===null?jp(t,null,r,n):Bn(t,e.child,r,n)}function nf(e,t,r,n,a){r=r.render;var o=t.ref;return On(t,a),n=xu(e,t,r,n,o,a),r=ku(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ur(e,t,a)):(ye&&r&&su(t),t.flags|=1,et(e,t,n,a),t.child)}function af(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Nu(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,ph(e,t,o,n,a)):(e=Ho(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ra,r(i,n)&&e.ref===t.ref)return ur(e,t,a)}return t.flags|=1,e=Nr(o,n),e.ref=t.ref,e.return=t,t.child=e}function ph(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Ra(o,n)&&e.ref===t.ref)if(ot=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,ur(e,t,a)}return gl(e,t,r,n,a)}function hh(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Cn,ft),ft|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(Cn,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,fe(Cn,ft),ft|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,fe(Cn,ft),ft|=n;return et(e,t,a,r),t.child}function vh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gl(e,t,r,n,a){var o=st(r)?Jr:qe.current;return o=An(t,o),On(t,a),r=xu(e,t,r,n,o,a),n=ku(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ur(e,t,a)):(ye&&n&&su(t),t.flags|=1,et(e,t,r,a),t.child)}function of(e,t,r,n,a){if(st(r)){var o=!0;ni(t)}else o=!1;if(On(t,a),t.stateNode===null)jo(e,t),ch(t,r,n),hl(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var s=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Et(u):(u=st(r)?Jr:qe.current,u=An(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||s!==u)&&Jc(t,i,n,u),mr=!1;var f=t.memoizedState;i.state=f,li(t,n,i,a),s=t.memoizedState,l!==n||f!==s||it.current||mr?(typeof c=="function"&&(pl(t,r,c,n),s=t.memoizedState),(l=mr||qc(t,r,l,n,f,s,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=s),i.props=n,i.state=s,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,$p(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Nt(t.type,l),i.props=u,d=t.pendingProps,f=i.context,s=r.contextType,typeof s=="object"&&s!==null?s=Et(s):(s=st(r)?Jr:qe.current,s=An(t,s));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||f!==s)&&Jc(t,i,n,s),mr=!1,f=t.memoizedState,i.state=f,li(t,n,i,a);var y=t.memoizedState;l!==d||f!==y||it.current||mr?(typeof p=="function"&&(pl(t,r,p,n),y=t.memoizedState),(u=mr||qc(t,r,u,n,f,y,s)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),i.props=n,i.state=y,i.context=s,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return ml(e,t,r,n,o,a)}function ml(e,t,r,n,a,o){vh(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Hc(t,r,!1),ur(e,t,o);n=t.stateNode,xm.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Bn(t,e.child,null,o),t.child=Bn(t,null,l,o)):et(e,t,l,o),t.memoizedState=n.state,a&&Hc(t,r,!0),t.child}function gh(e){var t=e.stateNode;t.pendingContext?$c(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$c(e,t.context,!1),vu(e,t.containerInfo)}function sf(e,t,r,n,a){return Mn(),uu(a),t.flags|=256,et(e,t,r,n),t.child}var yl={dehydrated:null,treeContext:null,retryLane:0};function xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function mh(e,t,r){var n=t.pendingProps,a=be.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),fe(be,a&1),e===null)return fl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ai(i,n,0,null),e=Kr(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=xl(r),t.memoizedState=yl,e):bu(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return km(e,t,i,n,l,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,l=a.sibling;var s={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=s,t.deletions=null):(n=Nr(a,s),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Nr(l,o):(o=Kr(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?xl(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=yl,n}return o=e.child,e=o.sibling,n=Nr(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function bu(e,t){return t=Ai({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xo(e,t,r,n){return n!==null&&uu(n),Bn(t,e.child,null,r),e=bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function km(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=ks(Error(U(422))),xo(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Ai({mode:"visible",children:n.children},a,0,null),o=Kr(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Bn(t,e.child,null,i),t.child.memoizedState=xl(i),t.memoizedState=yl,o);if(!(t.mode&1))return xo(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(U(419)),n=ks(o,n,void 0),xo(e,t,i,n)}if(l=(i&e.childLanes)!==0,ot||l){if(n=Ge,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,lr(e,a),Dt(n,e,a,-1))}return _u(),n=ks(Error(U(421))),xo(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Om.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,dt=Cr(a.nextSibling),pt=t,ye=!0,Ut=null,e!==null&&(St[wt++]=tr,St[wt++]=rr,St[wt++]=en,tr=e.id,rr=e.overflow,en=t),t=bu(t,n.children),t.flags|=4096,t)}function lf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),dl(e.return,t,r)}function Ss(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function yh(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(et(e,t,n.children,r),n=be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lf(e,r,t);else if(e.tag===19)lf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fe(be,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ui(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ss(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ui(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ss(t,!0,r,null,o);break;case"together":Ss(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ur(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),rn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,r=Nr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Nr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Sm(e,t,r){switch(t.tag){case 3:gh(t),Mn();break;case 5:Hp(t);break;case 1:st(t.type)&&ni(t);break;case 4:vu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;fe(ii,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fe(be,be.current&1),t.flags|=128,null):r&t.child.childLanes?mh(e,t,r):(fe(be,be.current&1),e=ur(e,t,r),e!==null?e.sibling:null);fe(be,be.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return yh(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),fe(be,be.current),n)break;return null;case 22:case 23:return t.lanes=0,hh(e,t,r)}return ur(e,t,r)}var xh,kl,kh,Sh;xh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kl=function(){};kh=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Yr(Yt.current);var o=null;switch(r){case"input":a=Gs(e,a),n=Gs(e,n),o=[];break;case"select":a=Ee({},a,{value:void 0}),n=Ee({},n,{value:void 0}),o=[];break;case"textarea":a=Zs(e,a),n=Zs(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ti)}Vs(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var s=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&s!==l&&(s!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||s&&s.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in s)s.hasOwnProperty(i)&&l[i]!==s[i]&&(r||(r={}),r[i]=s[i])}else r||(o||(o=[]),o.push(u,r)),r=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(o=o||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(o=o||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sa.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&ge("scroll",e),o||l===s||(o=[])):(o=o||[]).push(u,s))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Sh=function(e,t,r,n){r!==n&&(t.flags|=4)};function aa(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wm(e,t,r){var n=t.pendingProps;switch(lu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return st(t.type)&&ri(),Xe(t),null;case 3:return n=t.stateNode,jn(),me(it),me(qe),mu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(mo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ut!==null&&(Rl(Ut),Ut=null))),kl(e,t),Xe(t),null;case 5:gu(t);var a=Yr(Oa.current);if(r=t.type,e!==null&&t.stateNode!=null)kh(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(U(166));return Xe(t),null}if(e=Yr(Yt.current),mo(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Wt]=t,n[La]=o,e=(t.mode&1)!==0,r){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(a=0;a<ca.length;a++)ge(ca[a],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":gc(n,o),ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ge("invalid",n);break;case"textarea":yc(n,o),ge("invalid",n)}Vs(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&go(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&go(n.textContent,l,e),a=["children",""+l]):Sa.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ge("scroll",n)}switch(r){case"input":so(n),mc(n,o,!0);break;case"textarea":so(n),xc(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ti)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Wt]=t,e[La]=n,xh(e,t,!1,!1),t.stateNode=e;e:{switch(i=Xs(r,n),r){case"dialog":ge("cancel",e),ge("close",e),a=n;break;case"iframe":case"object":case"embed":ge("load",e),a=n;break;case"video":case"audio":for(a=0;a<ca.length;a++)ge(ca[a],e);a=n;break;case"source":ge("error",e),a=n;break;case"img":case"image":case"link":ge("error",e),ge("load",e),a=n;break;case"details":ge("toggle",e),a=n;break;case"input":gc(e,n),a=Gs(e,n),ge("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ee({},n,{value:void 0}),ge("invalid",e);break;case"textarea":yc(e,n),a=Zs(e,n),ge("invalid",e);break;default:a=n}Vs(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="style"?qd(e,s):o==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&Qd(e,s)):o==="children"?typeof s=="string"?(r!=="textarea"||s!=="")&&wa(e,s):typeof s=="number"&&wa(e,""+s):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Sa.hasOwnProperty(o)?s!=null&&o==="onScroll"&&ge("scroll",e):s!=null&&Vl(e,o,s,i))}switch(r){case"input":so(e),mc(e,n,!1);break;case"textarea":so(e),xc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ur(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?_n(e,!!n.multiple,o,!1):n.defaultValue!=null&&_n(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ti)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)Sh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(U(166));if(r=Yr(Oa.current),Yr(Yt.current),mo(t)){if(n=t.stateNode,r=t.memoizedProps,n[Wt]=t,(o=n.nodeValue!==r)&&(e=pt,e!==null))switch(e.tag){case 3:go(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&go(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wt]=t,t.stateNode=n}return Xe(t),null;case 13:if(me(be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&dt!==null&&t.mode&1&&!(t.flags&128))Mp(),Mn(),t.flags|=98560,o=!1;else if(o=mo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(U(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[Wt]=t}else Mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),o=!1}else Ut!==null&&(Rl(Ut),Ut=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Ae===0&&(Ae=3):_u())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return jn(),kl(e,t),e===null&&_a(t.stateNode.containerInfo),Xe(t),null;case 10:return du(t.type._context),Xe(t),null;case 17:return st(t.type)&&ri(),Xe(t),null;case 19:if(me(be),o=t.memoizedState,o===null)return Xe(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)aa(o,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ui(e),i!==null){for(t.flags|=128,aa(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fe(be,be.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ue()>$n&&(t.flags|=128,n=!0,aa(o,!1),t.lanes=4194304)}else{if(!n)if(e=ui(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),aa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ye)return Xe(t),null}else 2*Ue()-o.renderingStartTime>$n&&r!==1073741824&&(t.flags|=128,n=!0,aa(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ue(),t.sibling=null,r=be.current,fe(be,n?r&1|2:r&1),t):(Xe(t),null);case 22:case 23:return Ru(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ft&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function bm(e,t){switch(lu(t),t.tag){case 1:return st(t.type)&&ri(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jn(),me(it),me(qe),mu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gu(t),null;case 13:if(me(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(be),null;case 4:return jn(),null;case 10:return du(t.type._context),null;case 22:case 23:return Ru(),null;case 24:return null;default:return null}}var ko=!1,Ke=!1,Tm=typeof WeakSet=="function"?WeakSet:Set,j=null;function En(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Fe(e,t,n)}else r.current=null}function Sl(e,t,r){try{r()}catch(n){Fe(e,t,n)}}var uf=!1;function Em(e,t){if(al=qo,e=Cp(),iu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,s=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(l=i+a),d!==o||n!==0&&d.nodeType!==3||(s=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++u===a&&(l=i),f===o&&++c===n&&(s=i),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=l===-1||s===-1?null:{start:l,end:s}}else r=null}r=r||{start:0,end:0}}else r=null;for(ol={focusedElem:e,selectionRange:r},qo=!1,j=t;j!==null;)if(t=j,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,k=y.memoizedState,h=t.stateNode,v=h.getSnapshotBeforeUpdate(t.elementType===t.type?x:Nt(t.type,x),k);h.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(S){Fe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return y=uf,uf=!1,y}function ma(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&Sl(t,r,o)}a=a.next}while(a!==n)}}function zi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function wl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function wh(e){var t=e.alternate;t!==null&&(e.alternate=null,wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wt],delete t[La],delete t[ll],delete t[sm],delete t[lm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bh(e){return e.tag===5||e.tag===3||e.tag===4}function cf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ti));else if(n!==4&&(e=e.child,e!==null))for(bl(e,t,r),e=e.sibling;e!==null;)bl(e,t,r),e=e.sibling}function Tl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Tl(e,t,r),e=e.sibling;e!==null;)Tl(e,t,r),e=e.sibling}var He=null,Lt=!1;function dr(e,t,r){for(r=r.child;r!==null;)Th(e,t,r),r=r.sibling}function Th(e,t,r){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Ri,r)}catch{}switch(r.tag){case 5:Ke||En(r,t);case 6:var n=He,a=Lt;He=null,dr(e,t,r),He=n,Lt=a,He!==null&&(Lt?(e=He,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):He.removeChild(r.stateNode));break;case 18:He!==null&&(Lt?(e=He,r=r.stateNode,e.nodeType===8?hs(e.parentNode,r):e.nodeType===1&&hs(e,r),Ca(e)):hs(He,r.stateNode));break;case 4:n=He,a=Lt,He=r.stateNode.containerInfo,Lt=!0,dr(e,t,r),He=n,Lt=a;break;case 0:case 11:case 14:case 15:if(!Ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Sl(r,t,i),a=a.next}while(a!==n)}dr(e,t,r);break;case 1:if(!Ke&&(En(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Fe(r,t,l)}dr(e,t,r);break;case 21:dr(e,t,r);break;case 22:r.mode&1?(Ke=(n=Ke)||r.memoizedState!==null,dr(e,t,r),Ke=n):dr(e,t,r);break;default:dr(e,t,r)}}function ff(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Tm),t.forEach(function(n){var a=Dm.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function _t(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,Lt=!1;break e;case 3:He=l.stateNode.containerInfo,Lt=!0;break e;case 4:He=l.stateNode.containerInfo,Lt=!0;break e}l=l.return}if(He===null)throw Error(U(160));Th(o,i,a),He=null,Lt=!1;var s=a.alternate;s!==null&&(s.return=null),a.return=null}catch(u){Fe(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Eh(t,e),t=t.sibling}function Eh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),jt(e),n&4){try{ma(3,e,e.return),zi(3,e)}catch(x){Fe(e,e.return,x)}try{ma(5,e,e.return)}catch(x){Fe(e,e.return,x)}}break;case 1:_t(t,e),jt(e),n&512&&r!==null&&En(r,r.return);break;case 5:if(_t(t,e),jt(e),n&512&&r!==null&&En(r,r.return),e.flags&32){var a=e.stateNode;try{wa(a,"")}catch(x){Fe(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Vd(a,o),Xs(l,i);var u=Xs(l,o);for(i=0;i<s.length;i+=2){var c=s[i],d=s[i+1];c==="style"?qd(a,d):c==="dangerouslySetInnerHTML"?Qd(a,d):c==="children"?wa(a,d):Vl(a,c,d,u)}switch(l){case"input":$s(a,o);break;case"textarea":Xd(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?_n(a,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?_n(a,!!o.multiple,o.defaultValue,!0):_n(a,!!o.multiple,o.multiple?[]:"",!1))}a[La]=o}catch(x){Fe(e,e.return,x)}}break;case 6:if(_t(t,e),jt(e),n&4){if(e.stateNode===null)throw Error(U(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(x){Fe(e,e.return,x)}}break;case 3:if(_t(t,e),jt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ca(t.containerInfo)}catch(x){Fe(e,e.return,x)}break;case 4:_t(t,e),jt(e);break;case 13:_t(t,e),jt(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Cu=Ue())),n&4&&ff(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Ke=(u=Ke)||c,_t(t,e),Ke=u):_t(t,e),jt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(j=e,c=e.child;c!==null;){for(d=j=c;j!==null;){switch(f=j,p=f.child,f.tag){case 0:case 11:case 14:case 15:ma(4,f,f.return);break;case 1:En(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){Fe(n,r,x)}}break;case 5:En(f,f.return);break;case 22:if(f.memoizedState!==null){pf(d);continue}}p!==null?(p.return=f,j=p):pf(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{a=d.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,s=d.memoizedProps.style,i=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=Kd("display",i))}catch(x){Fe(e,e.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){Fe(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_t(t,e),jt(e),n&4&&ff(e);break;case 21:break;default:_t(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(bh(r)){var n=r;break e}r=r.return}throw Error(U(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(wa(a,""),n.flags&=-33);var o=cf(e);Tl(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=cf(e);bl(e,l,i);break;default:throw Error(U(161))}}catch(s){Fe(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cm(e,t,r){j=e,Ch(e)}function Ch(e,t,r){for(var n=(e.mode&1)!==0;j!==null;){var a=j,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||ko;if(!i){var l=a.alternate,s=l!==null&&l.memoizedState!==null||Ke;l=ko;var u=Ke;if(ko=i,(Ke=s)&&!u)for(j=a;j!==null;)i=j,s=i.child,i.tag===22&&i.memoizedState!==null?hf(a):s!==null?(s.return=i,j=s):hf(a);for(;o!==null;)j=o,Ch(o),o=o.sibling;j=a,ko=l,Ke=u}df(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,j=o):df(e)}}function df(e){for(;j!==null;){var t=j;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||zi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ke)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Nt(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Yc(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Yc(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break;case"img":s.src&&(r.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ca(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ke||t.flags&512&&wl(t)}catch(f){Fe(t,t.return,f)}}if(t===e){j=null;break}if(r=t.sibling,r!==null){r.return=t.return,j=r;break}j=t.return}}function pf(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var r=t.sibling;if(r!==null){r.return=t.return,j=r;break}j=t.return}}function hf(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zi(4,t)}catch(s){Fe(t,r,s)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(s){Fe(t,a,s)}}var o=t.return;try{wl(t)}catch(s){Fe(t,o,s)}break;case 5:var i=t.return;try{wl(t)}catch(s){Fe(t,i,s)}}}catch(s){Fe(t,t.return,s)}if(t===e){j=null;break}var l=t.sibling;if(l!==null){l.return=t.return,j=l;break}j=t.return}}var Fm=Math.ceil,di=cr.ReactCurrentDispatcher,Tu=cr.ReactCurrentOwner,Tt=cr.ReactCurrentBatchConfig,oe=0,Ge=null,De=null,Ze=0,ft=0,Cn=Ar(0),Ae=0,Ia=null,rn=0,Ii=0,Eu=0,ya=null,at=null,Cu=0,$n=1/0,Jt=null,pi=!1,El=null,Rr=null,So=!1,Sr=null,hi=0,xa=0,Cl=null,Go=-1,$o=0;function tt(){return oe&6?Ue():Go!==-1?Go:Go=Ue()}function _r(e){return e.mode&1?oe&2&&Ze!==0?Ze&-Ze:cm.transition!==null?($o===0&&($o=cp()),$o):(e=le,e!==0||(e=window.event,e=e===void 0?16:mp(e.type)),e):1}function Dt(e,t,r,n){if(50<xa)throw xa=0,Cl=null,Error(U(185));Ha(e,r,n),(!(oe&2)||e!==Ge)&&(e===Ge&&(!(oe&2)&&(Ii|=r),Ae===4&&xr(e,Ze)),lt(e,n),r===1&&oe===0&&!(t.mode&1)&&($n=Ue()+500,Oi&&Mr()))}function lt(e,t){var r=e.callbackNode;cg(e,t);var n=Ko(e,e===Ge?Ze:0);if(n===0)r!==null&&wc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&wc(r),t===1)e.tag===0?um(vf.bind(null,e)):zp(vf.bind(null,e)),om(function(){!(oe&6)&&Mr()}),r=null;else{switch(fp(n)){case 1:r=ql;break;case 4:r=lp;break;case 16:r=Qo;break;case 536870912:r=up;break;default:r=Qo}r=Dh(r,Fh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Fh(e,t){if(Go=-1,$o=0,oe&6)throw Error(U(327));var r=e.callbackNode;if(Dn()&&e.callbackNode!==r)return null;var n=Ko(e,e===Ge?Ze:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=vi(e,n);else{t=n;var a=oe;oe|=2;var o=_h();(Ge!==e||Ze!==t)&&(Jt=null,$n=Ue()+500,Qr(e,t));do try{Nm();break}catch(l){Rh(e,l)}while(!0);fu(),di.current=o,oe=a,De!==null?t=0:(Ge=null,Ze=0,t=Ae)}if(t!==0){if(t===2&&(a=Js(e),a!==0&&(n=a,t=Fl(e,a))),t===1)throw r=Ia,Qr(e,0),xr(e,n),lt(e,Ue()),r;if(t===6)xr(e,n);else{if(a=e.current.alternate,!(n&30)&&!Rm(a)&&(t=vi(e,n),t===2&&(o=Js(e),o!==0&&(n=o,t=Fl(e,o))),t===1))throw r=Ia,Qr(e,0),xr(e,n),lt(e,Ue()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(U(345));case 2:Hr(e,at,Jt);break;case 3:if(xr(e,n),(n&130023424)===n&&(t=Cu+500-Ue(),10<t)){if(Ko(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){tt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=sl(Hr.bind(null,e,at,Jt),t);break}Hr(e,at,Jt);break;case 4:if(xr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Ot(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=Ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Fm(n/1960))-n,10<n){e.timeoutHandle=sl(Hr.bind(null,e,at,Jt),n);break}Hr(e,at,Jt);break;case 5:Hr(e,at,Jt);break;default:throw Error(U(329))}}}return lt(e,Ue()),e.callbackNode===r?Fh.bind(null,e):null}function Fl(e,t){var r=ya;return e.current.memoizedState.isDehydrated&&(Qr(e,t).flags|=256),e=vi(e,t),e!==2&&(t=at,at=r,t!==null&&Rl(t)),e}function Rl(e){at===null?at=e:at.push.apply(at,e)}function Rm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!Pt(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t){for(t&=~Eu,t&=~Ii,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ot(t),n=1<<r;e[r]=-1,t&=~n}}function vf(e){if(oe&6)throw Error(U(327));Dn();var t=Ko(e,0);if(!(t&1))return lt(e,Ue()),null;var r=vi(e,t);if(e.tag!==0&&r===2){var n=Js(e);n!==0&&(t=n,r=Fl(e,n))}if(r===1)throw r=Ia,Qr(e,0),xr(e,t),lt(e,Ue()),r;if(r===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hr(e,at,Jt),lt(e,Ue()),null}function Fu(e,t){var r=oe;oe|=1;try{return e(t)}finally{oe=r,oe===0&&($n=Ue()+500,Oi&&Mr())}}function nn(e){Sr!==null&&Sr.tag===0&&!(oe&6)&&Dn();var t=oe;oe|=1;var r=Tt.transition,n=le;try{if(Tt.transition=null,le=1,e)return e()}finally{le=n,Tt.transition=r,oe=t,!(oe&6)&&Mr()}}function Ru(){ft=Cn.current,me(Cn)}function Qr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,am(r)),De!==null)for(r=De.return;r!==null;){var n=r;switch(lu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ri();break;case 3:jn(),me(it),me(qe),mu();break;case 5:gu(n);break;case 4:jn();break;case 13:me(be);break;case 19:me(be);break;case 10:du(n.type._context);break;case 22:case 23:Ru()}r=r.return}if(Ge=e,De=e=Nr(e.current,null),Ze=ft=t,Ae=0,Ia=null,Eu=Ii=rn=0,at=ya=null,Xr!==null){for(t=0;t<Xr.length;t++)if(r=Xr[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Xr=null}return e}function Rh(e,t){do{var r=De;try{if(fu(),Mo.current=fi,ci){for(var n=Te.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ci=!1}if(tn=0,Be=Ie=Te=null,ga=!1,Da=0,Tu.current=null,r===null||r.return===null){Ae=1,Ia=t,De=null;break}e:{var o=e,i=r.return,l=r,s=t;if(t=Ze,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=tf(i);if(p!==null){p.flags&=-257,rf(p,i,l,o,t),p.mode&1&&ef(o,u,t),t=p,s=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(s),t.updateQueue=x}else y.add(s);break e}else{if(!(t&1)){ef(o,u,t),_u();break e}s=Error(U(426))}}else if(ye&&l.mode&1){var k=tf(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),rf(k,i,l,o,t),uu(Gn(s,l));break e}}o=s=Gn(s,l),Ae!==4&&(Ae=2),ya===null?ya=[o]:ya.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=fh(o,s,t);Xc(o,h);break e;case 1:l=s;var v=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Rr===null||!Rr.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=dh(o,l,t);Xc(o,S);break e}}o=o.return}while(o!==null)}Lh(r)}catch(E){t=E,De===r&&r!==null&&(De=r=r.return);continue}break}while(!0)}function _h(){var e=di.current;return di.current=fi,e===null?fi:e}function _u(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Ge===null||!(rn&268435455)&&!(Ii&268435455)||xr(Ge,Ze)}function vi(e,t){var r=oe;oe|=2;var n=_h();(Ge!==e||Ze!==t)&&(Jt=null,Qr(e,t));do try{_m();break}catch(a){Rh(e,a)}while(!0);if(fu(),oe=r,di.current=n,De!==null)throw Error(U(261));return Ge=null,Ze=0,Ae}function _m(){for(;De!==null;)Nh(De)}function Nm(){for(;De!==null&&!tg();)Nh(De)}function Nh(e){var t=Oh(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?Lh(e):De=t,Tu.current=null}function Lh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=bm(r,t),r!==null){r.flags&=32767,De=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,De=null;return}}else if(r=wm(r,t,ft),r!==null){De=r;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Ae===0&&(Ae=5)}function Hr(e,t,r){var n=le,a=Tt.transition;try{Tt.transition=null,le=1,Lm(e,t,r,n)}finally{Tt.transition=a,le=n}return null}function Lm(e,t,r,n){do Dn();while(Sr!==null);if(oe&6)throw Error(U(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(fg(e,o),e===Ge&&(De=Ge=null,Ze=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||So||(So=!0,Dh(Qo,function(){return Dn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Tt.transition,Tt.transition=null;var i=le;le=1;var l=oe;oe|=4,Tu.current=null,Em(e,r),Eh(r,e),Kg(ol),qo=!!al,ol=al=null,e.current=r,Cm(r),rg(),oe=l,le=i,Tt.transition=o}else e.current=r;if(So&&(So=!1,Sr=e,hi=a),o=e.pendingLanes,o===0&&(Rr=null),og(r.stateNode),lt(e,Ue()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(pi)throw pi=!1,e=El,El=null,e;return hi&1&&e.tag!==0&&Dn(),o=e.pendingLanes,o&1?e===Cl?xa++:(xa=0,Cl=e):xa=0,Mr(),null}function Dn(){if(Sr!==null){var e=fp(hi),t=Tt.transition,r=le;try{if(Tt.transition=null,le=16>e?16:e,Sr===null)var n=!1;else{if(e=Sr,Sr=null,hi=0,oe&6)throw Error(U(331));var a=oe;for(oe|=4,j=e.current;j!==null;){var o=j,i=o.child;if(j.flags&16){var l=o.deletions;if(l!==null){for(var s=0;s<l.length;s++){var u=l[s];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:ma(8,c,o)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var f=c.sibling,p=c.return;if(wh(c),c===u){j=null;break}if(f!==null){f.return=p,j=f;break}j=p}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}j=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,j=i;else e:for(;j!==null;){if(o=j,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ma(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,j=h;break e}j=o.return}}var v=e.current;for(j=v;j!==null;){i=j;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,j=m;else e:for(i=v;j!==null;){if(l=j,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zi(9,l)}}catch(E){Fe(l,l.return,E)}if(l===i){j=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,j=S;break e}j=l.return}}if(oe=a,Mr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Ri,e)}catch{}n=!0}return n}finally{le=r,Tt.transition=t}}return!1}function gf(e,t,r){t=Gn(r,t),t=fh(e,t,1),e=Fr(e,t,1),t=tt(),e!==null&&(Ha(e,1,t),lt(e,t))}function Fe(e,t,r){if(e.tag===3)gf(e,e,r);else for(;t!==null;){if(t.tag===3){gf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rr===null||!Rr.has(n))){e=Gn(r,e),e=dh(t,e,1),t=Fr(t,e,1),e=tt(),t!==null&&(Ha(t,1,e),lt(t,e));break}}t=t.return}}function Um(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&r,Ge===e&&(Ze&r)===r&&(Ae===4||Ae===3&&(Ze&130023424)===Ze&&500>Ue()-Cu?Qr(e,0):Eu|=r),lt(e,t)}function Uh(e,t){t===0&&(e.mode&1?(t=co,co<<=1,!(co&130023424)&&(co=4194304)):t=1);var r=tt();e=lr(e,t),e!==null&&(Ha(e,t,r),lt(e,r))}function Om(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Uh(e,r)}function Dm(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(t),Uh(e,r)}var Oh;Oh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)ot=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ot=!1,Sm(e,t,r);ot=!!(e.flags&131072)}else ot=!1,ye&&t.flags&1048576&&Ip(t,oi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;jo(e,t),e=t.pendingProps;var a=An(t,qe.current);On(t,r),a=xu(null,t,n,e,a,r);var o=ku();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(n)?(o=!0,ni(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,hu(t),a.updater=Pi,t.stateNode=a,a._reactInternals=t,hl(t,n,e,r),t=ml(null,t,n,!0,o,r)):(t.tag=0,ye&&o&&su(t),et(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(jo(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=zm(n),e=Nt(n,e),a){case 0:t=gl(null,t,n,e,r);break e;case 1:t=of(null,t,n,e,r);break e;case 11:t=nf(null,t,n,e,r);break e;case 14:t=af(null,t,n,Nt(n.type,e),r);break e}throw Error(U(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Nt(n,a),gl(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Nt(n,a),of(e,t,n,a,r);case 3:e:{if(gh(t),e===null)throw Error(U(387));n=t.pendingProps,o=t.memoizedState,a=o.element,$p(e,t),li(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Gn(Error(U(423)),t),t=sf(e,t,n,r,a);break e}else if(n!==a){a=Gn(Error(U(424)),t),t=sf(e,t,n,r,a);break e}else for(dt=Cr(t.stateNode.containerInfo.firstChild),pt=t,ye=!0,Ut=null,r=jp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mn(),n===a){t=ur(e,t,r);break e}et(e,t,n,r)}t=t.child}return t;case 5:return Hp(t),e===null&&fl(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,il(n,a)?i=null:o!==null&&il(n,o)&&(t.flags|=32),vh(e,t),et(e,t,i,r),t.child;case 6:return e===null&&fl(t),null;case 13:return mh(e,t,r);case 4:return vu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Bn(t,null,n,r):et(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Nt(n,a),nf(e,t,n,a,r);case 7:return et(e,t,t.pendingProps,r),t.child;case 8:return et(e,t,t.pendingProps.children,r),t.child;case 12:return et(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,fe(ii,n._currentValue),n._currentValue=i,o!==null)if(Pt(o.value,i)){if(o.children===a.children&&!it.current){t=ur(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var s=l.firstContext;s!==null;){if(s.context===n){if(o.tag===1){s=ar(-1,r&-r),s.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?s.next=s:(s.next=c.next,c.next=s),u.pending=s}}o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),dl(o.return,r,t),l.lanes|=r;break}s=s.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(U(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),dl(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}et(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,On(t,r),a=Et(a),n=n(a),t.flags|=1,et(e,t,n,r),t.child;case 14:return n=t.type,a=Nt(n,t.pendingProps),a=Nt(n.type,a),af(e,t,n,a,r);case 15:return ph(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Nt(n,a),jo(e,t),t.tag=1,st(n)?(e=!0,ni(t)):e=!1,On(t,r),ch(t,n,a),hl(t,n,a,r),ml(null,t,n,!0,e,r);case 19:return yh(e,t,r);case 22:return hh(e,t,r)}throw Error(U(156,t.tag))};function Dh(e,t){return sp(e,t)}function Pm(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,r,n){return new Pm(e,t,r,n)}function Nu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zm(e){if(typeof e=="function")return Nu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yl)return 11;if(e===Ql)return 14}return 2}function Nr(e,t){var r=e.alternate;return r===null?(r=bt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ho(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")Nu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case gn:return Kr(r.children,a,o,t);case Xl:i=8,a|=8;break;case As:return e=bt(12,r,t,a|2),e.elementType=As,e.lanes=o,e;case Ms:return e=bt(13,r,t,a),e.elementType=Ms,e.lanes=o,e;case Bs:return e=bt(19,r,t,a),e.elementType=Bs,e.lanes=o,e;case Hd:return Ai(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gd:i=10;break e;case $d:i=9;break e;case Yl:i=11;break e;case Ql:i=14;break e;case gr:i=16,n=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=bt(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function Kr(e,t,r,n){return e=bt(7,e,n,t),e.lanes=r,e}function Ai(e,t,r,n){return e=bt(22,e,n,t),e.elementType=Hd,e.lanes=r,e.stateNode={isHidden:!1},e}function ws(e,t,r){return e=bt(6,e,null,t),e.lanes=r,e}function bs(e,t,r){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Im(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ns(0),this.expirationTimes=ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Lu(e,t,r,n,a,o,i,l,s){return e=new Im(e,t,r,l,s),t===1?(t=1,o===!0&&(t|=8)):t=0,o=bt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hu(o),e}function Am(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ph(e){if(!e)return Or;e=e._reactInternals;e:{if(sn(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var r=e.type;if(st(r))return Pp(e,r,t)}return t}function zh(e,t,r,n,a,o,i,l,s){return e=Lu(r,n,!0,e,a,o,i,l,s),e.context=Ph(null),r=e.current,n=tt(),a=_r(r),o=ar(n,a),o.callback=t??null,Fr(r,o,a),e.current.lanes=a,Ha(e,a,n),lt(e,n),e}function Mi(e,t,r,n){var a=t.current,o=tt(),i=_r(a);return r=Ph(r),t.context===null?t.context=r:t.pendingContext=r,t=ar(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fr(a,t,i),e!==null&&(Dt(e,a,i,o),Ao(e,a,i)),i}function gi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Uu(e,t){mf(e,t),(e=e.alternate)&&mf(e,t)}function Mm(){return null}var Ih=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ou(e){this._internalRoot=e}Bi.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Mi(e,t,null,null)};Bi.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nn(function(){Mi(null,e,null,null)}),t[sr]=null}};function Bi(e){this._internalRoot=e}Bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=hp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yr.length&&t!==0&&t<yr[r].priority;r++);yr.splice(r,0,e),r===0&&gp(e)}};function Du(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yf(){}function Bm(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=gi(i);o.call(u)}}var i=zh(t,n,e,0,null,!1,!1,"",yf);return e._reactRootContainer=i,e[sr]=i.current,_a(e.nodeType===8?e.parentNode:e),nn(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=gi(s);l.call(u)}}var s=Lu(e,0,!1,null,null,!1,!1,"",yf);return e._reactRootContainer=s,e[sr]=s.current,_a(e.nodeType===8?e.parentNode:e),nn(function(){Mi(t,s,r,n)}),s}function Gi(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var s=gi(i);l.call(s)}}Mi(t,i,e,a)}else i=Bm(r,t,e,a,n);return gi(i)}dp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ua(t.pendingLanes);r!==0&&(Jl(t,r|1),lt(t,Ue()),!(oe&6)&&($n=Ue()+500,Mr()))}break;case 13:nn(function(){var n=lr(e,1);if(n!==null){var a=tt();Dt(n,e,1,a)}}),Uu(e,1)}};eu=function(e){if(e.tag===13){var t=lr(e,134217728);if(t!==null){var r=tt();Dt(t,e,134217728,r)}Uu(e,134217728)}};pp=function(e){if(e.tag===13){var t=_r(e),r=lr(e,t);if(r!==null){var n=tt();Dt(r,e,t,n)}Uu(e,t)}};hp=function(){return le};vp=function(e,t){var r=le;try{return le=e,t()}finally{le=r}};Qs=function(e,t,r){switch(t){case"input":if($s(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ui(n);if(!a)throw Error(U(90));Wd(n),$s(n,a)}}}break;case"textarea":Xd(e,r);break;case"select":t=r.value,t!=null&&_n(e,!!r.multiple,t,!1)}};tp=Fu;rp=nn;var jm={usingClientEntryPoint:!1,Events:[Wa,kn,Ui,Jd,ep,Fu]},oa={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gm={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=op(e),e===null?null:e.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||Mm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wo.isDisabled&&wo.supportsFiber)try{Ri=wo.inject(Gm),Xt=wo}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jm;vt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Du(t))throw Error(U(200));return Am(e,t,null,r)};vt.createRoot=function(e,t){if(!Du(e))throw Error(U(299));var r=!1,n="",a=Ih;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Lu(e,1,!1,null,null,r,!1,n,a),e[sr]=t.current,_a(e.nodeType===8?e.parentNode:e),new Ou(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=op(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return nn(e)};vt.hydrate=function(e,t,r){if(!ji(t))throw Error(U(200));return Gi(null,e,t,!0,r)};vt.hydrateRoot=function(e,t,r){if(!Du(e))throw Error(U(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=Ih;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=zh(t,null,e,1,r??null,a,!1,o,i),e[sr]=t.current,_a(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Bi(t)};vt.render=function(e,t,r){if(!ji(t))throw Error(U(200));return Gi(null,e,t,!1,r)};vt.unmountComponentAtNode=function(e){if(!ji(e))throw Error(U(40));return e._reactRootContainer?(nn(function(){Gi(null,null,e,!1,function(){e._reactRootContainer=null,e[sr]=null})}),!0):!1};vt.unstable_batchedUpdates=Fu;vt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ji(r))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Gi(e,t,r,!1,n)};vt.version="18.3.1-next-f1338f8080-20240426";function Ah(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ah)}catch(e){console.error(e)}}Ah(),Ad.exports=vt;var $m=Ad.exports,xf=$m;zs.createRoot=xf.createRoot,zs.hydrateRoot=xf.hydrateRoot;const Hm=({font:e,onExportJSON:t,onExportTTF:r,onImportJSON:n,onShowShortcuts:a})=>{const o=N.useRef(null),[i,l]=N.useState(!1),s=N.useRef(null);return qr.useEffect(()=>{const u=c=>{s.current&&!s.current.contains(c.target)&&l(!1)};if(i)return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[i]),g.jsxs("div",{className:"bg-neutral-900 text-white px-4 py-2 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("h1",{className:"text-lg font-bold",children:"Typeface Editor"}),g.jsxs("div",{className:"text-sm text-neutral-400",children:[e.meta.familyName," ",e.meta.styleName]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{onClick:a,className:"px-3 py-1.5 rounded bg-neutral-800 hover:bg-neutral-700 text-sm",title:"Keyboard Shortcuts (?)",children:[g.jsx("i",{className:"ph ph-keyboard"})," Shortcuts"]}),g.jsxs("button",{onClick:()=>{var u;return(u=o.current)==null?void 0:u.click()},className:"px-3 py-1.5 rounded bg-neutral-800 hover:bg-neutral-700 text-sm",children:[g.jsx("i",{className:"ph ph-upload-simple"})," Import"]}),g.jsxs("div",{className:"relative",ref:s,children:[g.jsxs("div",{className:"flex",children:[g.jsxs("button",{onClick:t,className:"px-3 py-1.5 rounded-l bg-blue-600 hover:bg-blue-500 text-sm",children:[g.jsx("i",{className:"ph ph-download-simple"})," Export"]}),g.jsx("button",{onClick:()=>l(!i),className:"px-2 py-1.5 rounded-r bg-blue-600 hover:bg-blue-500 text-sm border-l border-blue-500",title:"Export options",children:g.jsx("i",{className:`ph ph-caret-${i?"up":"down"}`})})]}),i&&g.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded shadow-lg border border-neutral-200 py-1 z-50",children:[g.jsxs("button",{onClick:()=>{t(),l(!1)},className:"w-full px-4 py-2 text-left text-sm text-neutral-700 hover:bg-neutral-100 flex items-center gap-2",children:[g.jsx("i",{className:"ph ph-file-text"}),g.jsx("span",{children:"Export as JSON"})]}),g.jsxs("button",{onClick:()=>{r(),l(!1)},className:"w-full px-4 py-2 text-left text-sm text-neutral-700 hover:bg-neutral-100 flex items-center gap-2",children:[g.jsx("i",{className:"ph ph-file-arrow-down"}),g.jsx("span",{children:"Export as TTF Font"})]})]})]}),g.jsx("input",{ref:o,type:"file",accept:".json",onChange:n,className:"hidden"})]})]})};var se=(e=>(e.SQUARE="square",e.CIRCLE="circle",e.TRIANGLE="triangle",e.QUARTER_CIRCLE="quarter-circle",e))(se||{}),Q=(e=>(e.TL="tl",e.TR="tr",e.BL="bl",e.BR="br",e))(Q||{}),Qe=(e=>(e.DRAW="draw",e.SELECT="select",e))(Qe||{}),ie=(e=>(e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom",e.CENTER_H="center-h",e.CENTER_V="center-v",e))(ie||{});const bo={viewBox:"0 0 24 24",className:"w-5 h-5 fill-current"},Zm=[{type:se.SQUARE,label:"Square",icon:g.jsx("svg",{...bo,children:g.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})})},{type:se.CIRCLE,label:"Circle",icon:g.jsx("svg",{...bo,children:g.jsx("circle",{cx:"12",cy:"12",r:"8"})})},{type:se.TRIANGLE,label:"Right Triangle",icon:g.jsx("svg",{...bo,children:g.jsx("path",{d:"M6 6v12h12z"})})},{type:se.QUARTER_CIRCLE,label:"Quarter Circle",icon:g.jsx("svg",{...bo,children:g.jsx("path",{d:"M6 6L18 6A12 12 0 0 1 6 18Z"})})}],te=32,Wm=({selectedShape:e,onSelectShape:t,tool:r,onToolChange:n,selectedShapeIds:a,onAlign:o,font:i,currentGlyph:l,onUpdateGlyph:s})=>{const u=i.glyphs[l],c=a.length>0;return g.jsx("div",{className:"bg-white border-b border-neutral-200 p-3",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>n(Qe.DRAW),className:`tool-btn px-3 py-2 rounded text-xs font-medium ${r===Qe.DRAW?"active":""}`,title:"Draw shapes (D)",children:g.jsx("i",{className:"ph ph-pencil-simple text-base"})}),g.jsx("button",{onClick:()=>n(Qe.SELECT),className:`tool-btn px-3 py-2 rounded text-xs font-medium ${r===Qe.SELECT?"active":""}`,title:"Select & transform (V)",children:g.jsx("i",{className:"ph ph-cursor text-base"})})]}),g.jsx("div",{className:"w-px h-6 bg-neutral-200"}),g.jsx("div",{className:"flex gap-2",children:Zm.map(d=>g.jsx("button",{onClick:()=>{t(d.type),r!==Qe.DRAW&&n(Qe.DRAW)},className:`shape-btn px-3 py-2 rounded text-center ${e===d.type&&r===Qe.DRAW?"selected":""}`,title:d.label,children:g.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-neutral-700",children:d.icon})},d.type))}),g.jsx("div",{className:"w-px h-6 bg-neutral-200"}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:()=>o(ie.LEFT),disabled:!c,className:"tool-btn px-2 py-1.5 rounded text-xs disabled:opacity-30 disabled:cursor-not-allowed",title:"Align Left (Shift+L)",children:g.jsx("i",{className:"ph ph-align-left text-base"})}),g.jsx("button",{onClick:()=>o(ie.CENTER_H),disabled:!c,className:"tool-btn px-2 py-1.5 rounded text-xs disabled:opacity-30 disabled:cursor-not-allowed",title:"Center H (Shift+C)",children:g.jsx("i",{className:"ph ph-align-center-horizontal text-base"})}),g.jsx("button",{onClick:()=>o(ie.RIGHT),disabled:!c,className:"tool-btn px-2 py-1.5 rounded text-xs disabled:opacity-30 disabled:cursor-not-allowed",title:"Align Right (Shift+R)",children:g.jsx("i",{className:"ph ph-align-right text-base"})}),g.jsx("div",{className:"w-px h-4 bg-neutral-200 mx-1"}),g.jsx("button",{onClick:()=>o(ie.TOP),disabled:!c,className:"tool-btn px-2 py-1.5 rounded text-xs disabled:opacity-30 disabled:cursor-not-allowed",title:"Align Top (Shift+T)",children:g.jsx("i",{className:"ph ph-align-top text-base"})}),g.jsx("button",{onClick:()=>o(ie.CENTER_V),disabled:!c,className:"tool-btn px-2 py-1.5 rounded text-xs disabled:opacity-30 disabled:cursor-not-allowed",title:"Center V (Shift+M)",children:g.jsx("i",{className:"ph ph-align-center-vertical text-base"})}),g.jsx("button",{onClick:()=>o(ie.BOTTOM),disabled:!c,className:"tool-btn px-2 py-1.5 rounded text-xs disabled:opacity-30 disabled:cursor-not-allowed",title:"Align Bottom (Shift+B)",children:g.jsx("i",{className:"ph ph-align-bottom text-base"})})]}),g.jsx("div",{className:"flex-1"}),u&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-px h-6 bg-neutral-200"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-xs text-neutral-500",children:"Grid:"}),g.jsxs("select",{value:u.gridSize,onChange:d=>s("gridSize",parseInt(d.target.value)),className:"px-2 py-1 text-xs border border-neutral-300 rounded bg-white",children:[g.jsx("option",{value:"6",children:"6×6"}),g.jsx("option",{value:"8",children:"8×8"}),g.jsx("option",{value:"10",children:"10×10"}),g.jsx("option",{value:"12",children:"12×12"}),g.jsx("option",{value:"16",children:"16×16"})]})]})]})]})})},Mh=qr.memo(({shape:e,isSelected:t})=>Gh(e,t),(e,t)=>e.shape.id===t.shape.id&&e.shape.x===t.shape.x&&e.shape.y===t.shape.y&&e.shape.width===t.shape.width&&e.shape.height===t.shape.height&&e.shape.rotation===t.shape.rotation&&e.shape.corner===t.shape.corner&&e.isSelected===t.isSelected);Mh.displayName="ShapeElement";const Bh=(e,t=!1)=>g.jsx(Mh,{shape:e,isSelected:t},e.id),jh=e=>Gh(e,!1),Vm=e=>{const{id:t,x:r,y:n,width:a,height:o}=e;return g.jsxs("g",{children:[g.jsx("rect",{x:r,y:n,width:a,height:o,fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"4 4",pointerEvents:"none"}),g.jsx("circle",{cx:r,cy:n,r:"12",fill:"transparent","data-handle":"resize-nw",style:{cursor:"nw-resize",pointerEvents:"all"}}),g.jsx("circle",{cx:r+a,cy:n,r:"12",fill:"transparent","data-handle":"resize-ne",style:{cursor:"ne-resize",pointerEvents:"all"}}),g.jsx("circle",{cx:r,cy:n+o,r:"12",fill:"transparent","data-handle":"resize-sw",style:{cursor:"sw-resize",pointerEvents:"all"}}),g.jsx("circle",{cx:r+a,cy:n+o,r:"12",fill:"transparent","data-handle":"resize-se",style:{cursor:"se-resize",pointerEvents:"all"}}),g.jsx("circle",{cx:r,cy:n,r:"6",fill:"white",stroke:"#3b82f6",strokeWidth:"2",pointerEvents:"none"}),g.jsx("circle",{cx:r+a,cy:n,r:"6",fill:"white",stroke:"#3b82f6",strokeWidth:"2",pointerEvents:"none"}),g.jsx("circle",{cx:r,cy:n+o,r:"6",fill:"white",stroke:"#3b82f6",strokeWidth:"2",pointerEvents:"none"}),g.jsx("circle",{cx:r+a,cy:n+o,r:"6",fill:"white",stroke:"#3b82f6",strokeWidth:"2",pointerEvents:"none"})]},`selection-${t}`)},Gh=(e,t=!1)=>{const{id:r,type:n,x:a,y:o,width:i,height:l,rotation:s,corner:u}=e,c=a+i/2,d=o+l/2;let f=null;switch(n){case se.SQUARE:f=g.jsx("rect",{x:a,y:o,width:i,height:l,fill:"#171717"},r);break;case se.CIRCLE:f=g.jsx("ellipse",{cx:c,cy:d,rx:i/2,ry:l/2,fill:"#171717"},r);break;case se.TRIANGLE:f=g.jsx("path",{d:`M ${a} ${o}
              L ${a+i} ${o+l}
              L ${a} ${o+l}
              Z`,fill:"#171717",transform:`rotate(${s} ${c} ${d})`},r);break;case se.QUARTER_CIRCLE:{let p="";switch(u||Q.TL){case Q.TL:p=`M ${a} ${o} L ${a+i} ${o} A ${i} ${l} 0 0 1 ${a} ${o+l} Z`;break;case Q.TR:p=`M ${a+i} ${o} L ${a} ${o} A ${i} ${l} 0 0 0 ${a+i} ${o+l} Z`;break;case Q.BL:p=`M ${a} ${o+l} L ${a+i} ${o+l} A ${i} ${l} 0 0 0 ${a} ${o} Z`;break;case Q.BR:p=`M ${a+i} ${o+l} L ${a} ${o+l} A ${i} ${l} 0 0 1 ${a+i} ${o} Z`;break}f=g.jsx("path",{d:p,fill:"#171717"},r);break}}return g.jsx(g.Fragment,{children:f})},Xm=qr.memo(({font:e,currentGlyph:t,onSelectGlyph:r})=>{const n=N.useMemo(()=>Object.values(e.glyphs).sort((o,i)=>o.unicode-i.unicode),[e.glyphs]),a=o=>{const i=o.gridSize,s=i*4;return g.jsx("svg",{width:s,height:s,viewBox:`0 0 ${i*32} ${i*32}`,className:"mx-auto max-w-full max-h-full",children:o.shapes.map(u=>g.jsx(qr.Fragment,{children:jh(u)},u.id))})};return g.jsxs("div",{className:"w-full h-full bg-white border-r border-neutral-200 overflow-auto",children:[g.jsx("div",{className:"p-3 border-b border-neutral-200",children:g.jsx("h2",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wide",children:"Glyphs"})}),g.jsx("div",{className:"p-3",children:g.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))"},children:n.map(o=>g.jsxs("button",{onClick:()=>r(o.char),className:`aspect-square flex flex-col items-center justify-center p-2 rounded border-2 transition-all ${t===o.char?"bg-neutral-100 border-neutral-400":"bg-white border-neutral-200 hover:border-neutral-300 hover:bg-neutral-50"}`,children:[a(o),g.jsx("span",{className:`text-xs mt-1 ${t===o.char?"text-neutral-800 font-semibold":"text-neutral-600"}`,children:o.char===" "?"␣":o.char})]},o.char))})})]})}),kf=(e,t)=>{if(!t)return{x:0,y:0};const r=t.createSVGPoint();r.x=e.clientX,r.y=e.clientY;const n=r.matrixTransform(t.getScreenCTM().inverse());return{x:n.x,y:n.y}},Ye=e=>Math.round(e/te)*te,Ym=()=>{const e=Date.now(),t=new Uint32Array(1);return crypto.getRandomValues(t),e*1e6+t[0]},Qm=(e,t,r,n,a,o=0,i=null)=>({id:Ym(),type:e,x:t,y:r,width:n,height:a,rotation:o,corner:i}),Km=e=>{const{type:t,x:r,y:n,width:a,height:o,rotation:i,corner:l}=e,s=r+a/2,u=n+o/2;switch(t){case se.SQUARE:return{element:"rect",attributes:{x:r,y:n,width:a,height:o,fill:"#000"}};case se.CIRCLE:return{element:"ellipse",attributes:{cx:s,cy:u,rx:a/2,ry:o/2,fill:"#000"}};case se.TRIANGLE:return{element:"path",attributes:{d:`M ${r} ${n} L ${r+a} ${n+o} L ${r} ${n+o} Z`,fill:"#000",transform:`rotate(${i} ${s} ${u})`}};case se.QUARTER_CIRCLE:{const c=a,d=o,f=l||Q.TL;let p="";switch(f){case Q.TL:p=`M ${r+a} ${n} A ${c} ${d} 0 0 1 ${r} ${n+o} L ${r} ${n} Z`;break;case Q.TR:p=`M ${r} ${n} A ${c} ${d} 0 0 0 ${r+a} ${n+o} L ${r+a} ${n} Z`;break;case Q.BL:p=`M ${r+a} ${n+o} A ${c} ${d} 0 0 0 ${r} ${n} L ${r} ${n+o} Z`;break;case Q.BR:p=`M ${r} ${n+o} A ${c} ${d} 0 0 1 ${r+a} ${n} L ${r+a} ${n+o} Z`;break}return{element:"path",attributes:{d:p,fill:"#000"}}}default:return{element:"rect",attributes:{x:r,y:n,width:a,height:o,fill:"#000"}}}},qm=e=>{const{element:t,attributes:r}=e,n=Object.entries(r).map(([a,o])=>`${a}="${o}"`).join(" ");return`<${t} ${n}/>`},Jm=e=>{const t=Km(e);return qm(t)};/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var e=function(){try{var r={},n=Object.defineProperty,a=n(r,r,r)&&n}catch{}return a}(),t=function(r){if(this==null)throw TypeError();var n=String(this),a=n.length,o=r?Number(r):0;if(o!=o&&(o=0),!(o<0||o>=a)){var i=n.charCodeAt(o),l;return i>=55296&&i<=56319&&a>o+1&&(l=n.charCodeAt(o+1),l>=56320&&l<=57343)?(i-55296)*1024+l-56320+65536:i}};e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t}();var Pu=0,$h=-3;function Aa(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function ey(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new Aa,this.dtree=new Aa}var Hh=new Aa,Zh=new Aa,zu=new Uint8Array(30),Iu=new Uint16Array(30),Wh=new Uint8Array(30),Vh=new Uint16Array(30),ty=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Sf=new Aa,Gt=new Uint8Array(320);function Xh(e,t,r,n){var a,o;for(a=0;a<r;++a)e[a]=0;for(a=0;a<30-r;++a)e[a+r]=a/r|0;for(o=n,a=0;a<30;++a)t[a]=o,o+=1<<e[a]}function ry(e,t){var r;for(r=0;r<7;++r)e.table[r]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,r=0;r<24;++r)e.trans[r]=256+r;for(r=0;r<144;++r)e.trans[24+r]=r;for(r=0;r<8;++r)e.trans[168+r]=280+r;for(r=0;r<112;++r)e.trans[176+r]=144+r;for(r=0;r<5;++r)t.table[r]=0;for(t.table[5]=32,r=0;r<32;++r)t.trans[r]=r}var wf=new Uint16Array(16);function Ts(e,t,r,n){var a,o;for(a=0;a<16;++a)e.table[a]=0;for(a=0;a<n;++a)e.table[t[r+a]]++;for(e.table[0]=0,o=0,a=0;a<16;++a)wf[a]=o,o+=e.table[a];for(a=0;a<n;++a)t[r+a]&&(e.trans[wf[t[r+a]]++]=a)}function ny(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=e.tag&1;return e.tag>>>=1,t}function Zt(e,t,r){if(!t)return r;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,n+r}function _l(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=0,n=0,a=0,o=e.tag;do n=2*n+(o&1),o>>>=1,++a,r+=t.table[a],n-=t.table[a];while(n>=0);return e.tag=o,e.bitcount-=a,t.trans[r+n]}function ay(e,t,r){var n,a,o,i,l,s;for(n=Zt(e,5,257),a=Zt(e,5,1),o=Zt(e,4,4),i=0;i<19;++i)Gt[i]=0;for(i=0;i<o;++i){var u=Zt(e,3,0);Gt[ty[i]]=u}for(Ts(Sf,Gt,0,19),l=0;l<n+a;){var c=_l(e,Sf);switch(c){case 16:var d=Gt[l-1];for(s=Zt(e,2,3);s;--s)Gt[l++]=d;break;case 17:for(s=Zt(e,3,3);s;--s)Gt[l++]=0;break;case 18:for(s=Zt(e,7,11);s;--s)Gt[l++]=0;break;default:Gt[l++]=c;break}}Ts(t,Gt,0,n),Ts(r,Gt,n,a)}function bf(e,t,r){for(;;){var n=_l(e,t);if(n===256)return Pu;if(n<256)e.dest[e.destLen++]=n;else{var a,o,i,l;for(n-=257,a=Zt(e,zu[n],Iu[n]),o=_l(e,r),i=e.destLen-Zt(e,Wh[o],Vh[o]),l=i;l<i+a;++l)e.dest[e.destLen++]=e.dest[l]}}}function oy(e){for(var t,r,n;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(t=e.source[e.sourceIndex+1],t=256*t+e.source[e.sourceIndex],r=e.source[e.sourceIndex+3],r=256*r+e.source[e.sourceIndex+2],t!==(~r&65535))return $h;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,Pu}function iy(e,t){var r=new ey(e,t),n,a,o;do{switch(n=ny(r),a=Zt(r,2,0),a){case 0:o=oy(r);break;case 1:o=bf(r,Hh,Zh);break;case 2:ay(r,r.ltree,r.dtree),o=bf(r,r.ltree,r.dtree);break;default:o=$h}if(o!==Pu)throw new Error("Data error")}while(!n);return r.destLen<r.dest.length?typeof r.dest.slice=="function"?r.dest.slice(0,r.destLen):r.dest.subarray(0,r.destLen):r.dest}ry(Hh,Zh);Xh(zu,Iu,4,3);Xh(Wh,Vh,2,1);zu[28]=0;Iu[28]=258;var sy=iy;function pn(e,t,r,n,a){return Math.pow(1-a,3)*e+3*Math.pow(1-a,2)*a*t+3*(1-a)*Math.pow(a,2)*r+Math.pow(a,3)*n}function fr(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}fr.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};fr.prototype.addPoint=function(e,t){typeof e=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof t=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))};fr.prototype.addX=function(e){this.addPoint(e,null)};fr.prototype.addY=function(e){this.addPoint(null,e)};fr.prototype.addBezier=function(e,t,r,n,a,o,i,l){var s=[e,t],u=[r,n],c=[a,o],d=[i,l];this.addPoint(e,t),this.addPoint(i,l);for(var f=0;f<=1;f++){var p=6*s[f]-12*u[f]+6*c[f],y=-3*s[f]+9*u[f]-9*c[f]+3*d[f],x=3*u[f]-3*s[f];if(y===0){if(p===0)continue;var k=-x/p;0<k&&k<1&&(f===0&&this.addX(pn(s[f],u[f],c[f],d[f],k)),f===1&&this.addY(pn(s[f],u[f],c[f],d[f],k)));continue}var h=Math.pow(p,2)-4*x*y;if(!(h<0)){var v=(-p+Math.sqrt(h))/(2*y);0<v&&v<1&&(f===0&&this.addX(pn(s[f],u[f],c[f],d[f],v)),f===1&&this.addY(pn(s[f],u[f],c[f],d[f],v)));var m=(-p-Math.sqrt(h))/(2*y);0<m&&m<1&&(f===0&&this.addX(pn(s[f],u[f],c[f],d[f],m)),f===1&&this.addY(pn(s[f],u[f],c[f],d[f],m)))}}};fr.prototype.addQuad=function(e,t,r,n,a,o){var i=e+.6666666666666666*(r-e),l=t+2/3*(n-t),s=i+1/3*(a-e),u=l+1/3*(o-t);this.addBezier(e,t,i,l,s,u,a,o)};function Pe(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}Pe.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})};Pe.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})};Pe.prototype.curveTo=Pe.prototype.bezierCurveTo=function(e,t,r,n,a,o){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:n,x:a,y:o})};Pe.prototype.quadTo=Pe.prototype.quadraticCurveTo=function(e,t,r,n){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:n})};Pe.prototype.close=Pe.prototype.closePath=function(){this.commands.push({type:"Z"})};Pe.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof fr){var t=e;this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),this.close();return}Array.prototype.push.apply(this.commands,e)};Pe.prototype.getBoundingBox=function(){for(var e=new fr,t=0,r=0,n=0,a=0,o=0;o<this.commands.length;o++){var i=this.commands[o];switch(i.type){case"M":e.addPoint(i.x,i.y),t=n=i.x,r=a=i.y;break;case"L":e.addPoint(i.x,i.y),n=i.x,a=i.y;break;case"Q":e.addQuad(n,a,i.x1,i.y1,i.x,i.y),n=i.x,a=i.y;break;case"C":e.addBezier(n,a,i.x1,i.y1,i.x2,i.y2,i.x,i.y),n=i.x,a=i.y;break;case"Z":n=t,a=r;break;default:throw new Error("Unexpected path command "+i.type)}}return e.isEmpty()&&e.addPoint(0,0),e};Pe.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];r.type==="M"?e.moveTo(r.x,r.y):r.type==="L"?e.lineTo(r.x,r.y):r.type==="C"?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):r.type==="Q"?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):r.type==="Z"&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())};Pe.prototype.toPathData=function(e){e=e!==void 0?e:2;function t(i){return Math.round(i)===i?""+Math.round(i):i.toFixed(e)}function r(){for(var i=arguments,l="",s=0;s<arguments.length;s+=1){var u=i[s];u>=0&&s>0&&(l+=" "),l+=t(u)}return l}for(var n="",a=0;a<this.commands.length;a+=1){var o=this.commands[a];o.type==="M"?n+="M"+r(o.x,o.y):o.type==="L"?n+="L"+r(o.x,o.y):o.type==="C"?n+="C"+r(o.x1,o.y1,o.x2,o.y2,o.x,o.y):o.type==="Q"?n+="Q"+r(o.x1,o.y1,o.x,o.y):o.type==="Z"&&(n+="Z")}return n};Pe.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&this.fill!=="black"&&(this.fill===null?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>",t};Pe.prototype.toDOMElement=function(e){var t=this.toPathData(e),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",t),r};function Yh(e){throw new Error(e)}function Tf(e,t){e||Yh(t)}var K={fail:Yh,argument:Tf,assert:Tf},Ef=32768,Cf=2147483648,Hn={},P={},J={};function Mt(e){return function(){return e}}P.BYTE=function(e){return K.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]};J.BYTE=Mt(1);P.CHAR=function(e){return[e.charCodeAt(0)]};J.CHAR=Mt(1);P.CHARARRAY=function(e){typeof e>"u"&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var t=[],r=0;r<e.length;r+=1)t[r]=e.charCodeAt(r);return t};J.CHARARRAY=function(e){return typeof e>"u"?0:e.length};P.USHORT=function(e){return[e>>8&255,e&255]};J.USHORT=Mt(2);P.SHORT=function(e){return e>=Ef&&(e=-(2*Ef-e)),[e>>8&255,e&255]};J.SHORT=Mt(2);P.UINT24=function(e){return[e>>16&255,e>>8&255,e&255]};J.UINT24=Mt(3);P.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]};J.ULONG=Mt(4);P.LONG=function(e){return e>=Cf&&(e=-(2*Cf-e)),[e>>24&255,e>>16&255,e>>8&255,e&255]};J.LONG=Mt(4);P.FIXED=P.ULONG;J.FIXED=J.ULONG;P.FWORD=P.SHORT;J.FWORD=J.SHORT;P.UFWORD=P.USHORT;J.UFWORD=J.USHORT;P.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,e&255]};J.LONGDATETIME=Mt(8);P.TAG=function(e){return K.argument(e.length===4,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]};J.TAG=Mt(4);P.Card8=P.BYTE;J.Card8=J.BYTE;P.Card16=P.USHORT;J.Card16=J.USHORT;P.OffSize=P.BYTE;J.OffSize=J.BYTE;P.SID=P.USHORT;J.SID=J.USHORT;P.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?(e=e-108,[(e>>8)+247,e&255]):e>=-1131&&e<=-108?(e=-e-108,[(e>>8)+251,e&255]):e>=-32768&&e<=32767?P.NUMBER16(e):P.NUMBER32(e)};J.NUMBER=function(e){return P.NUMBER(e).length};P.NUMBER16=function(e){return[28,e>>8&255,e&255]};J.NUMBER16=Mt(3);P.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,e&255]};J.NUMBER32=Mt(5);P.REAL=function(e){var t=e.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(r){var n=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));t=(Math.round(e*n)/n).toString()}for(var a="",o=0,i=t.length;o<i;o+=1){var l=t[o];l==="e"?a+=t[++o]==="-"?"c":"b":l==="."?a+="a":l==="-"?a+="e":a+=l}a+=a.length&1?"f":"ff";for(var s=[30],u=0,c=a.length;u<c;u+=2)s.push(parseInt(a.substr(u,2),16));return s};J.REAL=function(e){return P.REAL(e).length};P.NAME=P.CHARARRAY;J.NAME=J.CHARARRAY;P.STRING=P.CHARARRAY;J.STRING=J.CHARARRAY;Hn.UTF8=function(e,t,r){for(var n=[],a=r,o=0;o<a;o++,t+=1)n[o]=e.getUint8(t);return String.fromCharCode.apply(null,n)};Hn.UTF16=function(e,t,r){for(var n=[],a=r/2,o=0;o<a;o++,t+=2)n[o]=e.getUint16(t);return String.fromCharCode.apply(null,n)};P.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e.charCodeAt(r);t[t.length]=n>>8&255,t[t.length]=n&255}return t};J.UTF16=function(e){return e.length*2};var Nl={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};Hn.MACSTRING=function(e,t,r,n){var a=Nl[n];if(a!==void 0){for(var o="",i=0;i<r;i++){var l=e.getUint8(t+i);l<=127?o+=String.fromCharCode(l):o+=a[l&127]}return o}};var To=typeof WeakMap=="function"&&new WeakMap,Eo,ly=function(e){if(!Eo){Eo={};for(var t in Nl)Eo[t]=new String(t)}var r=Eo[e];if(r!==void 0){if(To){var n=To.get(r);if(n!==void 0)return n}var a=Nl[e];if(a!==void 0){for(var o={},i=0;i<a.length;i++)o[a.charCodeAt(i)]=i+128;return To&&To.set(r,o),o}}};P.MACSTRING=function(e,t){var r=ly(t);if(r!==void 0){for(var n=[],a=0;a<e.length;a++){var o=e.charCodeAt(a);if(o>=128&&(o=r[o],o===void 0))return;n[a]=o}return n}};J.MACSTRING=function(e,t){var r=P.MACSTRING(e,t);return r!==void 0?r.length:0};function Ll(e){return e>=-128&&e<=127}function uy(e,t,r){for(var n=0,a=e.length;t<a&&n<64&&e[t]===0;)++t,++n;return r.push(128|n-1),t}function cy(e,t,r){for(var n=0,a=e.length,o=t;o<a&&n<64;){var i=e[o];if(!Ll(i)||i===0&&o+1<a&&e[o+1]===0)break;++o,++n}r.push(n-1);for(var l=t;l<o;++l)r.push(e[l]+256&255);return o}function fy(e,t,r){for(var n=0,a=e.length,o=t;o<a&&n<64;){var i=e[o];if(i===0||Ll(i)&&o+1<a&&Ll(e[o+1]))break;++o,++n}r.push(64|n-1);for(var l=t;l<o;++l){var s=e[l];r.push(s+65536>>8&255,s+256&255)}return o}P.VARDELTAS=function(e){for(var t=0,r=[];t<e.length;){var n=e[t];n===0?t=uy(e,t,r):n>=-128&&n<=127?t=cy(e,t,r):t=fy(e,t,r)}return r};P.INDEX=function(e){for(var t=1,r=[t],n=[],a=0;a<e.length;a+=1){var o=P.OBJECT(e[a]);Array.prototype.push.apply(n,o),t+=o.length,r.push(t)}if(n.length===0)return[0,0];for(var i=[],l=1+Math.floor(Math.log(t)/Math.log(2))/8|0,s=[void 0,P.BYTE,P.USHORT,P.UINT24,P.ULONG][l],u=0;u<r.length;u+=1){var c=s(r[u]);Array.prototype.push.apply(i,c)}return Array.prototype.concat(P.Card16(e.length),P.OffSize(l),i,n)};J.INDEX=function(e){return P.INDEX(e).length};P.DICT=function(e){for(var t=[],r=Object.keys(e),n=r.length,a=0;a<n;a+=1){var o=parseInt(r[a],0),i=e[o];t=t.concat(P.OPERAND(i.value,i.type)),t=t.concat(P.OPERATOR(o))}return t};J.DICT=function(e){return P.DICT(e).length};P.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]};P.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var n=0;n<t.length;n+=1)K.argument(e.length===t.length,"Not enough arguments given for type"+t),r=r.concat(P.OPERAND(e[n],t[n]));else if(t==="SID")r=r.concat(P.NUMBER(e));else if(t==="offset")r=r.concat(P.NUMBER32(e));else if(t==="number")r=r.concat(P.NUMBER(e));else if(t==="real")r=r.concat(P.REAL(e));else throw new Error("Unknown operand type "+t);return r};P.OP=P.BYTE;J.OP=J.BYTE;var Co=typeof WeakMap=="function"&&new WeakMap;P.CHARSTRING=function(e){if(Co){var t=Co.get(e);if(t!==void 0)return t}for(var r=[],n=e.length,a=0;a<n;a+=1){var o=e[a];r=r.concat(P[o.type](o.value))}return Co&&Co.set(e,r),r};J.CHARSTRING=function(e){return P.CHARSTRING(e).length};P.OBJECT=function(e){var t=P[e.type];return K.argument(t!==void 0,"No encoding function for type "+e.type),t(e.value)};J.OBJECT=function(e){var t=J[e.type];return K.argument(t!==void 0,"No sizeOf function for type "+e.type),t(e.value)};P.TABLE=function(e){for(var t=[],r=e.fields.length,n=[],a=[],o=0;o<r;o+=1){var i=e.fields[o],l=P[i.type];K.argument(l!==void 0,"No encoding function for field type "+i.type+" ("+i.name+")");var s=e[i.name];s===void 0&&(s=i.value);var u=l(s);i.type==="TABLE"?(a.push(t.length),t=t.concat([0,0]),n.push(u)):t=t.concat(u)}for(var c=0;c<n.length;c+=1){var d=a[c],f=t.length;K.argument(f<65536,"Table "+e.tableName+" too big."),t[d]=f>>8,t[d+1]=f&255,t=t.concat(n[c])}return t};J.TABLE=function(e){for(var t=0,r=e.fields.length,n=0;n<r;n+=1){var a=e.fields[n],o=J[a.type];K.argument(o!==void 0,"No sizeOf function for field type "+a.type+" ("+a.name+")");var i=e[a.name];i===void 0&&(i=a.value),t+=o(i),a.type==="TABLE"&&(t+=2)}return t};P.RECORD=P.TABLE;J.RECORD=J.TABLE;P.LITERAL=function(e){return e};J.LITERAL=function(e){return e.length};function je(e,t,r){if(t.length&&(t[0].name!=="coverageFormat"||t[0].value===1))for(var n=0;n<t.length;n+=1){var a=t[n];this[a.name]=a.value}if(this.tableName=e,this.fields=t,r)for(var o=Object.keys(r),i=0;i<o.length;i+=1){var l=o[i],s=r[l];this[l]!==void 0&&(this[l]=s)}}je.prototype.encode=function(){return P.TABLE(this)};je.prototype.sizeOf=function(){return J.TABLE(this)};function Ma(e,t,r){r===void 0&&(r=t.length);var n=new Array(t.length+1);n[0]={name:e+"Count",type:"USHORT",value:r};for(var a=0;a<t.length;a++)n[a+1]={name:e+a,type:"USHORT",value:t[a]};return n}function Ul(e,t,r){var n=t.length,a=new Array(n+1);a[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)a[o+1]={name:e+o,type:"TABLE",value:r(t[o],o)};return a}function Ba(e,t,r){var n=t.length,a=[];a[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)a=a.concat(r(t[o],o));return a}function mi(e){e.format===1?je.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Ma("glyph",e.glyphs))):e.format===2?je.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(Ba("rangeRecord",e.ranges,function(t){return[{name:"startGlyphID",type:"USHORT",value:t.start},{name:"endGlyphID",type:"USHORT",value:t.end},{name:"startCoverageIndex",type:"USHORT",value:t.index}]}))):K.assert(!1,"Coverage format must be 1 or 2.")}mi.prototype=Object.create(je.prototype);mi.prototype.constructor=mi;function yi(e){je.call(this,"scriptListTable",Ba("scriptRecord",e,function(t,r){var n=t.script,a=n.defaultLangSys;return K.assert(!!a,"Unable to write GSUB: script "+t.tag+" has no default language system."),[{name:"scriptTag"+r,type:"TAG",value:t.tag},{name:"script"+r,type:"TABLE",value:new je("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new je("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(Ma("featureIndex",a.featureIndexes)))}].concat(Ba("langSys",n.langSysRecords,function(o,i){var l=o.langSys;return[{name:"langSysTag"+i,type:"TAG",value:o.tag},{name:"langSys"+i,type:"TABLE",value:new je("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:l.reqFeatureIndex}].concat(Ma("featureIndex",l.featureIndexes)))}]})))}]}))}yi.prototype=Object.create(je.prototype);yi.prototype.constructor=yi;function xi(e){je.call(this,"featureListTable",Ba("featureRecord",e,function(t,r){var n=t.feature;return[{name:"featureTag"+r,type:"TAG",value:t.tag},{name:"feature"+r,type:"TABLE",value:new je("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(Ma("lookupListIndex",n.lookupListIndexes)))}]}))}xi.prototype=Object.create(je.prototype);xi.prototype.constructor=xi;function ki(e,t){je.call(this,"lookupListTable",Ul("lookup",e,function(r){var n=t[r.lookupType];return K.assert(!!n,"Unable to write GSUB lookup type "+r.lookupType+" tables."),new je("lookupTable",[{name:"lookupType",type:"USHORT",value:r.lookupType},{name:"lookupFlag",type:"USHORT",value:r.lookupFlag}].concat(Ul("subtable",r.subtables,n)))}))}ki.prototype=Object.create(je.prototype);ki.prototype.constructor=ki;var M={Table:je,Record:je,Coverage:mi,ScriptList:yi,FeatureList:xi,LookupList:ki,ushortList:Ma,tableList:Ul,recordList:Ba};function Ff(e,t){return e.getUint8(t)}function Si(e,t){return e.getUint16(t,!1)}function dy(e,t){return e.getInt16(t,!1)}function Au(e,t){return e.getUint32(t,!1)}function Qh(e,t){var r=e.getInt16(t,!1),n=e.getUint16(t+2,!1);return r+n/65535}function py(e,t){for(var r="",n=t;n<t+4;n+=1)r+=String.fromCharCode(e.getInt8(n));return r}function hy(e,t,r){for(var n=0,a=0;a<r;a+=1)n<<=8,n+=e.getUint8(t+a);return n}function vy(e,t,r){for(var n=[],a=t;a<r;a+=1)n.push(e.getUint8(a));return n}function gy(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t}var my={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function b(e,t){this.data=e,this.offset=t,this.relativeOffset=0}b.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};b.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};b.prototype.parseCard8=b.prototype.parseByte;b.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};b.prototype.parseCard16=b.prototype.parseUShort;b.prototype.parseSID=b.prototype.parseUShort;b.prototype.parseOffset16=b.prototype.parseUShort;b.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};b.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e};b.prototype.parseULong=function(){var e=Au(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};b.prototype.parseOffset32=b.prototype.parseULong;b.prototype.parseFixed=function(){var e=Qh(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};b.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var a=0;a<e;a++)n+=String.fromCharCode(t.getUint8(r+a));return n};b.prototype.parseTag=function(){return this.parseString(4)};b.prototype.parseLongDateTime=function(){var e=Au(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e};b.prototype.parseVersion=function(e){var t=Si(this.data,this.offset+this.relativeOffset),r=Si(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,e===void 0&&(e=4096),t+r/e/10};b.prototype.skip=function(e,t){t===void 0&&(t=1),this.relativeOffset+=my[e]*t};b.prototype.parseULongList=function(e){e===void 0&&(e=this.parseULong());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=r.getUint32(n),n+=4;return this.relativeOffset+=e*4,t};b.prototype.parseOffset16List=b.prototype.parseUShortList=function(e){e===void 0&&(e=this.parseUShort());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=r.getUint16(n),n+=2;return this.relativeOffset+=e*2,t};b.prototype.parseShortList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=r.getInt16(n),n+=2;return this.relativeOffset+=e*2,t};b.prototype.parseByteList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=r.getUint8(n++);return this.relativeOffset+=e,t};b.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r};b.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r};b.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=Object.keys(t),a=0;a<e;a++){for(var o={},i=0;i<n.length;i++){var l=n[i],s=t[l];o[l]=s.call(this)}r[a]=o}return r};b.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=Object.keys(t),a=0;a<e;a++){for(var o={},i=0;i<n.length;i++){var l=n[i],s=t[l];o[l]=s.call(this)}r[a]=o}return r};b.prototype.parseStruct=function(e){if(typeof e=="function")return e.call(this);for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var a=t[n],o=e[a];r[a]=o.call(this)}return r};b.prototype.parseValueRecord=function(e){if(e===void 0&&(e=this.parseUShort()),e!==0){var t={};return e&1&&(t.xPlacement=this.parseShort()),e&2&&(t.yPlacement=this.parseShort()),e&4&&(t.xAdvance=this.parseShort()),e&8&&(t.yAdvance=this.parseShort()),e&16&&(t.xPlaDevice=void 0,this.parseShort()),e&32&&(t.yPlaDevice=void 0,this.parseShort()),e&64&&(t.xAdvDevice=void 0,this.parseShort()),e&128&&(t.yAdvDevice=void 0,this.parseShort()),t}};b.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),r=new Array(t),n=0;n<t;n++)r[n]=this.parseValueRecord(e);return r};b.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new b(this.data,this.offset+t).parseStruct(e)};b.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new b(this.data,this.offset+t).parseStruct(e)};b.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),r=t.length,n=this.relativeOffset,a=new Array(r),o=0;o<r;o++){var i=t[o];if(i===0){a[o]=void 0;continue}if(this.relativeOffset=i,e){for(var l=this.parseOffset16List(),s=new Array(l.length),u=0;u<l.length;u++)this.relativeOffset=i+l[u],s[u]=e.call(this);a[o]=s}else a[o]=this.parseUShortList()}return this.relativeOffset=n,a};b.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),r=this.parseUShort();if(t===1)return{format:1,glyphs:this.parseUShortList(r)};if(t===2){for(var n=new Array(r),a=0;a<r;a++)n[a]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:n}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")};b.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(t===2)return{format:2,ranges:this.parseRecordList({start:b.uShort,end:b.uShort,classId:b.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")};b.list=function(e,t){return function(){return this.parseList(e,t)}};b.list32=function(e,t){return function(){return this.parseList32(e,t)}};b.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}};b.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}};b.pointer=function(e){return function(){return this.parsePointer(e)}};b.pointer32=function(e){return function(){return this.parsePointer32(e)}};b.tag=b.prototype.parseTag;b.byte=b.prototype.parseByte;b.uShort=b.offset16=b.prototype.parseUShort;b.uShortList=b.prototype.parseUShortList;b.uLong=b.offset32=b.prototype.parseULong;b.uLongList=b.prototype.parseULongList;b.struct=b.prototype.parseStruct;b.coverage=b.prototype.parseCoverage;b.classDef=b.prototype.parseClassDef;var Rf={reserved:b.uShort,reqFeatureIndex:b.uShort,featureIndexes:b.uShortList};b.prototype.parseScriptList=function(){return this.parsePointer(b.recordList({tag:b.tag,script:b.pointer({defaultLangSys:b.pointer(Rf),langSysRecords:b.recordList({tag:b.tag,langSys:b.pointer(Rf)})})}))||[]};b.prototype.parseFeatureList=function(){return this.parsePointer(b.recordList({tag:b.tag,feature:b.pointer({featureParams:b.offset16,lookupListIndexes:b.uShortList})}))||[]};b.prototype.parseLookupList=function(e){return this.parsePointer(b.list(b.pointer(function(){var t=this.parseUShort();K.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var r=this.parseUShort(),n=r&16;return{lookupType:t,lookupFlag:r,subtables:this.parseList(b.pointer(e[t])),markFilteringSet:n?this.parseUShort():void 0}})))||[]};b.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),t=this.parseUShort();K.argument(e===1&&t<1,"GPOS/GSUB feature variations table unknown.");var r=this.parseRecordList32({conditionSetOffset:b.offset32,featureTableSubstitutionOffset:b.offset32});return r})||[]};var $={getByte:Ff,getCard8:Ff,getUShort:Si,getCard16:Si,getShort:dy,getULong:Au,getFixed:Qh,getTag:py,getOffset:hy,getBytes:vy,bytesToString:gy,Parser:b};function yy(e,t){t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong();var r;e.groupCount=r=t.parseULong(),e.glyphIndexMap={};for(var n=0;n<r;n+=1)for(var a=t.parseULong(),o=t.parseULong(),i=t.parseULong(),l=a;l<=o;l+=1)e.glyphIndexMap[l]=i,i++}function xy(e,t,r,n,a){e.length=t.parseUShort(),e.language=t.parseUShort();var o;e.segCount=o=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var i=new $.Parser(r,n+a+14),l=new $.Parser(r,n+a+16+o*2),s=new $.Parser(r,n+a+16+o*4),u=new $.Parser(r,n+a+16+o*6),c=n+a+16+o*8,d=0;d<o-1;d+=1)for(var f=void 0,p=i.parseUShort(),y=l.parseUShort(),x=s.parseShort(),k=u.parseUShort(),h=y;h<=p;h+=1)k!==0?(c=u.offset+u.relativeOffset-2,c+=k,c+=(h-y)*2,f=$.getUShort(r,c),f!==0&&(f=f+x&65535)):f=h+x&65535,e.glyphIndexMap[h]=f}function ky(e,t){var r={};r.version=$.getUShort(e,t),K.argument(r.version===0,"cmap table version should be 0."),r.numTables=$.getUShort(e,t+2);for(var n=-1,a=r.numTables-1;a>=0;a-=1){var o=$.getUShort(e,t+4+a*8),i=$.getUShort(e,t+4+a*8+2);if(o===3&&(i===0||i===1||i===10)||o===0&&(i===0||i===1||i===2||i===3||i===4)){n=$.getULong(e,t+4+a*8+4);break}}if(n===-1)throw new Error("No valid cmap sub-tables found.");var l=new $.Parser(e,t+n);if(r.format=l.parseUShort(),r.format===12)yy(r,l);else if(r.format===4)xy(r,l,e,t,n);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+r.format+").");return r}function Sy(e,t,r){e.segments.push({end:t,start:t,delta:-(t-r),offset:0,glyphIndex:r})}function wy(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function by(e){var t=!0,r;for(r=e.length-1;r>0;r-=1){var n=e.get(r);if(n.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),t=!1;break}}var a=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:t?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:t?12:20}];t||(a=a.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),a=a.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var o=new M.Table("cmap",a);for(o.segments=[],r=0;r<e.length;r+=1){for(var i=e.get(r),l=0;l<i.unicodes.length;l+=1)Sy(o,i.unicodes[l],r);o.segments=o.segments.sort(function(v,m){return v.start-m.start})}wy(o);var s=o.segments.length,u=0,c=[],d=[],f=[],p=[],y=[],x=[];for(r=0;r<s;r+=1){var k=o.segments[r];k.end<=65535&&k.start<=65535?(c=c.concat({name:"end_"+r,type:"USHORT",value:k.end}),d=d.concat({name:"start_"+r,type:"USHORT",value:k.start}),f=f.concat({name:"idDelta_"+r,type:"SHORT",value:k.delta}),p=p.concat({name:"idRangeOffset_"+r,type:"USHORT",value:k.offset}),k.glyphId!==void 0&&(y=y.concat({name:"glyph_"+r,type:"USHORT",value:k.glyphId}))):u+=1,!t&&k.glyphIndex!==void 0&&(x=x.concat({name:"cmap12Start_"+r,type:"ULONG",value:k.start}),x=x.concat({name:"cmap12End_"+r,type:"ULONG",value:k.end}),x=x.concat({name:"cmap12Glyph_"+r,type:"ULONG",value:k.glyphIndex}))}if(o.segCountX2=(s-u)*2,o.searchRange=Math.pow(2,Math.floor(Math.log(s-u)/Math.log(2)))*2,o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(c),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(d),o.fields=o.fields.concat(f),o.fields=o.fields.concat(p),o.fields=o.fields.concat(y),o.cmap4Length=14+c.length*2+2+d.length*2+f.length*2+p.length*2+y.length*2,!t){var h=16+x.length*4;o.cmap12Offset=12+2*2+4+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:h},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:x.length/3}]),o.fields=o.fields.concat(x)}return o}var Kh={parse:ky,make:by},Zo=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Ty=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Ey=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Zr=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function qh(e){this.font=e}qh.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.font.glyphs;if(r){for(var n=0;n<r.length;n+=1)for(var a=r.get(n),o=0;o<a.unicodes.length;o+=1)if(a.unicodes[o]===t)return n}return null};function Jh(e){this.cmap=e}Jh.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0};function wi(e,t){this.encoding=e,this.charset=t}wi.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.encoding[t];return this.charset.indexOf(r)};function Mu(e){switch(e.version){case 1:this.names=Zr.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<Zr.length?this.names[t]=Zr[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-Zr.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var r=0;r<e.numberOfGlyphs;r++)this.names[r]=Zr[r+e.glyphNameIndex[r]];break;case 3:this.names=[];break;default:this.names=[];break}}Mu.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)};Mu.prototype.glyphIndexToName=function(e){return this.names[e]};function Cy(e){for(var t,r=e.tables.cmap.glyphIndexMap,n=Object.keys(r),a=0;a<n.length;a+=1){var o=n[a],i=r[o];t=e.glyphs.get(i),t.addUnicode(parseInt(o))}for(var l=0;l<e.glyphs.length;l+=1)t=e.glyphs.get(l),e.cffEncoding?e.isCIDFont?t.name="gid"+l:t.name=e.cffEncoding.charset[l]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(l))}function Fy(e){e._IndexToUnicodeMap={};for(var t=e.tables.cmap.glyphIndexMap,r=Object.keys(t),n=0;n<r.length;n+=1){var a=r[n],o=t[a];e._IndexToUnicodeMap[o]===void 0?e._IndexToUnicodeMap[o]={unicodes:[parseInt(a)]}:e._IndexToUnicodeMap[o].unicodes.push(parseInt(a))}}function Ry(e,t){t.lowMemory?Fy(e):Cy(e)}function _y(e,t,r,n,a){e.beginPath(),e.moveTo(t,r),e.lineTo(n,a),e.stroke()}var Gr={line:_y};function Ny(e,t){var r=t||new Pe;return{configurable:!0,get:function(){return typeof r=="function"&&(r=r()),r},set:function(n){r=n}}}function mt(e){this.bindConstructorValues(e)}mt.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||e.unicode!==void 0?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",Ny(this,e.path))};mt.prototype.addUnicode=function(e){this.unicodes.length===0&&(this.unicode=e),this.unicodes.push(e)};mt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};mt.prototype.getPath=function(e,t,r,n,a){e=e!==void 0?e:0,t=t!==void 0?t:0,r=r!==void 0?r:72;var o,i;n||(n={});var l=n.xScale,s=n.yScale;if(n.hinting&&a&&a.hinting&&(i=this.path&&a.hinting.exec(this,r)),i)o=a.hinting.getCommands(i),e=Math.round(e),t=Math.round(t),l=s=1;else{o=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*r;l===void 0&&(l=u),s===void 0&&(s=u)}for(var c=new Pe,d=0;d<o.length;d+=1){var f=o[d];f.type==="M"?c.moveTo(e+f.x*l,t+-f.y*s):f.type==="L"?c.lineTo(e+f.x*l,t+-f.y*s):f.type==="Q"?c.quadraticCurveTo(e+f.x1*l,t+-f.y1*s,e+f.x*l,t+-f.y*s):f.type==="C"?c.curveTo(e+f.x1*l,t+-f.y1*s,e+f.x2*l,t+-f.y2*s,e+f.x*l,t+-f.y*s):f.type==="Z"&&c.closePath()}return c};mt.prototype.getContours=function(){if(this.points===void 0)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var n=this.points[r];t.push(n),n.lastPointOfContour&&(e.push(t),t=[])}return K.argument(t.length===0,"There are still points left in the current contour."),e};mt.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],n=0;n<e.length;n+=1){var a=e[n];a.type!=="Z"&&(t.push(a.x),r.push(a.y)),(a.type==="Q"||a.type==="C")&&(t.push(a.x1),r.push(a.y1)),a.type==="C"&&(t.push(a.x2),r.push(a.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o};mt.prototype.draw=function(e,t,r,n,a){this.getPath(t,r,n,a).draw(e)};mt.prototype.drawPoints=function(e,t,r,n){function a(d,f,p,y){e.beginPath();for(var x=0;x<d.length;x+=1)e.moveTo(f+d[x].x*y,p+d[x].y*y),e.arc(f+d[x].x*y,p+d[x].y*y,2,0,Math.PI*2,!1);e.closePath(),e.fill()}t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:24;for(var o=1/this.path.unitsPerEm*n,i=[],l=[],s=this.path,u=0;u<s.commands.length;u+=1){var c=s.commands[u];c.x!==void 0&&i.push({x:c.x,y:-c.y}),c.x1!==void 0&&l.push({x:c.x1,y:-c.y1}),c.x2!==void 0&&l.push({x:c.x2,y:-c.y2})}e.fillStyle="blue",a(i,t,r,o),e.fillStyle="red",a(l,t,r,o)};mt.prototype.drawMetrics=function(e,t,r,n){var a;t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:24,a=1/this.path.unitsPerEm*n,e.lineWidth=1,e.strokeStyle="black",Gr.line(e,t,-1e4,t,1e4),Gr.line(e,-1e4,r,1e4,r);var o=this.xMin||0,i=this.yMin||0,l=this.xMax||0,s=this.yMax||0,u=this.advanceWidth||0;e.strokeStyle="blue",Gr.line(e,t+o*a,-1e4,t+o*a,1e4),Gr.line(e,t+l*a,-1e4,t+l*a,1e4),Gr.line(e,-1e4,r+-i*a,1e4,r+-i*a),Gr.line(e,-1e4,r+-s*a,1e4,r+-s*a),e.strokeStyle="green",Gr.line(e,t+u*a,-1e4,t+u*a,1e4)};function Fo(e,t,r){Object.defineProperty(e,t,{get:function(){return e.path,e[r]},set:function(n){e[r]=n},enumerable:!0,configurable:!0})}function Bu(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++){var n=t[r];n.path.unitsPerEm=e.unitsPerEm,this.glyphs[r]=n}this.length=t&&t.length||0}Bu.prototype.get=function(e){if(this.glyphs[e]===void 0){this.font._push(e),typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],r=this.font._IndexToUnicodeMap[e];if(r)for(var n=0;n<r.unicodes.length;n++)t.addUnicode(r.unicodes[n]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]};Bu.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};function Ly(e,t){return new mt({index:t,font:e})}function Uy(e,t,r,n,a,o){return function(){var i=new mt({index:t,font:e});return i.path=function(){r(i,n,a);var l=o(e.glyphs,i);return l.unitsPerEm=e.unitsPerEm,l},Fo(i,"xMin","_xMin"),Fo(i,"xMax","_xMax"),Fo(i,"yMin","_yMin"),Fo(i,"yMax","_yMax"),i}}function Oy(e,t,r,n){return function(){var a=new mt({index:t,font:e});return a.path=function(){var o=r(e,a,n);return o.unitsPerEm=e.unitsPerEm,o},a}}var Qt={GlyphSet:Bu,glyphLoader:Ly,ttfGlyphLoader:Uy,cffGlyphLoader:Oy};function ev(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!ev(e[r],t[r]))return!1;return!0}else return!1}function Ol(e){var t;return e.length<1240?t=107:e.length<33900?t=1131:t=32768,t}function vr(e,t,r){var n=[],a=[],o=$.getCard16(e,t),i,l;if(o!==0){var s=$.getByte(e,t+2);i=t+(o+1)*s+2;for(var u=t+3,c=0;c<o+1;c+=1)n.push($.getOffset(e,u,s)),u+=s;l=i+n[o]}else l=t+2;for(var d=0;d<n.length-1;d+=1){var f=$.getBytes(e,i+n[d],i+n[d+1]);r&&(f=r(f)),a.push(f)}return{objects:a,startOffset:t,endOffset:l}}function Dy(e,t){var r=[],n=$.getCard16(e,t),a,o;if(n!==0){var i=$.getByte(e,t+2);a=t+(n+1)*i+2;for(var l=t+3,s=0;s<n+1;s+=1)r.push($.getOffset(e,l,i)),l+=i;o=a+r[n]}else o=t+2;return{offsets:r,startOffset:t,endOffset:o}}function Py(e,t,r,n,a){var o=$.getCard16(r,n),i=0;if(o!==0){var l=$.getByte(r,n+2);i=n+(o+1)*l+2}var s=$.getBytes(r,i+t[e],i+t[e+1]);return s}function zy(e){for(var t="",r=15,n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var a=e.parseByte(),o=a>>4,i=a&15;if(o===r||(t+=n[o],i===r))break;t+=n[i]}return parseFloat(t)}function Iy(e,t){var r,n,a,o;if(t===28)return r=e.parseByte(),n=e.parseByte(),r<<8|n;if(t===29)return r=e.parseByte(),n=e.parseByte(),a=e.parseByte(),o=e.parseByte(),r<<24|n<<16|a<<8|o;if(t===30)return zy(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return r=e.parseByte(),(t-247)*256+r+108;if(t>=251&&t<=254)return r=e.parseByte(),-(t-251)*256-r-108;throw new Error("Invalid b0 "+t)}function Ay(e){for(var t={},r=0;r<e.length;r+=1){var n=e[r][0],a=e[r][1],o=void 0;if(a.length===1?o=a[0]:o=a,t.hasOwnProperty(n)&&!isNaN(t[n]))throw new Error("Object "+t+" already has key "+n);t[n]=o}return t}function tv(e,t,r){t=t!==void 0?t:0;var n=new $.Parser(e,t),a=[],o=[];for(r=r!==void 0?r:e.length;n.relativeOffset<r;){var i=n.parseByte();i<=21?(i===12&&(i=1200+n.parseByte()),a.push([i,o]),o=[]):o.push(Iy(n,i))}return Ay(a)}function ka(e,t){return t<=390?t=Zo[t]:t=e[t-391],t}function rv(e,t,r){for(var n={},a,o=0;o<t.length;o+=1){var i=t[o];if(Array.isArray(i.type)){var l=[];l.length=i.type.length;for(var s=0;s<i.type.length;s++)a=e[i.op]!==void 0?e[i.op][s]:void 0,a===void 0&&(a=i.value!==void 0&&i.value[s]!==void 0?i.value[s]:null),i.type[s]==="SID"&&(a=ka(r,a)),l[s]=a;n[i.name]=l}else a=e[i.op],a===void 0&&(a=i.value!==void 0?i.value:null),i.type==="SID"&&(a=ka(r,a)),n[i.name]=a}return n}function My(e,t){var r={};return r.formatMajor=$.getCard8(e,t),r.formatMinor=$.getCard8(e,t+1),r.size=$.getCard8(e,t+2),r.offsetSize=$.getCard8(e,t+3),r.startOffset=t,r.endOffset=t+4,r}var nv=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],av=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function By(e,t){var r=tv(e,0,e.byteLength);return rv(r,nv,t)}function ov(e,t,r,n){var a=tv(e,t,r);return rv(a,av,n)}function _f(e,t,r,n){for(var a=[],o=0;o<r.length;o+=1){var i=new DataView(new Uint8Array(r[o]).buffer),l=By(i,n);l._subrs=[],l._subrsBias=0,l._defaultWidthX=0,l._nominalWidthX=0;var s=l.private[0],u=l.private[1];if(s!==0&&u!==0){var c=ov(e,u+t,s,n);if(l._defaultWidthX=c.defaultWidthX,l._nominalWidthX=c.nominalWidthX,c.subrs!==0){var d=u+c.subrs,f=vr(e,d+t);l._subrs=f.objects,l._subrsBias=Ol(l._subrs)}l._privateDict=c}a.push(l)}return a}function jy(e,t,r,n){var a,o,i=new $.Parser(e,t);r-=1;var l=[".notdef"],s=i.parseCard8();if(s===0)for(var u=0;u<r;u+=1)a=i.parseSID(),l.push(ka(n,a));else if(s===1)for(;l.length<=r;){a=i.parseSID(),o=i.parseCard8();for(var c=0;c<=o;c+=1)l.push(ka(n,a)),a+=1}else if(s===2)for(;l.length<=r;){a=i.parseSID(),o=i.parseCard16();for(var d=0;d<=o;d+=1)l.push(ka(n,a)),a+=1}else throw new Error("Unknown charset format "+s);return l}function Gy(e,t,r){var n,a={},o=new $.Parser(e,t),i=o.parseCard8();if(i===0)for(var l=o.parseCard8(),s=0;s<l;s+=1)n=o.parseCard8(),a[n]=s;else if(i===1){var u=o.parseCard8();n=1;for(var c=0;c<u;c+=1)for(var d=o.parseCard8(),f=o.parseCard8(),p=d;p<=d+f;p+=1)a[p]=n,n+=1}else throw new Error("Unknown encoding format "+i);return new wi(a,r)}function Nf(e,t,r){var n,a,o,i,l=new Pe,s=[],u=0,c=!1,d=!1,f=0,p=0,y,x,k,h;if(e.isCIDFont){var v=e.tables.cff.topDict._fdSelect[t.index],m=e.tables.cff.topDict._fdArray[v];y=m._subrs,x=m._subrsBias,k=m._defaultWidthX,h=m._nominalWidthX}else y=e.tables.cff.topDict._subrs,x=e.tables.cff.topDict._subrsBias,k=e.tables.cff.topDict._defaultWidthX,h=e.tables.cff.topDict._nominalWidthX;var S=k;function E(T,A){d&&l.closePath(),l.moveTo(T,A),d=!0}function L(){var T;T=s.length%2!==0,T&&!c&&(S=s.shift()+h),u+=s.length>>1,s.length=0,c=!0}function w(T){for(var A,_,D,z,X,B,Z,ee,ae,C,I,H,V=0;V<T.length;){var q=T[V];switch(V+=1,q){case 1:L();break;case 3:L();break;case 4:s.length>1&&!c&&(S=s.shift()+h,c=!0),p+=s.pop(),E(f,p);break;case 5:for(;s.length>0;)f+=s.shift(),p+=s.shift(),l.lineTo(f,p);break;case 6:for(;s.length>0&&(f+=s.shift(),l.lineTo(f,p),s.length!==0);)p+=s.shift(),l.lineTo(f,p);break;case 7:for(;s.length>0&&(p+=s.shift(),l.lineTo(f,p),s.length!==0);)f+=s.shift(),l.lineTo(f,p);break;case 8:for(;s.length>0;)n=f+s.shift(),a=p+s.shift(),o=n+s.shift(),i=a+s.shift(),f=o+s.shift(),p=i+s.shift(),l.curveTo(n,a,o,i,f,p);break;case 10:X=s.pop()+x,B=y[X],B&&w(B);break;case 11:return;case 12:switch(q=T[V],V+=1,q){case 35:n=f+s.shift(),a=p+s.shift(),o=n+s.shift(),i=a+s.shift(),Z=o+s.shift(),ee=i+s.shift(),ae=Z+s.shift(),C=ee+s.shift(),I=ae+s.shift(),H=C+s.shift(),f=I+s.shift(),p=H+s.shift(),s.shift(),l.curveTo(n,a,o,i,Z,ee),l.curveTo(ae,C,I,H,f,p);break;case 34:n=f+s.shift(),a=p,o=n+s.shift(),i=a+s.shift(),Z=o+s.shift(),ee=i,ae=Z+s.shift(),C=i,I=ae+s.shift(),H=p,f=I+s.shift(),l.curveTo(n,a,o,i,Z,ee),l.curveTo(ae,C,I,H,f,p);break;case 36:n=f+s.shift(),a=p+s.shift(),o=n+s.shift(),i=a+s.shift(),Z=o+s.shift(),ee=i,ae=Z+s.shift(),C=i,I=ae+s.shift(),H=C+s.shift(),f=I+s.shift(),l.curveTo(n,a,o,i,Z,ee),l.curveTo(ae,C,I,H,f,p);break;case 37:n=f+s.shift(),a=p+s.shift(),o=n+s.shift(),i=a+s.shift(),Z=o+s.shift(),ee=i+s.shift(),ae=Z+s.shift(),C=ee+s.shift(),I=ae+s.shift(),H=C+s.shift(),Math.abs(I-f)>Math.abs(H-p)?f=I+s.shift():p=H+s.shift(),l.curveTo(n,a,o,i,Z,ee),l.curveTo(ae,C,I,H,f,p);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+q),s.length=0}break;case 14:s.length>0&&!c&&(S=s.shift()+h,c=!0),d&&(l.closePath(),d=!1);break;case 18:L();break;case 19:case 20:L(),V+=u+7>>3;break;case 21:s.length>2&&!c&&(S=s.shift()+h,c=!0),p+=s.pop(),f+=s.pop(),E(f,p);break;case 22:s.length>1&&!c&&(S=s.shift()+h,c=!0),f+=s.pop(),E(f,p);break;case 23:L();break;case 24:for(;s.length>2;)n=f+s.shift(),a=p+s.shift(),o=n+s.shift(),i=a+s.shift(),f=o+s.shift(),p=i+s.shift(),l.curveTo(n,a,o,i,f,p);f+=s.shift(),p+=s.shift(),l.lineTo(f,p);break;case 25:for(;s.length>6;)f+=s.shift(),p+=s.shift(),l.lineTo(f,p);n=f+s.shift(),a=p+s.shift(),o=n+s.shift(),i=a+s.shift(),f=o+s.shift(),p=i+s.shift(),l.curveTo(n,a,o,i,f,p);break;case 26:for(s.length%2&&(f+=s.shift());s.length>0;)n=f,a=p+s.shift(),o=n+s.shift(),i=a+s.shift(),f=o,p=i+s.shift(),l.curveTo(n,a,o,i,f,p);break;case 27:for(s.length%2&&(p+=s.shift());s.length>0;)n=f+s.shift(),a=p,o=n+s.shift(),i=a+s.shift(),f=o+s.shift(),p=i,l.curveTo(n,a,o,i,f,p);break;case 28:A=T[V],_=T[V+1],s.push((A<<24|_<<16)>>16),V+=2;break;case 29:X=s.pop()+e.gsubrsBias,B=e.gsubrs[X],B&&w(B);break;case 30:for(;s.length>0&&(n=f,a=p+s.shift(),o=n+s.shift(),i=a+s.shift(),f=o+s.shift(),p=i+(s.length===1?s.shift():0),l.curveTo(n,a,o,i,f,p),s.length!==0);)n=f+s.shift(),a=p,o=n+s.shift(),i=a+s.shift(),p=i+s.shift(),f=o+(s.length===1?s.shift():0),l.curveTo(n,a,o,i,f,p);break;case 31:for(;s.length>0&&(n=f+s.shift(),a=p,o=n+s.shift(),i=a+s.shift(),p=i+s.shift(),f=o+(s.length===1?s.shift():0),l.curveTo(n,a,o,i,f,p),s.length!==0);)n=f,a=p+s.shift(),o=n+s.shift(),i=a+s.shift(),f=o+s.shift(),p=i+(s.length===1?s.shift():0),l.curveTo(n,a,o,i,f,p);break;default:q<32?console.log("Glyph "+t.index+": unknown operator "+q):q<247?s.push(q-139):q<251?(A=T[V],V+=1,s.push((q-247)*256+A+108)):q<255?(A=T[V],V+=1,s.push(-(q-251)*256-A-108)):(A=T[V],_=T[V+1],D=T[V+2],z=T[V+3],V+=4,s.push((A<<24|_<<16|D<<8|z)/65536))}}}return w(r),t.advanceWidth=S,l}function $y(e,t,r,n){var a=[],o,i=new $.Parser(e,t),l=i.parseCard8();if(l===0)for(var s=0;s<r;s++){if(o=i.parseCard8(),o>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+n+")");a.push(o)}else if(l===3){var u=i.parseCard16(),c=i.parseCard16();if(c!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var d,f=0;f<u;f++){if(o=i.parseCard8(),d=i.parseCard16(),o>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+n+")");if(d>r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+d);for(;c<d;c++)a.push(o);c=d}if(d!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+d)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+l);return a}function Hy(e,t,r,n){r.tables.cff={};var a=My(e,t),o=vr(e,a.endOffset,$.bytesToString),i=vr(e,o.endOffset),l=vr(e,i.endOffset,$.bytesToString),s=vr(e,l.endOffset);r.gsubrs=s.objects,r.gsubrsBias=Ol(r.gsubrs);var u=_f(e,t,i.objects,l.objects);if(u.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var c=u[0];if(r.tables.cff.topDict=c,c._privateDict&&(r.defaultWidthX=c._privateDict.defaultWidthX,r.nominalWidthX=c._privateDict.nominalWidthX),c.ros[0]!==void 0&&c.ros[1]!==void 0&&(r.isCIDFont=!0),r.isCIDFont){var d=c.fdArray,f=c.fdSelect;if(d===0||f===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");d+=t;var p=vr(e,d),y=_f(e,t,p.objects,l.objects);c._fdArray=y,f+=t,c._fdSelect=$y(e,f,r.numGlyphs,y.length)}var x=t+c.private[1],k=ov(e,x,c.private[0],l.objects);if(r.defaultWidthX=k.defaultWidthX,r.nominalWidthX=k.nominalWidthX,k.subrs!==0){var h=x+k.subrs,v=vr(e,h);r.subrs=v.objects,r.subrsBias=Ol(r.subrs)}else r.subrs=[],r.subrsBias=0;var m;n.lowMemory?(m=Dy(e,t+c.charStrings),r.nGlyphs=m.offsets.length):(m=vr(e,t+c.charStrings),r.nGlyphs=m.objects.length);var S=jy(e,t+c.charset,r.nGlyphs,l.objects);if(c.encoding===0?r.cffEncoding=new wi(Ty,S):c.encoding===1?r.cffEncoding=new wi(Ey,S):r.cffEncoding=Gy(e,t+c.encoding,S),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new Qt.GlyphSet(r),n.lowMemory)r._push=function(w){var T=Py(w,m.offsets,e,t+c.charStrings);r.glyphs.push(w,Qt.cffGlyphLoader(r,w,Nf,T))};else for(var E=0;E<r.nGlyphs;E+=1){var L=m.objects[E];r.glyphs.push(E,Qt.cffGlyphLoader(r,E,Nf,L))}}function iv(e,t){var r,n=Zo.indexOf(e);return n>=0&&(r=n),n=t.indexOf(e),n>=0?r=n+Zo.length:(r=Zo.length+t.length,t.push(e)),r}function Zy(){return new M.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function Wy(e){var t=new M.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}function sv(e,t,r){for(var n={},a=0;a<e.length;a+=1){var o=e[a],i=t[o.name];i!==void 0&&!ev(i,o.value)&&(o.type==="SID"&&(i=iv(i,r)),n[o.op]={name:o.name,type:o.type,value:i})}return n}function Lf(e,t){var r=new M.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=sv(nv,e,t),r}function Uf(e){var t=new M.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function Vy(e){var t=new M.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}function Xy(){return new M.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function Yy(e,t){for(var r=new M.Record("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<e.length;n+=1){var a=e[n],o=iv(a,t);r.fields.push({name:"glyph_"+n,type:"SID",value:o})}return r}function Qy(e){var t=[],r=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var n=0,a=0,o=0;o<r.commands.length;o+=1){var i=void 0,l=void 0,s=r.commands[o];if(s.type==="Q"){var u=.3333333333333333,c=2/3;s={type:"C",x:s.x,y:s.y,x1:Math.round(u*n+c*s.x1),y1:Math.round(u*a+c*s.y1),x2:Math.round(u*s.x+c*s.x1),y2:Math.round(u*s.y+c*s.y1)}}if(s.type==="M")i=Math.round(s.x-n),l=Math.round(s.y-a),t.push({name:"dx",type:"NUMBER",value:i}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(s.x),a=Math.round(s.y);else if(s.type==="L")i=Math.round(s.x-n),l=Math.round(s.y-a),t.push({name:"dx",type:"NUMBER",value:i}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rlineto",type:"OP",value:5}),n=Math.round(s.x),a=Math.round(s.y);else if(s.type==="C"){var d=Math.round(s.x1-n),f=Math.round(s.y1-a),p=Math.round(s.x2-s.x1),y=Math.round(s.y2-s.y1);i=Math.round(s.x-s.x2),l=Math.round(s.y-s.y2),t.push({name:"dx1",type:"NUMBER",value:d}),t.push({name:"dy1",type:"NUMBER",value:f}),t.push({name:"dx2",type:"NUMBER",value:p}),t.push({name:"dy2",type:"NUMBER",value:y}),t.push({name:"dx",type:"NUMBER",value:i}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(s.x),a=Math.round(s.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}function Ky(e){for(var t=new M.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var n=e.get(r),a=Qy(n);t.charStrings.push({name:n.name,type:"CHARSTRING",value:a})}return t}function qy(e,t){var r=new M.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=sv(av,e,t),r}function Jy(e,t){for(var r=new M.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),n=1/t.unitsPerEm,a={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[n,0,0,n,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o={},i=[],l,s=1;s<e.length;s+=1)l=e.get(s),i.push(l.name);var u=[];r.header=Zy(),r.nameIndex=Wy([t.postScriptName]);var c=Lf(a,u);r.topDictIndex=Uf(c),r.globalSubrIndex=Xy(),r.charsets=Yy(i,u),r.charStringsIndex=Ky(e),r.privateDict=qy(o,u),r.stringIndex=Vy(u);var d=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return a.charset=d,a.encoding=0,a.charStrings=a.charset+r.charsets.sizeOf(),a.private[1]=a.charStrings+r.charStringsIndex.sizeOf(),c=Lf(a,u),r.topDictIndex=Uf(c),r}var lv={parse:Hy,make:Jy};function e1(e,t){var r={},n=new $.Parser(e,t);return r.version=n.parseVersion(),r.fontRevision=Math.round(n.parseFixed()*1e3)/1e3,r.checkSumAdjustment=n.parseULong(),r.magicNumber=n.parseULong(),K.argument(r.magicNumber===1594834165,"Font header has wrong magic number."),r.flags=n.parseUShort(),r.unitsPerEm=n.parseUShort(),r.created=n.parseLongDateTime(),r.modified=n.parseLongDateTime(),r.xMin=n.parseShort(),r.yMin=n.parseShort(),r.xMax=n.parseShort(),r.yMax=n.parseShort(),r.macStyle=n.parseUShort(),r.lowestRecPPEM=n.parseUShort(),r.fontDirectionHint=n.parseShort(),r.indexToLocFormat=n.parseShort(),r.glyphDataFormat=n.parseShort(),r}function t1(e){var t=Math.round(new Date().getTime()/1e3)+2082844800,r=t;return e.createdTimestamp&&(r=e.createdTimestamp+2082844800),new M.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:r},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var uv={parse:e1,make:t1};function r1(e,t){var r={},n=new $.Parser(e,t);return r.version=n.parseVersion(),r.ascender=n.parseShort(),r.descender=n.parseShort(),r.lineGap=n.parseShort(),r.advanceWidthMax=n.parseUShort(),r.minLeftSideBearing=n.parseShort(),r.minRightSideBearing=n.parseShort(),r.xMaxExtent=n.parseShort(),r.caretSlopeRise=n.parseShort(),r.caretSlopeRun=n.parseShort(),r.caretOffset=n.parseShort(),n.relativeOffset+=8,r.metricDataFormat=n.parseShort(),r.numberOfHMetrics=n.parseUShort(),r}function n1(e){return new M.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}var cv={parse:r1,make:n1};function a1(e,t,r,n,a){for(var o,i,l=new $.Parser(e,t),s=0;s<n;s+=1){s<r&&(o=l.parseUShort(),i=l.parseShort());var u=a.get(s);u.advanceWidth=o,u.leftSideBearing=i}}function o1(e,t,r,n,a){e._hmtxTableData={};for(var o,i,l=new $.Parser(t,r),s=0;s<a;s+=1)s<n&&(o=l.parseUShort(),i=l.parseShort()),e._hmtxTableData[s]={advanceWidth:o,leftSideBearing:i}}function i1(e,t,r,n,a,o,i){i.lowMemory?o1(e,t,r,n,a):a1(t,r,n,a,o)}function s1(e){for(var t=new M.Table("hmtx",[]),r=0;r<e.length;r+=1){var n=e.get(r),a=n.advanceWidth||0,o=n.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:a}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:o})}return t}var fv={parse:i1,make:s1};function l1(e){for(var t=new M.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),r="",n=12+e.length*4,a=0;a<e.length;++a){var o=r.indexOf(e[a]);o<0&&(o=r.length,r+=e[a]),t.fields.push({name:"offset "+a,type:"USHORT",value:n+o}),t.fields.push({name:"length "+a,type:"USHORT",value:e[a].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t}function u1(e,t){var r=new $.Parser(e,t),n=r.parseULong();K.argument(n===1,"Unsupported ltag table version."),r.skip("uLong",1);for(var a=r.parseULong(),o=[],i=0;i<a;i++){for(var l="",s=t+r.parseUShort(),u=r.parseUShort(),c=s;c<s+u;++c)l+=String.fromCharCode(e.getInt8(c));o.push(l)}return o}var dv={make:l1,parse:u1};function c1(e,t){var r={},n=new $.Parser(e,t);return r.version=n.parseVersion(),r.numGlyphs=n.parseUShort(),r.version===1&&(r.maxPoints=n.parseUShort(),r.maxContours=n.parseUShort(),r.maxCompositePoints=n.parseUShort(),r.maxCompositeContours=n.parseUShort(),r.maxZones=n.parseUShort(),r.maxTwilightPoints=n.parseUShort(),r.maxStorage=n.parseUShort(),r.maxFunctionDefs=n.parseUShort(),r.maxInstructionDefs=n.parseUShort(),r.maxStackElements=n.parseUShort(),r.maxSizeOfInstructions=n.parseUShort(),r.maxComponentElements=n.parseUShort(),r.maxComponentDepth=n.parseUShort()),r}function f1(e){return new M.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}var pv={parse:c1,make:f1},hv=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],vv={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},d1={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},gv={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function p1(e,t,r){switch(e){case 0:if(t===65535)return"und";if(r)return r[t];break;case 1:return vv[t];case 3:return gv[t]}}var Dl="utf-16",h1={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},v1={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function mv(e,t,r){switch(e){case 0:return Dl;case 1:return v1[r]||h1[t];case 3:if(t===1||t===10)return Dl;break}}function g1(e,t,r){for(var n={},a=new $.Parser(e,t),o=a.parseUShort(),i=a.parseUShort(),l=a.offset+a.parseUShort(),s=0;s<i;s++){var u=a.parseUShort(),c=a.parseUShort(),d=a.parseUShort(),f=a.parseUShort(),p=hv[f]||f,y=a.parseUShort(),x=a.parseUShort(),k=p1(u,d,r),h=mv(u,c,d);if(h!==void 0&&k!==void 0){var v=void 0;if(h===Dl?v=Hn.UTF16(e,l+x,y):v=Hn.MACSTRING(e,l+x,y,h),v){var m=n[p];m===void 0&&(m=n[p]={}),m[k]=v}}}return o===1&&a.parseUShort(),n}function Es(e){var t={};for(var r in e)t[e[r]]=parseInt(r);return t}function Of(e,t,r,n,a,o){return new M.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:a},{name:"offset",type:"USHORT",value:o}])}function m1(e,t){var r=e.length,n=t.length-r+1;e:for(var a=0;a<n;a++)for(;a<n;a++){for(var o=0;o<r;o++)if(t[a+o]!==e[o])continue e;return a}return-1}function Df(e,t){var r=m1(e,t);if(r<0){r=t.length;for(var n=0,a=e.length;n<a;++n)t.push(e[n])}return r}function y1(e,t){var r,n=[],a={},o=Es(hv);for(var i in e){var l=o[i];if(l===void 0&&(l=i),r=parseInt(l),isNaN(r))throw new Error('Name table entry "'+i+'" does not exist, see nameTableNames for complete list.');a[r]=e[i],n.push(r)}for(var s=Es(vv),u=Es(gv),c=[],d=[],f=0;f<n.length;f++){r=n[f];var p=a[r];for(var y in p){var x=p[y],k=1,h=s[y],v=d1[h],m=mv(k,v,h),S=P.MACSTRING(x,m);S===void 0&&(k=0,h=t.indexOf(y),h<0&&(h=t.length,t.push(y)),v=4,S=P.UTF16(x));var E=Df(S,d);c.push(Of(k,v,h,r,S.length,E));var L=u[y];if(L!==void 0){var w=P.UTF16(x),T=Df(w,d);c.push(Of(3,1,L,r,w.length,T))}}}c.sort(function(D,z){return D.platformID-z.platformID||D.encodingID-z.encodingID||D.languageID-z.languageID||D.nameID-z.nameID});for(var A=new M.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:c.length},{name:"stringOffset",type:"USHORT",value:6+c.length*12}]),_=0;_<c.length;_++)A.fields.push({name:"record_"+_,type:"RECORD",value:c[_]});return A.fields.push({name:"strings",type:"LITERAL",value:d}),A}var yv={parse:g1,make:y1},Pl=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function x1(e){for(var t=0;t<Pl.length;t+=1){var r=Pl[t];if(e>=r.begin&&e<r.end)return t}return-1}function k1(e,t){var r={},n=new $.Parser(e,t);r.version=n.parseUShort(),r.xAvgCharWidth=n.parseShort(),r.usWeightClass=n.parseUShort(),r.usWidthClass=n.parseUShort(),r.fsType=n.parseUShort(),r.ySubscriptXSize=n.parseShort(),r.ySubscriptYSize=n.parseShort(),r.ySubscriptXOffset=n.parseShort(),r.ySubscriptYOffset=n.parseShort(),r.ySuperscriptXSize=n.parseShort(),r.ySuperscriptYSize=n.parseShort(),r.ySuperscriptXOffset=n.parseShort(),r.ySuperscriptYOffset=n.parseShort(),r.yStrikeoutSize=n.parseShort(),r.yStrikeoutPosition=n.parseShort(),r.sFamilyClass=n.parseShort(),r.panose=[];for(var a=0;a<10;a++)r.panose[a]=n.parseByte();return r.ulUnicodeRange1=n.parseULong(),r.ulUnicodeRange2=n.parseULong(),r.ulUnicodeRange3=n.parseULong(),r.ulUnicodeRange4=n.parseULong(),r.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),r.fsSelection=n.parseUShort(),r.usFirstCharIndex=n.parseUShort(),r.usLastCharIndex=n.parseUShort(),r.sTypoAscender=n.parseShort(),r.sTypoDescender=n.parseShort(),r.sTypoLineGap=n.parseShort(),r.usWinAscent=n.parseUShort(),r.usWinDescent=n.parseUShort(),r.version>=1&&(r.ulCodePageRange1=n.parseULong(),r.ulCodePageRange2=n.parseULong()),r.version>=2&&(r.sxHeight=n.parseShort(),r.sCapHeight=n.parseShort(),r.usDefaultChar=n.parseUShort(),r.usBreakChar=n.parseUShort(),r.usMaxContent=n.parseUShort()),r}function S1(e){return new M.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var zl={parse:k1,make:S1,unicodeRanges:Pl,getUnicodeRange:x1};function w1(e,t){var r={},n=new $.Parser(e,t);switch(r.version=n.parseVersion(),r.italicAngle=n.parseFixed(),r.underlinePosition=n.parseShort(),r.underlineThickness=n.parseShort(),r.isFixedPitch=n.parseULong(),r.minMemType42=n.parseULong(),r.maxMemType42=n.parseULong(),r.minMemType1=n.parseULong(),r.maxMemType1=n.parseULong(),r.version){case 1:r.names=Zr.slice();break;case 2:r.numberOfGlyphs=n.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs);for(var a=0;a<r.numberOfGlyphs;a++)r.glyphNameIndex[a]=n.parseUShort();r.names=[];for(var o=0;o<r.numberOfGlyphs;o++)if(r.glyphNameIndex[o]>=Zr.length){var i=n.parseChar();r.names.push(n.parseString(i))}break;case 2.5:r.numberOfGlyphs=n.parseUShort(),r.offset=new Array(r.numberOfGlyphs);for(var l=0;l<r.numberOfGlyphs;l++)r.offset[l]=n.parseChar();break}return r}function b1(){return new M.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var xv={parse:w1,make:b1},zt=new Array(9);zt[1]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:1,coverage:this.parsePointer(b.coverage),deltaGlyphId:this.parseUShort()};if(r===2)return{substFormat:2,coverage:this.parsePointer(b.coverage),substitute:this.parseOffset16List()};K.assert(!1,"0x"+t.toString(16)+": lookup type 1 format must be 1 or 2.")};zt[2]=function(){var t=this.parseUShort();return K.argument(t===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(b.coverage),sequences:this.parseListOfLists()}};zt[3]=function(){var t=this.parseUShort();return K.argument(t===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(b.coverage),alternateSets:this.parseListOfLists()}};zt[4]=function(){var t=this.parseUShort();return K.argument(t===1,"GSUB ligature table identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(b.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Pn={sequenceIndex:b.uShort,lookupListIndex:b.uShort};zt[5]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:r,coverage:this.parsePointer(b.coverage),ruleSets:this.parseListOfLists(function(){var o=this.parseUShort(),i=this.parseUShort();return{input:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(i,Pn)}})};if(r===2)return{substFormat:r,coverage:this.parsePointer(b.coverage),classDef:this.parsePointer(b.classDef),classSets:this.parseListOfLists(function(){var o=this.parseUShort(),i=this.parseUShort();return{classes:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(i,Pn)}})};if(r===3){var n=this.parseUShort(),a=this.parseUShort();return{substFormat:r,coverages:this.parseList(n,b.pointer(b.coverage)),lookupRecords:this.parseRecordList(a,Pn)}}K.assert(!1,"0x"+t.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};zt[6]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:1,coverage:this.parsePointer(b.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Pn)}})};if(r===2)return{substFormat:2,coverage:this.parsePointer(b.coverage),backtrackClassDef:this.parsePointer(b.classDef),inputClassDef:this.parsePointer(b.classDef),lookaheadClassDef:this.parsePointer(b.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Pn)}})};if(r===3)return{substFormat:3,backtrackCoverage:this.parseList(b.pointer(b.coverage)),inputCoverage:this.parseList(b.pointer(b.coverage)),lookaheadCoverage:this.parseList(b.pointer(b.coverage)),lookupRecords:this.parseRecordList(Pn)};K.assert(!1,"0x"+t.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};zt[7]=function(){var t=this.parseUShort();K.argument(t===1,"GSUB Extension Substitution subtable identifier-format must be 1");var r=this.parseUShort(),n=new b(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:r,extension:zt[r].call(n)}};zt[8]=function(){var t=this.parseUShort();return K.argument(t===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(b.coverage),backtrackCoverage:this.parseList(b.pointer(b.coverage)),lookaheadCoverage:this.parseList(b.pointer(b.coverage)),substitutes:this.parseUShortList()}};function T1(e,t){t=t||0;var r=new b(e,t),n=r.parseVersion(1);return K.argument(n===1||n===1.1,"Unsupported GSUB table version."),n===1?{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(zt)}:{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(zt),variations:r.parseFeatureVariationsList()}}var Yn=new Array(9);Yn[1]=function(t){return t.substFormat===1?new M.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new M.Coverage(t.coverage)},{name:"deltaGlyphID",type:"USHORT",value:t.deltaGlyphId}]):new M.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new M.Coverage(t.coverage)}].concat(M.ushortList("substitute",t.substitute)))};Yn[2]=function(t){return K.assert(t.substFormat===1,"Lookup type 2 substFormat must be 1."),new M.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new M.Coverage(t.coverage)}].concat(M.tableList("seqSet",t.sequences,function(r){return new M.Table("sequenceSetTable",M.ushortList("sequence",r))})))};Yn[3]=function(t){return K.assert(t.substFormat===1,"Lookup type 3 substFormat must be 1."),new M.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new M.Coverage(t.coverage)}].concat(M.tableList("altSet",t.alternateSets,function(r){return new M.Table("alternateSetTable",M.ushortList("alternate",r))})))};Yn[4]=function(t){return K.assert(t.substFormat===1,"Lookup type 4 substFormat must be 1."),new M.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new M.Coverage(t.coverage)}].concat(M.tableList("ligSet",t.ligatureSets,function(r){return new M.Table("ligatureSetTable",M.tableList("ligature",r,function(n){return new M.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:n.ligGlyph}].concat(M.ushortList("component",n.components,n.components.length+1)))}))})))};Yn[6]=function(t){if(t.substFormat===1){var r=new M.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:t.substFormat},{name:"coverage",type:"TABLE",value:new M.Coverage(t.coverage)}].concat(M.tableList("chainRuleSet",t.chainRuleSets,function(o){return new M.Table("chainRuleSetTable",M.tableList("chainRule",o,function(i){var l=M.ushortList("backtrackGlyph",i.backtrack,i.backtrack.length).concat(M.ushortList("inputGlyph",i.input,i.input.length+1)).concat(M.ushortList("lookaheadGlyph",i.lookahead,i.lookahead.length)).concat(M.ushortList("substitution",[],i.lookupRecords.length));return i.lookupRecords.forEach(function(s,u){l=l.concat({name:"sequenceIndex"+u,type:"USHORT",value:s.sequenceIndex}).concat({name:"lookupListIndex"+u,type:"USHORT",value:s.lookupListIndex})}),new M.Table("chainRuleTable",l)}))})));return r}else if(t.substFormat===2)K.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(t.substFormat===3){var n=[{name:"substFormat",type:"USHORT",value:t.substFormat}];n.push({name:"backtrackGlyphCount",type:"USHORT",value:t.backtrackCoverage.length}),t.backtrackCoverage.forEach(function(o,i){n.push({name:"backtrackCoverage"+i,type:"TABLE",value:new M.Coverage(o)})}),n.push({name:"inputGlyphCount",type:"USHORT",value:t.inputCoverage.length}),t.inputCoverage.forEach(function(o,i){n.push({name:"inputCoverage"+i,type:"TABLE",value:new M.Coverage(o)})}),n.push({name:"lookaheadGlyphCount",type:"USHORT",value:t.lookaheadCoverage.length}),t.lookaheadCoverage.forEach(function(o,i){n.push({name:"lookaheadCoverage"+i,type:"TABLE",value:new M.Coverage(o)})}),n.push({name:"substitutionCount",type:"USHORT",value:t.lookupRecords.length}),t.lookupRecords.forEach(function(o,i){n=n.concat({name:"sequenceIndex"+i,type:"USHORT",value:o.sequenceIndex}).concat({name:"lookupListIndex"+i,type:"USHORT",value:o.lookupListIndex})});var a=new M.Table("chainContextTable",n);return a}K.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function E1(e){return new M.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new M.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new M.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new M.LookupList(e.lookups,Yn)}])}var kv={parse:T1,make:E1};function C1(e,t){var r=new $.Parser(e,t),n=r.parseULong();K.argument(n===1,"Unsupported META table version."),r.parseULong(),r.parseULong();for(var a=r.parseULong(),o={},i=0;i<a;i++){var l=r.parseTag(),s=r.parseULong(),u=r.parseULong(),c=Hn.UTF8(e,t+s,u);o[l]=c}return o}function F1(e){var t=Object.keys(e).length,r="",n=16+t*12,a=new M.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:n},{name:"numTags",type:"ULONG",value:t}]);for(var o in e){var i=r.length;r+=e[o],a.fields.push({name:"tag "+o,type:"TAG",value:o}),a.fields.push({name:"offset "+o,type:"ULONG",value:n+i}),a.fields.push({name:"length "+o,type:"ULONG",value:e[o].length})}return a.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),a}var Sv={parse:C1,make:F1};function Pf(e){return Math.log(e)/Math.log(2)|0}function ju(e){for(;e.length%4!==0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%=Math.pow(2,32),t}function zf(e,t,r,n){return new M.Record("Table Record",[{name:"tag",type:"TAG",value:e!==void 0?e:""},{name:"checkSum",type:"ULONG",value:t!==void 0?t:0},{name:"offset",type:"ULONG",value:r!==void 0?r:0},{name:"length",type:"ULONG",value:n!==void 0?n:0}])}function wv(e){var t=new M.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var r=Math.pow(2,Pf(t.numTables));t.searchRange=16*r,t.entrySelector=Pf(r),t.rangeShift=t.numTables*16-t.searchRange;for(var n=[],a=[],o=t.sizeOf()+zf().sizeOf()*t.numTables;o%4!==0;)o+=1,a.push({name:"padding",type:"BYTE",value:0});for(var i=0;i<e.length;i+=1){var l=e[i];K.argument(l.tableName.length===4,"Table name"+l.tableName+" is invalid.");var s=l.sizeOf(),u=zf(l.tableName,ju(l.encode()),o,s);for(n.push({name:u.tag+" Table Record",type:"RECORD",value:u}),a.push({name:l.tableName+" table",type:"RECORD",value:l}),o+=s,K.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!==0;)o+=1,a.push({name:"padding",type:"BYTE",value:0})}return n.sort(function(c,d){return c.value.tag>d.value.tag?1:-1}),t.fields=t.fields.concat(n),t.fields=t.fields.concat(a),t}function If(e,t,r){for(var n=0;n<t.length;n+=1){var a=e.charToGlyphIndex(t[n]);if(a>0){var o=e.glyphs.get(a);return o.getMetrics()}}return r}function R1(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}function _1(e){for(var t=[],r=[],n=[],a=[],o=[],i=[],l=[],s,u=0,c=0,d=0,f=0,p=0,y=0;y<e.glyphs.length;y+=1){var x=e.glyphs.get(y),k=x.unicode|0;if(isNaN(x.advanceWidth))throw new Error("Glyph "+x.name+" ("+y+"): advanceWidth is not a number.");(s>k||s===void 0)&&k>0&&(s=k),u<k&&(u=k);var h=zl.getUnicodeRange(k);if(h<32)c|=1<<h;else if(h<64)d|=1<<h-32;else if(h<96)f|=1<<h-64;else if(h<123)p|=1<<h-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(x.name!==".notdef"){var v=x.getMetrics();t.push(v.xMin),r.push(v.yMin),n.push(v.xMax),a.push(v.yMax),i.push(v.leftSideBearing),l.push(v.rightSideBearing),o.push(x.advanceWidth)}}var m={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,n),yMax:Math.max.apply(null,a),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:R1(o),minLeftSideBearing:Math.min.apply(null,i),maxLeftSideBearing:Math.max.apply(null,i),minRightSideBearing:Math.min.apply(null,l)};m.ascender=e.ascender,m.descender=e.descender;var S=uv.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:m.xMin,yMin:m.yMin,xMax:m.xMax,yMax:m.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),E=cv.make({ascender:m.ascender,descender:m.descender,advanceWidthMax:m.advanceWidthMax,minLeftSideBearing:m.minLeftSideBearing,minRightSideBearing:m.minRightSideBearing,xMaxExtent:m.maxLeftSideBearing+(m.xMax-m.xMin),numberOfHMetrics:e.glyphs.length}),L=pv.make(e.glyphs.length),w=zl.make(Object.assign({xAvgCharWidth:Math.round(m.advanceWidthAvg),usFirstCharIndex:s,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:d,ulUnicodeRange3:f,ulUnicodeRange4:p,sTypoAscender:m.ascender,sTypoDescender:m.descender,sTypoLineGap:0,usWinAscent:m.yMax,usWinDescent:Math.abs(m.yMin),ulCodePageRange1:1,sxHeight:If(e,"xyvw",{yMax:Math.round(m.ascender/2)}).yMax,sCapHeight:If(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",m).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),T=fv.make(e.glyphs),A=Kh.make(e.glyphs),_=e.getEnglishName("fontFamily"),D=e.getEnglishName("fontSubfamily"),z=_+" "+D,X=e.getEnglishName("postScriptName");X||(X=_.replace(/\s/g,"")+"-"+D);var B={};for(var Z in e.names)B[Z]=e.names[Z];B.uniqueID||(B.uniqueID={en:e.getEnglishName("manufacturer")+":"+z}),B.postScriptName||(B.postScriptName={en:X}),B.preferredFamily||(B.preferredFamily=e.names.fontFamily),B.preferredSubfamily||(B.preferredSubfamily=e.names.fontSubfamily);var ee=[],ae=yv.make(B,ee),C=ee.length>0?dv.make(ee):void 0,I=xv.make(),H=lv.make(e.glyphs,{version:e.getEnglishName("version"),fullName:z,familyName:_,weightName:D,postScriptName:X,unitsPerEm:e.unitsPerEm,fontBBox:[0,m.yMin,m.ascender,m.advanceWidthMax]}),V=e.metas&&Object.keys(e.metas).length>0?Sv.make(e.metas):void 0,q=[S,E,L,w,ae,A,I,H,T];C&&q.push(C),e.tables.gsub&&q.push(kv.make(e.tables.gsub)),V&&q.push(V);for(var kt=wv(q),ke=kt.encode(),Kt=ju(ke),pe=kt.fields,Rt=!1,qt=0;qt<pe.length;qt+=1)if(pe[qt].name==="head table"){pe[qt].value.checkSumAdjustment=2981146554-Kt,Rt=!0;break}if(!Rt)throw new Error("Could not find head table with checkSum to adjust.");return kt}var N1={make:wv,fontToTable:_1,computeCheckSum:ju};function Cs(e,t){for(var r=0,n=e.length-1;r<=n;){var a=r+n>>>1,o=e[a].tag;if(o===t)return a;o<t?r=a+1:n=a-1}return-r-1}function Af(e,t){for(var r=0,n=e.length-1;r<=n;){var a=r+n>>>1,o=e[a];if(o===t)return a;o<t?r=a+1:n=a-1}return-r-1}function Mf(e,t){for(var r,n=0,a=e.length-1;n<=a;){var o=n+a>>>1;r=e[o];var i=r.start;if(i===t)return r;i<t?n=o+1:a=o-1}if(n>0)return r=e[n-1],t>r.end?0:r}function Xa(e,t){this.font=e,this.tableName=t}Xa.prototype={searchTag:Cs,binSearch:Af,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(t){return t.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,r=0;r<e.scripts.length;r++){var n=e.scripts[r].tag;if(n==="DFLT")return n;n==="latn"&&(t=!0)}if(t)return"latn"}},getScriptTable:function(e,t){var r=this.getTable(t);if(r){e=e||"DFLT";var n=r.scripts,a=Cs(r.scripts,e);if(a>=0)return n[a].script;if(t){var o={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return n.splice(-1-a,0,o),o.script}}},getLangSysTable:function(e,t,r){var n=this.getScriptTable(e,r);if(n){if(!t||t==="dflt"||t==="DFLT")return n.defaultLangSys;var a=Cs(n.langSysRecords,t);if(a>=0)return n.langSysRecords[a].langSys;if(r){var o={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return n.langSysRecords.splice(-1-a,0,o),o.langSys}}},getFeatureTable:function(e,t,r,n){var a=this.getLangSysTable(e,t,n);if(a){for(var o,i=a.featureIndexes,l=this.font.tables[this.tableName].features,s=0;s<i.length;s++)if(o=l[i[s]],o.tag===r)return o.feature;if(n){var u=l.length;return K.assert(u===0||r>=l[u-1].tag,"Features must be added in alphabetical order."),o={tag:r,feature:{params:0,lookupListIndexes:[]}},l.push(o),i.push(u),o.feature}}},getLookupTables:function(e,t,r,n,a){var o=this.getFeatureTable(e,t,r,a),i=[];if(o){for(var l,s=o.lookupListIndexes,u=this.font.tables[this.tableName].lookups,c=0;c<s.length;c++)l=u[s[c]],l.lookupType===n&&i.push(l);if(i.length===0&&a){l={lookupType:n,lookupFlag:0,subtables:[],markFilteringSet:void 0};var d=u.length;return u.push(l),s.push(d),[l]}}return i},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var r=Mf(e.ranges,t);return r?r.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var r=Af(e.glyphs,t);return r>=0?r:-1;case 2:var n=Mf(e.ranges,t);return n?n.index+t-n.start:-1}},expandCoverage:function(e){if(e.format===1)return e.glyphs;for(var t=[],r=e.ranges,n=0;n<r.length;n++)for(var a=r[n],o=a.start,i=a.end,l=o;l<=i;l++)t.push(l);return t}};function Ya(e){Xa.call(this,e,"gpos")}Ya.prototype=Xa.prototype;Ya.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)};Ya.prototype.getKerningValue=function(e,t,r){for(var n=0;n<e.length;n++)for(var a=e[n].subtables,o=0;o<a.length;o++){var i=a[o],l=this.getCoverageIndex(i.coverage,t);if(!(l<0))switch(i.posFormat){case 1:for(var s=i.pairSets[l],u=0;u<s.length;u++){var c=s[u];if(c.secondGlyph===r)return c.value1&&c.value1.xAdvance||0}break;case 2:var d=this.getGlyphClass(i.classDef1,t),f=this.getGlyphClass(i.classDef2,r),p=i.classRecords[d][f];return p.value1&&p.value1.xAdvance||0}}return 0};Ya.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)};function yt(e){Xa.call(this,e,"gsub")}function L1(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Gu(e,t,r){for(var n=e.subtables,a=0;a<n.length;a++){var o=n[a];if(o.substFormat===t)return o}if(r)return n.push(r),r}yt.prototype=Xa.prototype;yt.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};yt.prototype.getSingle=function(e,t,r){for(var n=[],a=this.getLookupTables(t,r,e,1),o=0;o<a.length;o++)for(var i=a[o].subtables,l=0;l<i.length;l++){var s=i[l],u=this.expandCoverage(s.coverage),c=void 0;if(s.substFormat===1){var d=s.deltaGlyphId;for(c=0;c<u.length;c++){var f=u[c];n.push({sub:f,by:f+d})}}else{var p=s.substitute;for(c=0;c<u.length;c++)n.push({sub:u[c],by:p[c]})}}return n};yt.prototype.getMultiple=function(e,t,r){for(var n=[],a=this.getLookupTables(t,r,e,2),o=0;o<a.length;o++)for(var i=a[o].subtables,l=0;l<i.length;l++){var s=i[l],u=this.expandCoverage(s.coverage),c=void 0;for(c=0;c<u.length;c++){var d=u[c],f=s.sequences[c];n.push({sub:d,by:f})}}return n};yt.prototype.getAlternates=function(e,t,r){for(var n=[],a=this.getLookupTables(t,r,e,3),o=0;o<a.length;o++)for(var i=a[o].subtables,l=0;l<i.length;l++)for(var s=i[l],u=this.expandCoverage(s.coverage),c=s.alternateSets,d=0;d<u.length;d++)n.push({sub:u[d],by:c[d]});return n};yt.prototype.getLigatures=function(e,t,r){for(var n=[],a=this.getLookupTables(t,r,e,4),o=0;o<a.length;o++)for(var i=a[o].subtables,l=0;l<i.length;l++)for(var s=i[l],u=this.expandCoverage(s.coverage),c=s.ligatureSets,d=0;d<u.length;d++)for(var f=u[d],p=c[d],y=0;y<p.length;y++){var x=p[y];n.push({sub:[f].concat(x.components),by:x.ligGlyph})}return n};yt.prototype.addSingle=function(e,t,r,n){var a=this.getLookupTables(r,n,e,1,!0)[0],o=Gu(a,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});K.assert(o.coverage.format===1,"Single: unable to modify coverage table format "+o.coverage.format);var i=t.sub,l=this.binSearch(o.coverage.glyphs,i);l<0&&(l=-1-l,o.coverage.glyphs.splice(l,0,i),o.substitute.splice(l,0,0)),o.substitute[l]=t.by};yt.prototype.addMultiple=function(e,t,r,n){K.assert(t.by instanceof Array&&t.by.length>1,'Multiple: "by" must be an array of two or more ids');var a=this.getLookupTables(r,n,e,2,!0)[0],o=Gu(a,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});K.assert(o.coverage.format===1,"Multiple: unable to modify coverage table format "+o.coverage.format);var i=t.sub,l=this.binSearch(o.coverage.glyphs,i);l<0&&(l=-1-l,o.coverage.glyphs.splice(l,0,i),o.sequences.splice(l,0,0)),o.sequences[l]=t.by};yt.prototype.addAlternate=function(e,t,r,n){var a=this.getLookupTables(r,n,e,3,!0)[0],o=Gu(a,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});K.assert(o.coverage.format===1,"Alternate: unable to modify coverage table format "+o.coverage.format);var i=t.sub,l=this.binSearch(o.coverage.glyphs,i);l<0&&(l=-1-l,o.coverage.glyphs.splice(l,0,i),o.alternateSets.splice(l,0,0)),o.alternateSets[l]=t.by};yt.prototype.addLigature=function(e,t,r,n){var a=this.getLookupTables(r,n,e,4,!0)[0],o=a.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},a.subtables[0]=o),K.assert(o.coverage.format===1,"Ligature: unable to modify coverage table format "+o.coverage.format);var i=t.sub[0],l=t.sub.slice(1),s={ligGlyph:t.by,components:l},u=this.binSearch(o.coverage.glyphs,i);if(u>=0){for(var c=o.ligatureSets[u],d=0;d<c.length;d++)if(L1(c[d].components,l))return;c.push(s)}else u=-1-u,o.coverage.glyphs.splice(u,0,i),o.ligatureSets.splice(u,0,[s])};yt.prototype.getFeature=function(e,t,r){if(/ss\d\d/.test(e))return this.getSingle(e,t,r);switch(e){case"aalt":case"salt":return this.getSingle(e,t,r).concat(this.getAlternates(e,t,r));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,r);case"ccmp":return this.getMultiple(e,t,r).concat(this.getLigatures(e,t,r));case"stch":return this.getMultiple(e,t,r)}};yt.prototype.add=function(e,t,r,n){if(/ss\d\d/.test(e))return this.addSingle(e,t,r,n);switch(e){case"aalt":case"salt":return typeof t.by=="number"?this.addSingle(e,t,r,n):this.addAlternate(e,t,r,n);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,r,n);case"ccmp":return t.by instanceof Array?this.addMultiple(e,t,r,n):this.addLigature(e,t,r,n)}};function U1(){return typeof window<"u"}function bv(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;++n)r[n]=e[n];return t}function O1(e){for(var t=new Buffer(e.byteLength),r=new Uint8Array(e),n=0;n<t.length;++n)t[n]=r[n];return t}function ia(e,t){if(!e)throw t}function Bf(e,t,r,n,a){var o;return(t&n)>0?(o=e.parseByte(),t&a||(o=-o),o=r+o):(t&a)>0?o=r:o=r+e.parseShort(),o}function Tv(e,t,r){var n=new $.Parser(t,r);e.numberOfContours=n.parseShort(),e._xMin=n.parseShort(),e._yMin=n.parseShort(),e._xMax=n.parseShort(),e._yMax=n.parseShort();var a,o;if(e.numberOfContours>0){for(var i=e.endPointIndices=[],l=0;l<e.numberOfContours;l+=1)i.push(n.parseUShort());e.instructionLength=n.parseUShort(),e.instructions=[];for(var s=0;s<e.instructionLength;s+=1)e.instructions.push(n.parseByte());var u=i[i.length-1]+1;a=[];for(var c=0;c<u;c+=1)if(o=n.parseByte(),a.push(o),(o&8)>0)for(var d=n.parseByte(),f=0;f<d;f+=1)a.push(o),c+=1;if(K.argument(a.length===u,"Bad flags."),i.length>0){var p=[],y;if(u>0){for(var x=0;x<u;x+=1)o=a[x],y={},y.onCurve=!!(o&1),y.lastPointOfContour=i.indexOf(x)>=0,p.push(y);for(var k=0,h=0;h<u;h+=1)o=a[h],y=p[h],y.x=Bf(n,o,k,2,16),k=y.x;for(var v=0,m=0;m<u;m+=1)o=a[m],y=p[m],y.y=Bf(n,o,v,4,32),v=y.y}e.points=p}else e.points=[]}else if(e.numberOfContours===0)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var S=!0;S;){a=n.parseUShort();var E={glyphIndex:n.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(a&1)>0?(a&2)>0?(E.dx=n.parseShort(),E.dy=n.parseShort()):E.matchedPoints=[n.parseUShort(),n.parseUShort()]:(a&2)>0?(E.dx=n.parseChar(),E.dy=n.parseChar()):E.matchedPoints=[n.parseByte(),n.parseByte()],(a&8)>0?E.xScale=E.yScale=n.parseF2Dot14():(a&64)>0?(E.xScale=n.parseF2Dot14(),E.yScale=n.parseF2Dot14()):(a&128)>0&&(E.xScale=n.parseF2Dot14(),E.scale01=n.parseF2Dot14(),E.scale10=n.parseF2Dot14(),E.yScale=n.parseF2Dot14()),e.components.push(E),S=!!(a&32)}if(a&256){e.instructionLength=n.parseUShort(),e.instructions=[];for(var L=0;L<e.instructionLength;L+=1)e.instructions.push(n.parseByte())}}}function Fs(e,t){for(var r=[],n=0;n<e.length;n+=1){var a=e[n],o={x:t.xScale*a.x+t.scale01*a.y+t.dx,y:t.scale10*a.x+t.yScale*a.y+t.dy,onCurve:a.onCurve,lastPointOfContour:a.lastPointOfContour};r.push(o)}return r}function D1(e){for(var t=[],r=[],n=0;n<e.length;n+=1){var a=e[n];r.push(a),a.lastPointOfContour&&(t.push(r),r=[])}return K.argument(r.length===0,"There are still points left in the current contour."),t}function Ev(e){var t=new Pe;if(!e)return t;for(var r=D1(e),n=0;n<r.length;++n){var a=r[n],o=null,i=a[a.length-1],l=a[0];if(i.onCurve)t.moveTo(i.x,i.y);else if(l.onCurve)t.moveTo(l.x,l.y);else{var s={x:(i.x+l.x)*.5,y:(i.y+l.y)*.5};t.moveTo(s.x,s.y)}for(var u=0;u<a.length;++u)if(o=i,i=l,l=a[(u+1)%a.length],i.onCurve)t.lineTo(i.x,i.y);else{var c=l;o.onCurve||((i.x+o.x)*.5,(i.y+o.y)*.5),l.onCurve||(c={x:(i.x+l.x)*.5,y:(i.y+l.y)*.5}),t.quadraticCurveTo(i.x,i.y,c.x,c.y)}t.closePath()}return t}function Cv(e,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var n=t.components[r],a=e.get(n.glyphIndex);if(a.getPath(),a.points){var o=void 0;if(n.matchedPoints===void 0)o=Fs(a.points,n);else{if(n.matchedPoints[0]>t.points.length-1||n.matchedPoints[1]>a.points.length-1)throw Error("Matched points out of range in "+t.name);var i=t.points[n.matchedPoints[0]],l=a.points[n.matchedPoints[1]],s={xScale:n.xScale,scale01:n.scale01,scale10:n.scale10,yScale:n.yScale,dx:0,dy:0};l=Fs([l],s)[0],s.dx=i.x-l.x,s.dy=i.y-l.y,o=Fs(a.points,s)}t.points=t.points.concat(o)}}return Ev(t.points)}function P1(e,t,r,n){for(var a=new Qt.GlyphSet(n),o=0;o<r.length-1;o+=1){var i=r[o],l=r[o+1];i!==l?a.push(o,Qt.ttfGlyphLoader(n,o,Tv,e,t+i,Cv)):a.push(o,Qt.glyphLoader(n,o))}return a}function z1(e,t,r,n){var a=new Qt.GlyphSet(n);return n._push=function(o){var i=r[o],l=r[o+1];i!==l?a.push(o,Qt.ttfGlyphLoader(n,o,Tv,e,t+i,Cv)):a.push(o,Qt.glyphLoader(n,o))},a}function I1(e,t,r,n,a){return a.lowMemory?z1(e,t,r,n):P1(e,t,r,n)}var Fv={getPath:Ev,parse:I1},Rv,an,_v,Il;function Nv(e){this.font=e,this.getCommands=function(t){return Fv.getPath(t).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function A1(e){return e}function Lv(e){return Math.sign(e)*Math.round(Math.abs(e))}function M1(e){return Math.sign(e)*Math.round(Math.abs(e*2))/2}function B1(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function j1(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function G1(e){return Math.sign(e)*Math.floor(Math.abs(e))}var Uv=function(e){var t=this.srPeriod,r=this.srPhase,n=this.srThreshold,a=1;return e<0&&(e=-e,a=-1),e+=n-r,e=Math.trunc(e/t)*t,e+=r,e<0?r*a:e*a},Vt={x:1,y:0,axis:"x",distance:function(e,t,r,n){return(r?e.xo:e.x)-(n?t.xo:t.x)},interpolate:function(e,t,r,n){var a,o,i,l,s,u,c;if(!n||n===this){if(a=e.xo-t.xo,o=e.xo-r.xo,s=t.x-t.xo,u=r.x-r.xo,i=Math.abs(a),l=Math.abs(o),c=i+l,c===0){e.x=e.xo+(s+u)/2;return}e.x=e.xo+(s*l+u*i)/c;return}if(a=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),s=n.distance(t,t,!1,!0),u=n.distance(r,r,!1,!0),i=Math.abs(a),l=Math.abs(o),c=i+l,c===0){Vt.setRelative(e,e,(s+u)/2,n,!0);return}Vt.setRelative(e,e,(s*l+u*i)/c,n,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,r,n,a){if(!n||n===this){e.x=(a?t.xo:t.x)+r;return}var o=a?t.xo:t.x,i=a?t.yo:t.y,l=o+r*n.x,s=i+r*n.y;e.x=l+(e.y-s)/n.normalSlope},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},nr={x:0,y:1,axis:"y",distance:function(e,t,r,n){return(r?e.yo:e.y)-(n?t.yo:t.y)},interpolate:function(e,t,r,n){var a,o,i,l,s,u,c;if(!n||n===this){if(a=e.yo-t.yo,o=e.yo-r.yo,s=t.y-t.yo,u=r.y-r.yo,i=Math.abs(a),l=Math.abs(o),c=i+l,c===0){e.y=e.yo+(s+u)/2;return}e.y=e.yo+(s*l+u*i)/c;return}if(a=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),s=n.distance(t,t,!1,!0),u=n.distance(r,r,!1,!0),i=Math.abs(a),l=Math.abs(o),c=i+l,c===0){nr.setRelative(e,e,(s+u)/2,n,!0);return}nr.setRelative(e,e,(s*l+u*i)/c,n,!0)},normalSlope:0,setRelative:function(e,t,r,n,a){if(!n||n===this){e.y=(a?t.yo:t.y)+r;return}var o=a?t.xo:t.x,i=a?t.yo:t.y,l=o+r*n.x,s=i+r*n.y;e.y=s+n.normalSlope*(e.x-l)},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};Object.freeze(Vt);Object.freeze(nr);function Qa(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}Qa.prototype.distance=function(e,t,r,n){return this.x*Vt.distance(e,t,r,n)+this.y*nr.distance(e,t,r,n)};Qa.prototype.interpolate=function(e,t,r,n){var a,o,i,l,s,u,c;if(i=n.distance(e,t,!0,!0),l=n.distance(e,r,!0,!0),a=n.distance(t,t,!1,!0),o=n.distance(r,r,!1,!0),s=Math.abs(i),u=Math.abs(l),c=s+u,c===0){this.setRelative(e,e,(a+o)/2,n,!0);return}this.setRelative(e,e,(a*u+o*s)/c,n,!0)};Qa.prototype.setRelative=function(e,t,r,n,a){n=n||this;var o=a?t.xo:t.x,i=a?t.yo:t.y,l=o+r*n.x,s=i+r*n.y,u=n.normalSlope,c=this.slope,d=e.x,f=e.y;e.x=(c*d-u*l+s-f)/(c-u),e.y=c*(e.x-d)+f};Qa.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0};function Ka(e,t){var r=Math.sqrt(e*e+t*t);return e/=r,t/=r,e===1&&t===0?Vt:e===0&&t===1?nr:new Qa(e,t)}function or(e,t,r,n){this.x=this.xo=Math.round(e*64)/64,this.y=this.yo=Math.round(t*64)/64,this.lastPointOfContour=r,this.onCurve=n,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}or.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t};or.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var ja=Object.freeze(new or(0,0)),$1={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function wr(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Vt,this.round=Lv}}Nv.prototype.exec=function(e,t){if(typeof t!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var r=this.font,n=this._prepState;if(!n||n.ppem!==t){var a=this._fpgmState;if(!a){wr.prototype=$1,a=this._fpgmState=new wr("fpgm",r.tables.fpgm),a.funcs=[],a.font=r,R.DEBUG&&(console.log("---EXEC FPGM---"),a.step=-1);try{an(a)}catch(u){console.log("Hinting error in FPGM:"+u),this._errorState=3;return}}wr.prototype=a,n=this._prepState=new wr("prep",r.tables.prep),n.ppem=t;var o=r.tables.cvt;if(o)for(var i=n.cvt=new Array(o.length),l=t/r.unitsPerEm,s=0;s<o.length;s++)i[s]=o[s]*l;else n.cvt=[];R.DEBUG&&(console.log("---EXEC PREP---"),n.step=-1);try{an(n)}catch(u){this._errorState<2&&console.log("Hinting error in PREP:"+u),this._errorState=2}}if(!(this._errorState>1))try{return _v(e,n)}catch(u){this._errorState<1&&(console.log("Hinting error:"+u),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};_v=function(e,t){var r=t.ppem/t.font.unitsPerEm,n=r,a=e.components,o,i,l;if(wr.prototype=t,!a)l=new wr("glyf",e.instructions),R.DEBUG&&(console.log("---EXEC GLYPH---"),l.step=-1),Il(e,l,r,n),i=l.gZone;else{var s=t.font;i=[],o=[];for(var u=0;u<a.length;u++){var c=a[u],d=s.glyphs.get(c.glyphIndex);l=new wr("glyf",d.instructions),R.DEBUG&&(console.log("---EXEC COMP "+u+"---"),l.step=-1),Il(d,l,r,n);for(var f=Math.round(c.dx*r),p=Math.round(c.dy*n),y=l.gZone,x=l.contours,k=0;k<y.length;k++){var h=y[k];h.xTouched=h.yTouched=!1,h.xo=h.x=h.x+f,h.yo=h.y=h.y+p}var v=i.length;i.push.apply(i,y);for(var m=0;m<x.length;m++)o.push(x[m]+v)}e.instructions&&!l.inhibitGridFit&&(l=new wr("glyf",e.instructions),l.gZone=l.z0=l.z1=l.z2=i,l.contours=o,i.push(new or(0,0),new or(Math.round(e.advanceWidth*r),0)),R.DEBUG&&(console.log("---EXEC COMPOSITE---"),l.step=-1),an(l),i.length-=2)}return i};Il=function(e,t,r,n){for(var a=e.points||[],o=a.length,i=t.gZone=t.z0=t.z1=t.z2=[],l=t.contours=[],s,u=0;u<o;u++)s=a[u],i[u]=new or(s.x*r,s.y*n,s.lastPointOfContour,s.onCurve);for(var c,d,f=0;f<o;f++)s=i[f],c||(c=s,l.push(f)),s.lastPointOfContour?(s.nextPointOnContour=c,c.prevPointOnContour=s,c=void 0):(d=i[f+1],s.nextPointOnContour=d,d.prevPointOnContour=s);if(!t.inhibitGridFit){if(R.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var p=0;p<o;p++)console.log(p,i[p].x,i[p].y)}if(i.push(new or(0,0),new or(Math.round(e.advanceWidth*r),0)),an(t),i.length-=2,R.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var y=0;y<o;y++)console.log(y,i[y].x,i[y].y)}}};an=function(e){var t=e.prog;if(t){var r=t.length,n;for(e.ip=0;e.ip<r;e.ip++){if(R.DEBUG&&e.step++,n=Rv[t[e.ip]],!n)throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));n(e)}}};function $i(e){for(var t=e.tZone=new Array(e.gZone.length),r=0;r<t.length;r++)t[r]=new or(0,0)}function Ov(e,t){var r=e.prog,n=e.ip,a=1,o;do if(o=r[++n],o===88)a++;else if(o===89)a--;else if(o===64)n+=r[n+1]+1;else if(o===65)n+=2*r[n+1]+1;else if(o>=176&&o<=183)n+=o-176+1;else if(o>=184&&o<=191)n+=(o-184+1)*2;else if(t&&a===1&&o===27)break;while(a>0);e.ip=n}function jf(e,t){R.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function Gf(e,t){R.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function $f(e,t){R.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function Hf(e,t){var r=t.stack,n=r.pop(),a=r.pop(),o=t.z2[n],i=t.z1[a];R.DEBUG&&console.log("SPVTL["+e+"]",n,a);var l,s;e?(l=o.y-i.y,s=i.x-o.x):(l=i.x-o.x,s=i.y-o.y),t.pv=t.dpv=Ka(l,s)}function Zf(e,t){var r=t.stack,n=r.pop(),a=r.pop(),o=t.z2[n],i=t.z1[a];R.DEBUG&&console.log("SFVTL["+e+"]",n,a);var l,s;e?(l=o.y-i.y,s=i.x-o.x):(l=i.x-o.x,s=i.y-o.y),t.fv=Ka(l,s)}function H1(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.pv=e.dpv=Ka(n,r)}function Z1(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.fv=Ka(n,r)}function W1(e){var t=e.stack,r=e.pv;R.DEBUG&&console.log(e.step,"GPV[]"),t.push(r.x*16384),t.push(r.y*16384)}function V1(e){var t=e.stack,r=e.fv;R.DEBUG&&console.log(e.step,"GFV[]"),t.push(r.x*16384),t.push(r.y*16384)}function X1(e){e.fv=e.pv,R.DEBUG&&console.log(e.step,"SFVTPV[]")}function Y1(e){var t=e.stack,r=t.pop(),n=t.pop(),a=t.pop(),o=t.pop(),i=t.pop(),l=e.z0,s=e.z1,u=l[r],c=l[n],d=s[a],f=s[o],p=e.z2[i];R.DEBUG&&console.log("ISECT[], ",r,n,a,o,i);var y=u.x,x=u.y,k=c.x,h=c.y,v=d.x,m=d.y,S=f.x,E=f.y,L=(y-k)*(m-E)-(x-h)*(v-S),w=y*h-x*k,T=v*E-m*S;p.x=(w*(v-S)-T*(y-k))/L,p.y=(w*(m-E)-T*(x-h))/L}function Q1(e){e.rp0=e.stack.pop(),R.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)}function K1(e){e.rp1=e.stack.pop(),R.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)}function q1(e){e.rp2=e.stack.pop(),R.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)}function J1(e){var t=e.stack.pop();switch(R.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t,t){case 0:e.tZone||$i(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function ex(e){var t=e.stack.pop();switch(R.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t,t){case 0:e.tZone||$i(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function tx(e){var t=e.stack.pop();switch(R.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t,t){case 0:e.tZone||$i(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function rx(e){var t=e.stack.pop();switch(R.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||$i(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function nx(e){e.loop=e.stack.pop(),R.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)}function ax(e){R.DEBUG&&console.log(e.step,"RTG[]"),e.round=Lv}function ox(e){R.DEBUG&&console.log(e.step,"RTHG[]"),e.round=B1}function ix(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64}function sx(e){R.DEBUG&&console.log(e.step,"ELSE[]"),Ov(e,!1)}function lx(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1}function ux(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64}function cx(e){var t=e.stack;R.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])}function Rs(e){R.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function fx(e){R.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0}function dx(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"SWAP[]"),t.push(r),t.push(n)}function px(e){var t=e.stack;R.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)}function hx(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"LOOPCALL[]",r,n);var a=e.ip,o=e.prog;e.prog=e.funcs[r];for(var i=0;i<n;i++)an(e),R.DEBUG&&console.log(++e.step,i+1<n?"next loopcall":"done loopcall",i);e.ip=a,e.prog=o}function vx(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"CALL[]",t);var r=e.ip,n=e.prog;e.prog=e.funcs[t],an(e),e.ip=r,e.prog=n,R.DEBUG&&console.log(++e.step,"returning from",t)}function gx(e){var t=e.stack,r=t.pop();R.DEBUG&&console.log(e.step,"CINDEX[]",r),t.push(t[t.length-r])}function mx(e){var t=e.stack,r=t.pop();R.DEBUG&&console.log(e.step,"MINDEX[]",r),t.push(t.splice(t.length-r,1)[0])}function yx(e){if(e.env!=="fpgm")throw new Error("FDEF not allowed here");var t=e.stack,r=e.prog,n=e.ip,a=t.pop(),o=n;for(R.DEBUG&&console.log(e.step,"FDEF[]",a);r[++n]!==45;);e.ip=n,e.funcs[a]=r.slice(o+1,n)}function Wf(e,t){var r=t.stack.pop(),n=t.z0[r],a=t.fv,o=t.pv;R.DEBUG&&console.log(t.step,"MDAP["+e+"]",r);var i=o.distance(n,ja);e&&(i=t.round(i)),a.setRelative(n,ja,i,o),a.touch(n),t.rp0=t.rp1=r}function Vf(e,t){var r=t.z2,n=r.length-2,a,o,i;R.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var l=0;l<n;l++)a=r[l],!e.touched(a)&&(o=a.prevTouched(e),o!==a&&(i=a.nextTouched(e),o===i&&e.setRelative(a,a,e.distance(o,o,!1,!0),e,!0),e.interpolate(a,o,i,e)))}function Xf(e,t){for(var r=t.stack,n=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[n],o=t.fv,i=t.pv,l=t.loop,s=t.z2;l--;){var u=r.pop(),c=s[u],d=i.distance(a,a,!1,!0);o.setRelative(c,c,d,i),o.touch(c),R.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-l)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",u)}t.loop=1}function Yf(e,t){var r=t.stack,n=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[n],o=t.fv,i=t.pv,l=r.pop(),s=t.z2[t.contours[l]],u=s;R.DEBUG&&console.log(t.step,"SHC["+e+"]",l);var c=i.distance(a,a,!1,!0);do u!==a&&o.setRelative(u,u,c,i),u=u.nextPointOnContour;while(u!==s)}function Qf(e,t){var r=t.stack,n=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[n],o=t.fv,i=t.pv,l=r.pop();R.DEBUG&&console.log(t.step,"SHZ["+e+"]",l);var s;switch(l){case 0:s=t.tZone;break;case 1:s=t.gZone;break;default:throw new Error("Invalid zone")}for(var u,c=i.distance(a,a,!1,!0),d=s.length-2,f=0;f<d;f++)u=s[f],o.setRelative(u,u,c,i)}function xx(e){for(var t=e.stack,r=e.loop,n=e.fv,a=t.pop()/64,o=e.z2;r--;){var i=t.pop(),l=o[i];R.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-r)+": ":"")+"SHPIX[]",i,a),n.setRelative(l,l,a),n.touch(l)}e.loop=1}function kx(e){for(var t=e.stack,r=e.rp1,n=e.rp2,a=e.loop,o=e.z0[r],i=e.z1[n],l=e.fv,s=e.dpv,u=e.z2;a--;){var c=t.pop(),d=u[c];R.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"IP[]",c,r,"<->",n),l.interpolate(d,o,i,s),l.touch(d)}e.loop=1}function Kf(e,t){var r=t.stack,n=r.pop()/64,a=r.pop(),o=t.z1[a],i=t.z0[t.rp0],l=t.fv,s=t.pv;l.setRelative(o,i,n,s),l.touch(o),R.DEBUG&&console.log(t.step,"MSIRP["+e+"]",n,a),t.rp1=t.rp0,t.rp2=a,e&&(t.rp0=a)}function Sx(e){for(var t=e.stack,r=e.rp0,n=e.z0[r],a=e.loop,o=e.fv,i=e.pv,l=e.z1;a--;){var s=t.pop(),u=l[s];R.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"ALIGNRP[]",s),o.setRelative(u,n,0,i),o.touch(u)}e.loop=1}function wx(e){R.DEBUG&&console.log(e.step,"RTDG[]"),e.round=M1}function qf(e,t){var r=t.stack,n=r.pop(),a=r.pop(),o=t.z0[a],i=t.fv,l=t.pv,s=t.cvt[n];R.DEBUG&&console.log(t.step,"MIAP["+e+"]",n,"(",s,")",a);var u=l.distance(o,ja);e&&(Math.abs(u-s)<t.cvCutIn&&(u=s),u=t.round(u)),i.setRelative(o,ja,u,l),t.zp0===0&&(o.xo=o.x,o.yo=o.y),i.touch(o),t.rp0=t.rp1=a}function bx(e){var t=e.prog,r=e.ip,n=e.stack,a=t[++r];R.DEBUG&&console.log(e.step,"NPUSHB[]",a);for(var o=0;o<a;o++)n.push(t[++r]);e.ip=r}function Tx(e){var t=e.ip,r=e.prog,n=e.stack,a=r[++t];R.DEBUG&&console.log(e.step,"NPUSHW[]",a);for(var o=0;o<a;o++){var i=r[++t]<<8|r[++t];i&32768&&(i=-((i^65535)+1)),n.push(i)}e.ip=t}function Ex(e){var t=e.stack,r=e.store;r||(r=e.store=[]);var n=t.pop(),a=t.pop();R.DEBUG&&console.log(e.step,"WS",n,a),r[a]=n}function Cx(e){var t=e.stack,r=e.store,n=t.pop();R.DEBUG&&console.log(e.step,"RS",n);var a=r&&r[n]||0;t.push(a)}function Fx(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"WCVTP",r,n),e.cvt[n]=r/64}function Rx(e){var t=e.stack,r=t.pop();R.DEBUG&&console.log(e.step,"RCVT",r),t.push(e.cvt[r]*64)}function Jf(e,t){var r=t.stack,n=r.pop(),a=t.z2[n];R.DEBUG&&console.log(t.step,"GC["+e+"]",n),r.push(t.dpv.distance(a,ja,e,!1)*64)}function ed(e,t){var r=t.stack,n=r.pop(),a=r.pop(),o=t.z1[n],i=t.z0[a],l=t.dpv.distance(i,o,e,e);R.DEBUG&&console.log(t.step,"MD["+e+"]",n,a,"->",l),t.stack.push(Math.round(l*64))}function _x(e){R.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)}function Nx(e){R.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0}function Lx(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"LT[]",r,n),t.push(n<r?1:0)}function Ux(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"LTEQ[]",r,n),t.push(n<=r?1:0)}function Ox(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"GT[]",r,n),t.push(n>r?1:0)}function Dx(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"GTEQ[]",r,n),t.push(n>=r?1:0)}function Px(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"EQ[]",r,n),t.push(r===n?1:0)}function zx(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"NEQ[]",r,n),t.push(r!==n?1:0)}function Ix(e){var t=e.stack,r=t.pop();R.DEBUG&&console.log(e.step,"ODD[]",r),t.push(Math.trunc(r)%2?1:0)}function Ax(e){var t=e.stack,r=t.pop();R.DEBUG&&console.log(e.step,"EVEN[]",r),t.push(Math.trunc(r)%2?0:1)}function Mx(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"IF[]",t),t||(Ov(e,!0),R.DEBUG&&console.log(e.step,"EIF[]"))}function Bx(e){R.DEBUG&&console.log(e.step,"EIF[]")}function jx(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"AND[]",r,n),t.push(r&&n?1:0)}function Gx(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"OR[]",r,n),t.push(r||n?1:0)}function $x(e){var t=e.stack,r=t.pop();R.DEBUG&&console.log(e.step,"NOT[]",r),t.push(r?0:1)}function _s(e,t){var r=t.stack,n=r.pop(),a=t.fv,o=t.pv,i=t.ppem,l=t.deltaBase+(e-1)*16,s=t.deltaShift,u=t.z0;R.DEBUG&&console.log(t.step,"DELTAP["+e+"]",n,r);for(var c=0;c<n;c++){var d=r.pop(),f=r.pop(),p=l+((f&240)>>4);if(p===i){var y=(f&15)-8;y>=0&&y++,R.DEBUG&&console.log(t.step,"DELTAPFIX",d,"by",y*s);var x=u[d];a.setRelative(x,x,y*s,o)}}}function Hx(e){var t=e.stack,r=t.pop();R.DEBUG&&console.log(e.step,"SDB[]",r),e.deltaBase=r}function Zx(e){var t=e.stack,r=t.pop();R.DEBUG&&console.log(e.step,"SDS[]",r),e.deltaShift=Math.pow(.5,r)}function Wx(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"ADD[]",r,n),t.push(n+r)}function Vx(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"SUB[]",r,n),t.push(n-r)}function Xx(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"DIV[]",r,n),t.push(n*64/r)}function Yx(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"MUL[]",r,n),t.push(n*r/64)}function Qx(e){var t=e.stack,r=t.pop();R.DEBUG&&console.log(e.step,"ABS[]",r),t.push(Math.abs(r))}function Kx(e){var t=e.stack,r=t.pop();R.DEBUG&&console.log(e.step,"NEG[]",r),t.push(-r)}function qx(e){var t=e.stack,r=t.pop();R.DEBUG&&console.log(e.step,"FLOOR[]",r),t.push(Math.floor(r/64)*64)}function Jx(e){var t=e.stack,r=t.pop();R.DEBUG&&console.log(e.step,"CEILING[]",r),t.push(Math.ceil(r/64)*64)}function Ro(e,t){var r=t.stack,n=r.pop();R.DEBUG&&console.log(t.step,"ROUND[]"),r.push(t.round(n/64)*64)}function ek(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"WCVTF[]",r,n),e.cvt[n]=r*e.ppem/e.font.unitsPerEm}function Ns(e,t){var r=t.stack,n=r.pop(),a=t.ppem,o=t.deltaBase+(e-1)*16,i=t.deltaShift;R.DEBUG&&console.log(t.step,"DELTAC["+e+"]",n,r);for(var l=0;l<n;l++){var s=r.pop(),u=r.pop(),c=o+((u&240)>>4);if(c===a){var d=(u&15)-8;d>=0&&d++;var f=d*i;R.DEBUG&&console.log(t.step,"DELTACFIX",s,"by",f),t.cvt[s]+=f}}}function tk(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"SROUND[]",t),e.round=Uv;var r;switch(t&192){case 0:r=.5;break;case 64:r=1;break;case 128:r=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=r,t&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*r;break;case 32:e.srPhase=.5*r;break;case 48:e.srPhase=.75*r;break;default:throw new Error("invalid SROUND value")}t&=15,t===0?e.srThreshold=0:e.srThreshold=(t/8-.5)*r}function rk(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"S45ROUND[]",t),e.round=Uv;var r;switch(t&192){case 0:r=Math.sqrt(2)/2;break;case 64:r=Math.sqrt(2);break;case 128:r=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=r,t&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*r;break;case 32:e.srPhase=.5*r;break;case 48:e.srPhase=.75*r;break;default:throw new Error("invalid S45ROUND value")}t&=15,t===0?e.srThreshold=0:e.srThreshold=(t/8-.5)*r}function nk(e){R.DEBUG&&console.log(e.step,"ROFF[]"),e.round=A1}function ak(e){R.DEBUG&&console.log(e.step,"RUTG[]"),e.round=j1}function ok(e){R.DEBUG&&console.log(e.step,"RDTG[]"),e.round=G1}function ik(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"SCANCTRL[]",t)}function td(e,t){var r=t.stack,n=r.pop(),a=r.pop(),o=t.z2[n],i=t.z1[a];R.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",n,a);var l,s;e?(l=o.y-i.y,s=i.x-o.x):(l=i.x-o.x,s=i.y-o.y),t.dpv=Ka(l,s)}function sk(e){var t=e.stack,r=t.pop(),n=0;R.DEBUG&&console.log(e.step,"GETINFO[]",r),r&1&&(n=35),r&32&&(n|=4096),t.push(n)}function lk(e){var t=e.stack,r=t.pop(),n=t.pop(),a=t.pop();R.DEBUG&&console.log(e.step,"ROLL[]"),t.push(n),t.push(r),t.push(a)}function uk(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"MAX[]",r,n),t.push(Math.max(n,r))}function ck(e){var t=e.stack,r=t.pop(),n=t.pop();R.DEBUG&&console.log(e.step,"MIN[]",r,n),t.push(Math.min(n,r))}function fk(e){var t=e.stack.pop();R.DEBUG&&console.log(e.step,"SCANTYPE[]",t)}function dk(e){var t=e.stack.pop(),r=e.stack.pop();switch(R.DEBUG&&console.log(e.step,"INSTCTRL[]",t,r),t){case 1:e.inhibitGridFit=!!r;return;case 2:e.ignoreCvt=!!r;return;default:throw new Error("invalid INSTCTRL[] selector")}}function pr(e,t){var r=t.stack,n=t.prog,a=t.ip;R.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var o=0;o<e;o++)r.push(n[++a]);t.ip=a}function hr(e,t){var r=t.ip,n=t.prog,a=t.stack;R.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var o=0;o<e;o++){var i=n[++r]<<8|n[++r];i&32768&&(i=-((i^65535)+1)),a.push(i)}t.ip=r}function G(e,t,r,n,a,o){var i=o.stack,l=e&&i.pop(),s=i.pop(),u=o.rp0,c=o.z0[u],d=o.z1[s],f=o.minDis,p=o.fv,y=o.dpv,x,k,h,v;k=x=y.distance(d,c,!0,!0),h=k>=0?1:-1,k=Math.abs(k),e&&(v=o.cvt[l],n&&Math.abs(k-v)<o.cvCutIn&&(k=v)),r&&k<f&&(k=f),n&&(k=o.round(k)),p.setRelative(d,c,h*k,y),p.touch(d),R.DEBUG&&console.log(o.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(r?">":"_")+(n?"R":"_")+(a===0?"Gr":a===1?"Bl":a===2?"Wh":"")+"]",e?l+"("+o.cvt[l]+","+v+")":"",s,"(d =",x,"->",h*k,")"),o.rp1=o.rp0,o.rp2=s,t&&(o.rp0=s)}Rv=[jf.bind(void 0,nr),jf.bind(void 0,Vt),Gf.bind(void 0,nr),Gf.bind(void 0,Vt),$f.bind(void 0,nr),$f.bind(void 0,Vt),Hf.bind(void 0,0),Hf.bind(void 0,1),Zf.bind(void 0,0),Zf.bind(void 0,1),H1,Z1,W1,V1,X1,Y1,Q1,K1,q1,J1,ex,tx,rx,nx,ax,ox,ix,sx,lx,ux,void 0,void 0,cx,Rs,fx,dx,px,gx,mx,void 0,void 0,void 0,hx,vx,yx,void 0,Wf.bind(void 0,0),Wf.bind(void 0,1),Vf.bind(void 0,nr),Vf.bind(void 0,Vt),Xf.bind(void 0,0),Xf.bind(void 0,1),Yf.bind(void 0,0),Yf.bind(void 0,1),Qf.bind(void 0,0),Qf.bind(void 0,1),xx,kx,Kf.bind(void 0,0),Kf.bind(void 0,1),Sx,wx,qf.bind(void 0,0),qf.bind(void 0,1),bx,Tx,Ex,Cx,Fx,Rx,Jf.bind(void 0,0),Jf.bind(void 0,1),void 0,ed.bind(void 0,0),ed.bind(void 0,1),_x,void 0,Nx,void 0,void 0,Lx,Ux,Ox,Dx,Px,zx,Ix,Ax,Mx,Bx,jx,Gx,$x,_s.bind(void 0,1),Hx,Zx,Wx,Vx,Xx,Yx,Qx,Kx,qx,Jx,Ro.bind(void 0,0),Ro.bind(void 0,1),Ro.bind(void 0,2),Ro.bind(void 0,3),void 0,void 0,void 0,void 0,ek,_s.bind(void 0,2),_s.bind(void 0,3),Ns.bind(void 0,1),Ns.bind(void 0,2),Ns.bind(void 0,3),tk,rk,void 0,void 0,nk,void 0,ak,ok,Rs,Rs,void 0,void 0,void 0,void 0,void 0,ik,td.bind(void 0,0),td.bind(void 0,1),sk,void 0,lk,uk,ck,fk,dk,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,pr.bind(void 0,1),pr.bind(void 0,2),pr.bind(void 0,3),pr.bind(void 0,4),pr.bind(void 0,5),pr.bind(void 0,6),pr.bind(void 0,7),pr.bind(void 0,8),hr.bind(void 0,1),hr.bind(void 0,2),hr.bind(void 0,3),hr.bind(void 0,4),hr.bind(void 0,5),hr.bind(void 0,6),hr.bind(void 0,7),hr.bind(void 0,8),G.bind(void 0,0,0,0,0,0),G.bind(void 0,0,0,0,0,1),G.bind(void 0,0,0,0,0,2),G.bind(void 0,0,0,0,0,3),G.bind(void 0,0,0,0,1,0),G.bind(void 0,0,0,0,1,1),G.bind(void 0,0,0,0,1,2),G.bind(void 0,0,0,0,1,3),G.bind(void 0,0,0,1,0,0),G.bind(void 0,0,0,1,0,1),G.bind(void 0,0,0,1,0,2),G.bind(void 0,0,0,1,0,3),G.bind(void 0,0,0,1,1,0),G.bind(void 0,0,0,1,1,1),G.bind(void 0,0,0,1,1,2),G.bind(void 0,0,0,1,1,3),G.bind(void 0,0,1,0,0,0),G.bind(void 0,0,1,0,0,1),G.bind(void 0,0,1,0,0,2),G.bind(void 0,0,1,0,0,3),G.bind(void 0,0,1,0,1,0),G.bind(void 0,0,1,0,1,1),G.bind(void 0,0,1,0,1,2),G.bind(void 0,0,1,0,1,3),G.bind(void 0,0,1,1,0,0),G.bind(void 0,0,1,1,0,1),G.bind(void 0,0,1,1,0,2),G.bind(void 0,0,1,1,0,3),G.bind(void 0,0,1,1,1,0),G.bind(void 0,0,1,1,1,1),G.bind(void 0,0,1,1,1,2),G.bind(void 0,0,1,1,1,3),G.bind(void 0,1,0,0,0,0),G.bind(void 0,1,0,0,0,1),G.bind(void 0,1,0,0,0,2),G.bind(void 0,1,0,0,0,3),G.bind(void 0,1,0,0,1,0),G.bind(void 0,1,0,0,1,1),G.bind(void 0,1,0,0,1,2),G.bind(void 0,1,0,0,1,3),G.bind(void 0,1,0,1,0,0),G.bind(void 0,1,0,1,0,1),G.bind(void 0,1,0,1,0,2),G.bind(void 0,1,0,1,0,3),G.bind(void 0,1,0,1,1,0),G.bind(void 0,1,0,1,1,1),G.bind(void 0,1,0,1,1,2),G.bind(void 0,1,0,1,1,3),G.bind(void 0,1,1,0,0,0),G.bind(void 0,1,1,0,0,1),G.bind(void 0,1,1,0,0,2),G.bind(void 0,1,1,0,0,3),G.bind(void 0,1,1,0,1,0),G.bind(void 0,1,1,0,1,1),G.bind(void 0,1,1,0,1,2),G.bind(void 0,1,1,0,1,3),G.bind(void 0,1,1,1,0,0),G.bind(void 0,1,1,1,0,1),G.bind(void 0,1,1,1,0,2),G.bind(void 0,1,1,1,0,3),G.bind(void 0,1,1,1,1,0),G.bind(void 0,1,1,1,1,1),G.bind(void 0,1,1,1,1,2),G.bind(void 0,1,1,1,1,3)];function Qn(e){this.char=e,this.state={},this.activeState=null}function $u(e,t,r){this.contextName=r,this.startIndex=e,this.endOffset=t}function pk(e,t,r){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=r}function It(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function Hi(e){this.eventId=e,this.subscribers=[]}function hk(e){var t=this,r=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];r.forEach(function(a){Object.defineProperty(t.events,a,{value:new Hi(a)})}),e&&r.forEach(function(a){var o=e[a];typeof o=="function"&&t.events[a].subscribe(o)});var n=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];n.forEach(function(a){t.events[a].subscribe(t.updateContextsRanges)})}function Re(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],hk.call(this,e)}Qn.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState};Qn.prototype.getState=function(e){return this.state[e]||null};Re.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length};Re.prototype.composeRUD=function(e){var t=this,r=!0,n=e.map(function(o){return t[o[0]].apply(t,o.slice(1).concat(r))}),a=function(o){return typeof o=="object"&&o.hasOwnProperty("FAIL")};if(n.every(a))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:n.filter(a)};this.dispatch("composeRUD",[n.filter(function(o){return!a(o)})])};Re.prototype.replaceRange=function(e,t,r,n){t=t!==null?t:this.tokens.length;var a=r.every(function(i){return i instanceof Qn});if(!isNaN(e)&&this.inboundIndex(e)&&a){var o=this.tokens.splice.apply(this.tokens,[e,t].concat(r));return n||this.dispatch("replaceToken",[e,t,r]),[o,r]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};Re.prototype.replaceToken=function(e,t,r){if(!isNaN(e)&&this.inboundIndex(e)&&t instanceof Qn){var n=this.tokens.splice(e,1,t);return r||this.dispatch("replaceToken",[e,t]),[n[0],t]}else return{FAIL:"replaceToken: invalid token or index."}};Re.prototype.removeRange=function(e,t,r){t=isNaN(t)?this.tokens.length:t;var n=this.tokens.splice(e,t);return r||this.dispatch("removeRange",[n,e,t]),n};Re.prototype.removeToken=function(e,t){if(!isNaN(e)&&this.inboundIndex(e)){var r=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[r,e]),r}else return{FAIL:"removeToken: invalid token index."}};Re.prototype.insertToken=function(e,t,r){var n=e.every(function(a){return a instanceof Qn});return n?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),r||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}};Re.prototype.registerModifier=function(e,t,r){this.events.newToken.subscribe(function(n,a){var o=[n,a],i=t===null||t.apply(this,o)===!0,l=[n,a];if(i){var s=r.apply(this,l);n.setState(e,s)}}),this.registeredModifiers.push(e)};Hi.prototype.subscribe=function(e){return typeof e=="function"?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};Hi.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)};It.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)};It.prototype.get=function(e){switch(!0){case e===0:return this.current;case(e<0&&Math.abs(e)<=this.backtrack.length):return this.backtrack.slice(e)[0];case(e>0&&e<=this.lookahead.length):return this.lookahead[e-1];default:return null}};Re.prototype.rangeToText=function(e){if(e instanceof $u)return this.getRangeTokens(e).map(function(t){return t.char}).join("")};Re.prototype.getText=function(){return this.tokens.map(function(e){return e.char}).join("")};Re.prototype.getContext=function(e){var t=this.registeredContexts[e];return t||null};Re.prototype.on=function(e,t){var r=this.events[e];return r?r.subscribe(t):null};Re.prototype.dispatch=function(e,t){var r=this,n=this.events[e];n instanceof Hi&&n.subscribers.forEach(function(a){a.apply(r,t||[])})};Re.prototype.registerContextChecker=function(e,t,r){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if(typeof t!="function")return{FAIL:"missing context start check."};if(typeof r!="function")return{FAIL:"missing context end check."};var n=new pk(e,t,r);return this.registeredContexts[e]=n,this.contextCheckers.push(n),n};Re.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))};Re.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}};Re.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];r.ranges=[]}};Re.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map(function(n){return n.char}),t=0;t<e.length;t++){var r=new It(e,t);this.runContextCheck(r)}this.dispatch("updateContextsRanges",[this.registeredContexts])};Re.prototype.setEndOffset=function(e,t){var r=this.getContext(t).openRange.startIndex,n=new $u(r,e,t),a=this.getContext(t).ranges;return n.rangeId=t+"."+a.length,a.push(n),this.getContext(t).openRange=null,n};Re.prototype.runContextCheck=function(e){var t=this,r=e.index;this.contextCheckers.forEach(function(n){var a=n.contextName,o=t.getContext(a).openRange;if(!o&&n.checkStart(e)&&(o=new $u(r,null,a),t.getContext(a).openRange=o,t.dispatch("contextStart",[a,r])),o&&n.checkEnd(e)){var i=r-o.startIndex+1,l=t.setEndOffset(i,a);t.dispatch("contextEnd",[a,l])}})};Re.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var r=0;r<t.length;r++){var n=t[r],a=new It(t,r);this.dispatch("next",[a]),this.runContextCheck(a);var o=new Qn(n);this.tokens.push(o),this.dispatch("newToken",[o,a])}return this.dispatch("end",[this.tokens]),this.tokens};function Lr(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function Dv(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function Dr(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function Wo(e){return/[A-z]/.test(e)}function vk(e){return/\s/.test(e)}function xt(e){this.font=e,this.features={}}function Wr(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function qa(e,t){if(!e)return-1;switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var r=t.ranges,n=0;n<r.length;n++){var a=r[n];if(e>=a.start&&e<=a.end){var o=e-a.start;return a.index+o}}break;default:return-1}return-1}function gk(e,t){var r=qa(e,t.coverage);return r===-1?null:e+t.deltaGlyphId}function mk(e,t){var r=qa(e,t.coverage);return r===-1?null:t.substitute[r]}function Ls(e,t){for(var r=[],n=0;n<e.length;n++){var a=e[n],o=t.current;o=Array.isArray(o)?o[0]:o;var i=qa(o,a);i!==-1&&r.push(i)}return r.length!==e.length?-1:r}function yk(e,t){var r=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<r)return[];var n=Ls(t.inputCoverage,e);if(n===-1)return[];var a=t.inputCoverage.length-1;if(e.lookahead.length<t.lookaheadCoverage.length)return[];for(var o=e.lookahead.slice(a);o.length&&Dr(o[0].char);)o.shift();var i=new It(o,0),l=Ls(t.lookaheadCoverage,i),s=[].concat(e.backtrack);for(s.reverse();s.length&&Dr(s[0].char);)s.shift();if(s.length<t.backtrackCoverage.length)return[];var u=new It(s,0),c=Ls(t.backtrackCoverage,u),d=n.length===t.inputCoverage.length&&l.length===t.lookaheadCoverage.length&&c.length===t.backtrackCoverage.length,f=[];if(d)for(var p=0;p<t.lookupRecords.length;p++)for(var y=t.lookupRecords[p],x=y.lookupListIndex,k=this.getLookupByIndex(x),h=0;h<k.subtables.length;h++){var v=k.subtables[h],m=this.getLookupMethod(k,v),S=this.getSubstitutionType(k,v);if(S==="12")for(var E=0;E<n.length;E++){var L=e.get(E),w=m(L);w&&f.push(w)}}return f}function xk(e,t){var r=e.current,n=qa(r,t.coverage);if(n===-1)return null;for(var a,o=t.ligatureSets[n],i=0;i<o.length;i++){a=o[i];for(var l=0;l<a.components.length;l++){var s=e.lookahead[l],u=a.components[l];if(s!==u)break;if(l===a.components.length-1)return a}}return null}function kk(e,t){var r=qa(e,t.coverage);return r===-1?null:t.sequences[r]}xt.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var r=e[t];if(r.tag==="DFLT")return r.script.defaultLangSys.featureIndexes}return[]};xt.prototype.getScriptFeaturesIndexes=function(e){var t=this.font.tables;if(!t.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var r=this.font.tables.gsub.scripts,n=0;n<r.length;n++){var a=r[n];if(a.tag===e&&a.script.defaultLangSys)return a.script.defaultLangSys.featureIndexes;var o=a.langSysRecords;if(o)for(var i=0;i<o.length;i++){var l=o[i];if(l.tag===e){var s=l.langSys;return s.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};xt.prototype.mapTagsToFeatures=function(e,t){for(var r={},n=0;n<e.length;n++){var a=e[n].tag,o=e[n].feature;r[a]=o}this.features[t].tags=r};xt.prototype.getScriptFeatures=function(e){var t=this.features[e];if(this.features.hasOwnProperty(e))return t;var r=this.getScriptFeaturesIndexes(e);if(!r)return null;var n=this.font.tables.gsub;return t=r.map(function(a){return n.features[a]}),this.features[e]=t,this.mapTagsToFeatures(t,e),t};xt.prototype.getSubstitutionType=function(e,t){var r=e.lookupType.toString(),n=t.substFormat.toString();return r+n};xt.prototype.getLookupMethod=function(e,t){var r=this,n=this.getSubstitutionType(e,t);switch(n){case"11":return function(a){return gk.apply(r,[a,t])};case"12":return function(a){return mk.apply(r,[a,t])};case"63":return function(a){return yk.apply(r,[a,t])};case"41":return function(a){return xk.apply(r,[a,t])};case"21":return function(a){return kk.apply(r,[a,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}};xt.prototype.lookupFeature=function(e){var t=e.contextParams,r=t.index,n=this.getFeature({tag:e.tag,script:e.script});if(!n)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var a=this.getFeatureLookups(n),o=[].concat(t.context),i=0;i<a.length;i++)for(var l=a[i],s=this.getLookupSubtables(l),u=0;u<s.length;u++){var c=s[u],d=this.getSubstitutionType(l,c),f=this.getLookupMethod(l,c),p=void 0;switch(d){case"11":p=f(t.current),p&&o.splice(r,1,new Wr({id:11,tag:e.tag,substitution:p}));break;case"12":p=f(t.current),p&&o.splice(r,1,new Wr({id:12,tag:e.tag,substitution:p}));break;case"63":p=f(t),Array.isArray(p)&&p.length&&o.splice(r,1,new Wr({id:63,tag:e.tag,substitution:p}));break;case"41":p=f(t),p&&o.splice(r,1,new Wr({id:41,tag:e.tag,substitution:p}));break;case"21":p=f(t.current),p&&o.splice(r,1,new Wr({id:21,tag:e.tag,substitution:p}));break}t=new It(o,r),!(Array.isArray(p)&&!p.length)&&(p=null)}return o.length?o:null};xt.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var t=this.features.hasOwnProperty(e.script);if(!e.tag)return t;var r=this.features[e.script].some(function(n){return n.tag===e.tag});return t&&r};xt.prototype.getLookupSubtables=function(e){return e.subtables||null};xt.prototype.getLookupByIndex=function(e){var t=this.font.tables.gsub.lookups;return t[e]||null};xt.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))};xt.prototype.getFeature=function(t){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(t.script)||this.getScriptFeatures(t.script);var r=this.features[t.script];return r?r.tags[t.tag]?this.features[t.script].tags[t.tag]:null:{FAIL:"No feature for script "+t.script}};function Sk(e){var t=e.current,r=e.get(-1);return r===null&&Lr(t)||!Lr(r)&&Lr(t)}function wk(e){var t=e.get(1);return t===null||!Lr(t)}var bk={startCheck:Sk,endCheck:wk};function Tk(e){var t=e.current,r=e.get(-1);return(Lr(t)||Dr(t))&&!Lr(r)}function Ek(e){var t=e.get(1);switch(!0){case t===null:return!0;case(!Lr(t)&&!Dr(t)):var r=vk(t);if(!r)return!0;if(r){var n=!1;if(n=e.lookahead.some(function(a){return Lr(a)||Dr(a)}),!n)return!0}break;default:return!1}}var Ck={startCheck:Tk,endCheck:Ek};function Fk(e,t,r){t[r].setState(e.tag,e.substitution)}function Rk(e,t,r){t[r].setState(e.tag,e.substitution)}function _k(e,t,r){e.substitution.forEach(function(n,a){var o=t[r+a];o.setState(e.tag,n)})}function Nk(e,t,r){var n=t[r];n.setState(e.tag,e.substitution.ligGlyph);for(var a=e.substitution.components.length,o=0;o<a;o++)n=t[r+o+1],n.setState("deleted",!0)}var rd={11:Fk,12:Rk,63:_k,41:Nk};function Hu(e,t,r){e instanceof Wr&&rd[e.id]&&rd[e.id](e,t,r)}function Lk(e){for(var t=[].concat(e.backtrack),r=t.length-1;r>=0;r--){var n=t[r],a=Dv(n),o=Dr(n);if(!a&&!o)return!0;if(a)return!1}return!1}function Uk(e){if(Dv(e.current))return!1;for(var t=0;t<e.lookahead.length;t++){var r=e.lookahead[t],n=Dr(r);if(!n)return!0}return!1}function Ok(e){var t=this,r="arab",n=this.featuresTags[r],a=this.tokenizer.getRangeTokens(e);if(a.length!==1){var o=new It(a.map(function(l){return l.getState("glyphIndex")}),0),i=new It(a.map(function(l){return l.char}),0);a.forEach(function(l,s){if(!Dr(l.char)){o.setCurrentIndex(s),i.setCurrentIndex(s);var u=0;Lk(i)&&(u|=1),Uk(i)&&(u|=2);var c;switch(u){case 1:c="fina";break;case 2:c="init";break;case 3:c="medi";break}if(n.indexOf(c)!==-1){var d=t.query.lookupFeature({tag:c,script:r,contextParams:o});if(d instanceof Error)return console.info(d.message);d.forEach(function(f,p){f instanceof Wr&&(Hu(f,a,p),o.context[p]=f.substitution)})}}})}}function nd(e,t){var r=e.map(function(n){return n.activeState.value});return new It(r,0)}function Dk(e){var t=this,r="arab",n=this.tokenizer.getRangeTokens(e),a=nd(n);a.context.forEach(function(o,i){a.setCurrentIndex(i);var l=t.query.lookupFeature({tag:"rlig",script:r,contextParams:a});l.length&&(l.forEach(function(s){return Hu(s,n,i)}),a=nd(n))})}function Pk(e){var t=e.current,r=e.get(-1);return r===null&&Wo(t)||!Wo(r)&&Wo(t)}function zk(e){var t=e.get(1);return t===null||!Wo(t)}var Ik={startCheck:Pk,endCheck:zk};function ad(e,t){var r=e.map(function(n){return n.activeState.value});return new It(r,0)}function Ak(e){var t=this,r="latn",n=this.tokenizer.getRangeTokens(e),a=ad(n);a.context.forEach(function(o,i){a.setCurrentIndex(i);var l=t.query.lookupFeature({tag:"liga",script:r,contextParams:a});l.length&&(l.forEach(function(s){return Hu(s,n,i)}),a=ad(n))})}function Bt(e){this.baseDir=e||"ltr",this.tokenizer=new Re,this.featuresTags={}}Bt.prototype.setText=function(e){this.text=e};Bt.prototype.contextChecks={latinWordCheck:Ik,arabicWordCheck:bk,arabicSentenceCheck:Ck};function Us(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function Mk(){return Us.call(this,"latinWord"),Us.call(this,"arabicWord"),Us.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function Bk(){var e=this,t=this.tokenizer.getContextRanges("arabicSentence");t.forEach(function(r){var n=e.tokenizer.getRangeTokens(r);e.tokenizer.replaceRange(r.startIndex,r.endOffset,n.reverse())})}Bt.prototype.registerFeatures=function(e,t){var r=this,n=t.filter(function(a){return r.query.supports({script:e,tag:a})});this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(n):this.featuresTags[e]=n};Bt.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new xt(e));for(var r=0;r<t.length;r++){var n=t[r];this.query.supports({script:n.script})&&this.registerFeatures(n.script,n.tags)}};Bt.prototype.registerModifier=function(e,t,r){this.tokenizer.registerModifier(e,t,r)};function Zu(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function jk(){var e=this,t="arab";if(this.featuresTags.hasOwnProperty(t)){Zu.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(n){Ok.call(e,n)})}}function Gk(){var e=this,t="arab";if(this.featuresTags.hasOwnProperty(t)){var r=this.featuresTags[t];if(r.indexOf("rlig")!==-1){Zu.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(a){Dk.call(e,a)})}}}function $k(){var e=this,t="latn";if(this.featuresTags.hasOwnProperty(t)){var r=this.featuresTags[t];if(r.indexOf("liga")!==-1){Zu.call(this);var n=this.tokenizer.getContextRanges("latinWord");n.forEach(function(a){Ak.call(e,a)})}}}Bt.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)};Bt.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(jk.call(this),Gk.call(this)),this.checkContextReady("latinWord")&&$k.call(this),this.checkContextReady("arabicSentence")&&Bk.call(this)};Bt.prototype.processText=function(e){(!this.text||this.text!==e)&&(this.setText(e),Mk.call(this),this.applyFeaturesToContexts())};Bt.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()};Bt.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],r=0;r<this.tokenizer.tokens.length;r++){var n=this.tokenizer.tokens[r];if(!n.state.deleted){var a=n.activeState.value;t.push(Array.isArray(a)?a[0]:a)}}return t};function ue(e){e=e||{},e.tables=e.tables||{},e.empty||(ia(e.familyName,"When creating a new Font object, familyName is required."),ia(e.styleName,"When creating a new Font object, styleName is required."),ia(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),ia(e.ascender,"When creating a new Font object, ascender is required."),ia(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new Qt.GlyphSet(this,e.glyphs||[]),this.encoding=new qh(this),this.position=new Ya(this),this.substitution=new yt(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new Nv(this)}})}ue.prototype.hasChar=function(e){return this.encoding.charToGlyphIndex(e)!==null};ue.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)};ue.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r};ue.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map(function(t){return t.script==="latn"?{script:"latn",tags:t.tags.filter(function(r){return e[r]})}:t})};ue.prototype.stringToGlyphs=function(e,t){var r=this,n=new Bt,a=function(d){return r.charToGlyphIndex(d.char)};n.registerModifier("glyphIndex",null,a);var o=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;n.applyFeatures(this,o);for(var i=n.getTextGlyphs(e),l=i.length,s=new Array(l),u=this.glyphs.get(0),c=0;c<l;c+=1)s[c]=this.glyphs.get(i[c])||u;return s};ue.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)};ue.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r};ue.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""};ue.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.position.defaultKerningTables;return r?this.position.getKerningValue(r,e,t):this.kerningPairs[e+","+t]||0};ue.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};ue.prototype.forEachGlyph=function(e,t,r,n,a,o){t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:72,a=Object.assign({},this.defaultRenderOptions,a);var i=1/this.unitsPerEm*n,l=this.stringToGlyphs(e,a),s;if(a.kerning){var u=a.script||this.position.getDefaultScriptName();s=this.position.getKerningTables(u,a.language)}for(var c=0;c<l.length;c+=1){var d=l[c];if(o.call(this,d,t,r,n,a),d.advanceWidth&&(t+=d.advanceWidth*i),a.kerning&&c<l.length-1){var f=s?this.position.getKerningValue(s,d.index,l[c+1].index):this.getKerningValue(d,l[c+1]);t+=f*i}a.letterSpacing?t+=a.letterSpacing*n:a.tracking&&(t+=a.tracking/1e3*n)}return t};ue.prototype.getPath=function(e,t,r,n,a){var o=new Pe;return this.forEachGlyph(e,t,r,n,a,function(i,l,s,u){var c=i.getPath(l,s,u,a,this);o.extend(c)}),o};ue.prototype.getPaths=function(e,t,r,n,a){var o=[];return this.forEachGlyph(e,t,r,n,a,function(i,l,s,u){var c=i.getPath(l,s,u,a,this);o.push(c)}),o};ue.prototype.getAdvanceWidth=function(e,t,r){return this.forEachGlyph(e,0,0,t,r,function(){})};ue.prototype.draw=function(e,t,r,n,a,o){this.getPath(t,r,n,a,o).draw(e)};ue.prototype.drawPoints=function(e,t,r,n,a,o){this.forEachGlyph(t,r,n,a,o,function(i,l,s,u){i.drawPoints(e,l,s,u)})};ue.prototype.drawMetrics=function(e,t,r,n,a,o){this.forEachGlyph(t,r,n,a,o,function(i,l,s,u){i.drawMetrics(e,l,s,u)})};ue.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en};ue.prototype.validate=function(){var e=this;function t(n,a){}function r(n){var a=e.getEnglishName(n);a&&a.trim().length>0}r("fontFamily"),r("weightName"),r("manufacturer"),r("copyright"),r("version"),this.unitsPerEm>0};ue.prototype.toTables=function(){return N1.fontToTable(this)};ue.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};ue.prototype.toArrayBuffer=function(){for(var e=this.toTables(),t=e.encode(),r=new ArrayBuffer(t.length),n=new Uint8Array(r),a=0;a<t.length;a++)n[a]=t[a];return r};ue.prototype.download=function(e){var t=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");e=e||t.replace(/\s/g,"")+"-"+r+".otf";var n=this.toArrayBuffer();if(U1())if(window.URL=window.URL||window.webkitURL,window.URL){var a=new DataView(n),o=new Blob([a],{type:"font/opentype"}),i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.download=e;var l=document.createEvent("MouseEvents");l.initEvent("click",!0,!1),i.dispatchEvent(l)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var s=require("fs"),u=O1(n);s.writeFileSync(e,u)}};ue.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};ue.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};ue.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function Pv(e,t){var r=JSON.stringify(e),n=256;for(var a in t){var o=parseInt(a);if(!(!o||o<256)){if(JSON.stringify(t[a])===r)return o;n<=o&&(n=o+1)}}return t[n]=e,n}function Hk(e,t,r){var n=Pv(t.name,r);return[{name:"tag_"+e,type:"TAG",value:t.tag},{name:"minValue_"+e,type:"FIXED",value:t.minValue<<16},{name:"defaultValue_"+e,type:"FIXED",value:t.defaultValue<<16},{name:"maxValue_"+e,type:"FIXED",value:t.maxValue<<16},{name:"flags_"+e,type:"USHORT",value:0},{name:"nameID_"+e,type:"USHORT",value:n}]}function Zk(e,t,r){var n={},a=new $.Parser(e,t);return n.tag=a.parseTag(),n.minValue=a.parseFixed(),n.defaultValue=a.parseFixed(),n.maxValue=a.parseFixed(),a.skip("uShort",1),n.name=r[a.parseUShort()]||{},n}function Wk(e,t,r,n){for(var a=Pv(t.name,n),o=[{name:"nameID_"+e,type:"USHORT",value:a},{name:"flags_"+e,type:"USHORT",value:0}],i=0;i<r.length;++i){var l=r[i].tag;o.push({name:"axis_"+e+" "+l,type:"FIXED",value:t.coordinates[l]<<16})}return o}function Vk(e,t,r,n){var a={},o=new $.Parser(e,t);a.name=n[o.parseUShort()]||{},o.skip("uShort",1),a.coordinates={};for(var i=0;i<r.length;++i)a.coordinates[r[i].tag]=o.parseFixed();return a}function Xk(e,t){var r=new M.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+e.axes.length*4}]);r.offsetToData=r.sizeOf();for(var n=0;n<e.axes.length;n++)r.fields=r.fields.concat(Hk(n,e.axes[n],t));for(var a=0;a<e.instances.length;a++)r.fields=r.fields.concat(Wk(a,e.instances[a],e.axes,t));return r}function Yk(e,t,r){var n=new $.Parser(e,t),a=n.parseULong();K.argument(a===65536,"Unsupported fvar table version.");var o=n.parseOffset16();n.skip("uShort",1);for(var i=n.parseUShort(),l=n.parseUShort(),s=n.parseUShort(),u=n.parseUShort(),c=[],d=0;d<i;d++)c.push(Zk(e,t+o+d*l,r));for(var f=[],p=t+o+i*l,y=0;y<s;y++)f.push(Vk(e,p+y*u,c,r));return{axes:c,instances:f}}var Qk={make:Xk,parse:Yk},Kk=function(){return{coverage:this.parsePointer(b.coverage),attachPoints:this.parseList(b.pointer(b.uShortList))}},qk=function(){var e=this.parseUShort();if(K.argument(e===1||e===2||e===3,"Unsupported CaretValue table version."),e===1)return{coordinate:this.parseShort()};if(e===2)return{pointindex:this.parseShort()};if(e===3)return{coordinate:this.parseShort()}},Jk=function(){return this.parseList(b.pointer(qk))},eS=function(){return{coverage:this.parsePointer(b.coverage),ligGlyphs:this.parseList(b.pointer(Jk))}},tS=function(){return this.parseUShort(),this.parseList(b.pointer(b.coverage))};function rS(e,t){t=t||0;var r=new b(e,t),n=r.parseVersion(1);K.argument(n===1||n===1.2||n===1.3,"Unsupported GDEF table version.");var a={version:n,classDef:r.parsePointer(b.classDef),attachList:r.parsePointer(Kk),ligCaretList:r.parsePointer(eS),markAttachClassDef:r.parsePointer(b.classDef)};return n>=1.2&&(a.markGlyphSets=r.parsePointer(tS)),a}var nS={parse:rS},At=new Array(10);At[1]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{posFormat:1,coverage:this.parsePointer(b.coverage),value:this.parseValueRecord()};if(r===2)return{posFormat:2,coverage:this.parsePointer(b.coverage),values:this.parseValueRecordList()};K.assert(!1,"0x"+t.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};At[2]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();K.assert(r===1||r===2,"0x"+t.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var n=this.parsePointer(b.coverage),a=this.parseUShort(),o=this.parseUShort();if(r===1)return{posFormat:r,coverage:n,valueFormat1:a,valueFormat2:o,pairSets:this.parseList(b.pointer(b.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(a),value2:this.parseValueRecord(o)}})))};if(r===2){var i=this.parsePointer(b.classDef),l=this.parsePointer(b.classDef),s=this.parseUShort(),u=this.parseUShort();return{posFormat:r,coverage:n,valueFormat1:a,valueFormat2:o,classDef1:i,classDef2:l,class1Count:s,class2Count:u,classRecords:this.parseList(s,b.list(u,function(){return{value1:this.parseValueRecord(a),value2:this.parseValueRecord(o)}}))}}};At[3]=function(){return{error:"GPOS Lookup 3 not supported"}};At[4]=function(){return{error:"GPOS Lookup 4 not supported"}};At[5]=function(){return{error:"GPOS Lookup 5 not supported"}};At[6]=function(){return{error:"GPOS Lookup 6 not supported"}};At[7]=function(){return{error:"GPOS Lookup 7 not supported"}};At[8]=function(){return{error:"GPOS Lookup 8 not supported"}};At[9]=function(){return{error:"GPOS Lookup 9 not supported"}};function aS(e,t){t=t||0;var r=new b(e,t),n=r.parseVersion(1);return K.argument(n===1||n===1.1,"Unsupported GPOS table version "+n),n===1?{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(At)}:{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(At),variations:r.parseFeatureVariationsList()}}var oS=new Array(10);function iS(e){return new M.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new M.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new M.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new M.LookupList(e.lookups,oS)}])}var sS={parse:aS,make:iS};function lS(e){var t={};e.skip("uShort");var r=e.parseUShort();K.argument(r===0,"Unsupported kern sub-table version."),e.skip("uShort",2);var n=e.parseUShort();e.skip("uShort",3);for(var a=0;a<n;a+=1){var o=e.parseUShort(),i=e.parseUShort(),l=e.parseShort();t[o+","+i]=l}return t}function uS(e){var t={};e.skip("uShort");var r=e.parseULong();r>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var n=e.parseUShort(),a=n&255;if(e.skip("uShort"),a===0){var o=e.parseUShort();e.skip("uShort",3);for(var i=0;i<o;i+=1){var l=e.parseUShort(),s=e.parseUShort(),u=e.parseShort();t[l+","+s]=u}}return t}function cS(e,t){var r=new $.Parser(e,t),n=r.parseUShort();if(n===0)return lS(r);if(n===1)return uS(r);throw new Error("Unsupported kern table version ("+n+").")}var fS={parse:cS};function dS(e,t,r,n){for(var a=new $.Parser(e,t),o=n?a.parseUShort:a.parseULong,i=[],l=0;l<r+1;l+=1){var s=o.call(a);n&&(s*=2),i.push(s)}return i}var pS={parse:dS};function hS(e,t){var r=require("fs");r.readFile(e,function(n,a){if(n)return t(n.message);t(null,bv(a))})}function vS(e,t){var r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="arraybuffer",r.onload=function(){return r.response?t(null,r.response):t("Font could not be loaded: "+r.statusText)},r.onerror=function(){t("Font could not be loaded")},r.send()}function od(e,t){for(var r=[],n=12,a=0;a<t;a+=1){var o=$.getTag(e,n),i=$.getULong(e,n+4),l=$.getULong(e,n+8),s=$.getULong(e,n+12);r.push({tag:o,checksum:i,offset:l,length:s,compression:!1}),n+=16}return r}function gS(e,t){for(var r=[],n=44,a=0;a<t;a+=1){var o=$.getTag(e,n),i=$.getULong(e,n+4),l=$.getULong(e,n+8),s=$.getULong(e,n+12),u=void 0;l<s?u="WOFF":u=!1,r.push({tag:o,offset:i,compression:u,compressedLength:l,length:s}),n+=20}return r}function Ne(e,t){if(t.compression==="WOFF"){var r=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),n=new Uint8Array(t.length);if(sy(r,n),n.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");var a=new DataView(n.buffer,0);return{data:a,offset:0}}else return{data:e,offset:t.offset}}function Wu(e,t){t=t??{};var r,n,a=new ue({empty:!0}),o=new DataView(e,0),i,l=[],s=$.getTag(o,0);if(s==="\0\0\0"||s==="true"||s==="typ1")a.outlinesFormat="truetype",i=$.getUShort(o,4),l=od(o,i);else if(s==="OTTO")a.outlinesFormat="cff",i=$.getUShort(o,4),l=od(o,i);else if(s==="wOFF"){var u=$.getTag(o,4);if(u==="\0\0\0")a.outlinesFormat="truetype";else if(u==="OTTO")a.outlinesFormat="cff";else throw new Error("Unsupported OpenType flavor "+s);i=$.getUShort(o,12),l=gS(o,i)}else throw new Error("Unsupported OpenType signature "+s);for(var c,d,f,p,y,x,k,h,v,m,S,E,L=0;L<i;L+=1){var w=l[L],T=void 0;switch(w.tag){case"cmap":T=Ne(o,w),a.tables.cmap=Kh.parse(T.data,T.offset),a.encoding=new Jh(a.tables.cmap);break;case"cvt ":T=Ne(o,w),E=new $.Parser(T.data,T.offset),a.tables.cvt=E.parseShortList(w.length/2);break;case"fvar":d=w;break;case"fpgm":T=Ne(o,w),E=new $.Parser(T.data,T.offset),a.tables.fpgm=E.parseByteList(w.length);break;case"head":T=Ne(o,w),a.tables.head=uv.parse(T.data,T.offset),a.unitsPerEm=a.tables.head.unitsPerEm,r=a.tables.head.indexToLocFormat;break;case"hhea":T=Ne(o,w),a.tables.hhea=cv.parse(T.data,T.offset),a.ascender=a.tables.hhea.ascender,a.descender=a.tables.hhea.descender,a.numberOfHMetrics=a.tables.hhea.numberOfHMetrics;break;case"hmtx":k=w;break;case"ltag":T=Ne(o,w),n=dv.parse(T.data,T.offset);break;case"maxp":T=Ne(o,w),a.tables.maxp=pv.parse(T.data,T.offset),a.numGlyphs=a.tables.maxp.numGlyphs;break;case"name":m=w;break;case"OS/2":T=Ne(o,w),a.tables.os2=zl.parse(T.data,T.offset);break;case"post":T=Ne(o,w),a.tables.post=xv.parse(T.data,T.offset),a.glyphNames=new Mu(a.tables.post);break;case"prep":T=Ne(o,w),E=new $.Parser(T.data,T.offset),a.tables.prep=E.parseByteList(w.length);break;case"glyf":f=w;break;case"loca":v=w;break;case"CFF ":c=w;break;case"kern":h=w;break;case"GDEF":p=w;break;case"GPOS":y=w;break;case"GSUB":x=w;break;case"meta":S=w;break}}var A=Ne(o,m);if(a.tables.name=yv.parse(A.data,A.offset,n),a.names=a.tables.name,f&&v){var _=r===0,D=Ne(o,v),z=pS.parse(D.data,D.offset,a.numGlyphs,_),X=Ne(o,f);a.glyphs=Fv.parse(X.data,X.offset,z,a,t)}else if(c){var B=Ne(o,c);lv.parse(B.data,B.offset,a,t)}else throw new Error("Font doesn't contain TrueType or CFF outlines.");var Z=Ne(o,k);if(fv.parse(a,Z.data,Z.offset,a.numberOfHMetrics,a.numGlyphs,a.glyphs,t),Ry(a,t),h){var ee=Ne(o,h);a.kerningPairs=fS.parse(ee.data,ee.offset)}else a.kerningPairs={};if(p){var ae=Ne(o,p);a.tables.gdef=nS.parse(ae.data,ae.offset)}if(y){var C=Ne(o,y);a.tables.gpos=sS.parse(C.data,C.offset),a.position.init()}if(x){var I=Ne(o,x);a.tables.gsub=kv.parse(I.data,I.offset)}if(d){var H=Ne(o,d);a.tables.fvar=Qk.parse(H.data,H.offset,a.names)}if(S){var V=Ne(o,S);a.tables.meta=Sv.parse(V.data,V.offset),a.metas=a.tables.meta}return a}function mS(e,t,r){r=r??{};var n=typeof window>"u",a=n&&!r.isUrl?hS:vS;return new Promise(function(o,i){a(e,function(l,s){if(l){if(t)return t(l);i(l)}var u;try{u=Wu(s,r)}catch(c){if(t)return t(c,null);i(c)}if(t)return t(null,u);o(u)})})}function yS(e,t){var r=require("fs"),n=r.readFileSync(e);return Wu(bv(n),t)}var hn=Object.freeze({__proto__:null,Font:ue,Glyph:mt,Path:Pe,BoundingBox:fr,_parse:$,parse:Wu,load:mS,loadSync:yS});const xS=e=>{const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=`${e.meta.familyName}-${e.meta.styleName}.json`,n.click(),URL.revokeObjectURL(r)},kS=(e,t,r)=>{const n=e.shapes.map(s=>Jm(s)).join(`
`),a=`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${t} ${t}" width="${t}" height="${t}">
${n}
</svg>`,o=new Blob([a],{type:"image/svg+xml"}),i=URL.createObjectURL(o),l=document.createElement("a");l.href=i,l.download=`${r}-${e.char}.svg`,l.click(),URL.revokeObjectURL(i)},SS=(e,t)=>{const r=new hn.Path,{type:n,x:a,y:o,width:i,height:l,rotation:s,corner:u}=e,c=p=>t-p,d=c(o+l),f=c(o);switch(n){case se.SQUARE:r.moveTo(a,d),r.lineTo(a+i,d),r.lineTo(a+i,f),r.lineTo(a,f),r.close();break;case se.CIRCLE:{const p=a+i/2,y=c(o+l/2),x=i/2,k=l/2,h=.5522847498;r.moveTo(p,y-k),r.curveTo(p+x*h,y-k,p+x,y-k*h,p+x,y),r.curveTo(p+x,y+k*h,p+x*h,y+k,p,y+k),r.curveTo(p-x*h,y+k,p-x,y+k*h,p-x,y),r.curveTo(p-x,y-k*h,p-x*h,y-k,p,y-k),r.close()}break;case se.TRIANGLE:{const p=a+i/2,y=c(o+l/2),x=[{x:a,y:d},{x:a+i,y:d},{x:a,y:f}];if(s!==0){const k=s*Math.PI/180,h=Math.cos(k),v=Math.sin(k);x.forEach((m,S)=>{const E=m.x-p,L=c(m.y)-y;x[S]={x:p+E*h-L*v,y:c(y+E*v+L*h)}})}r.moveTo(x[0].x,x[0].y),r.lineTo(x[1].x,x[1].y),r.lineTo(x[2].x,x[2].y),r.close()}break;case se.QUARTER_CIRCLE:{const p=u||Q.TL,y=i,x=l,k=.5522847498;switch(p){case Q.TL:r.moveTo(a+i,d),r.curveTo(a+i,d+x*k,a+y*k,f,a,f),r.lineTo(a,d),r.close();break;case Q.TR:r.moveTo(a,d),r.curveTo(a+i-y*k,d,a+i,d+x*k,a+i,f),r.lineTo(a+i,d),r.close();break;case Q.BL:r.moveTo(a+i,f),r.curveTo(a+i-y*k,f,a,f-x*k,a,d),r.lineTo(a,f),r.close();break;case Q.BR:r.moveTo(a,f),r.curveTo(a,f-x*k,a+i-y*k,d,a+i,d),r.lineTo(a+i,f),r.close();break}}break}return r},wS=e=>{try{const{meta:t,metrics:r,glyphs:n}=e;if(Object.values(n).filter(k=>k.shapes.length>0).length===0){alert(`No glyphs with shapes found!

Please draw shapes on some glyphs before exporting.

1. Select a glyph from the left sidebar
2. Use the Draw tool (D)
3. Draw shapes on the canvas
4. Then export your font`);return}const o=1e3,l=r.gridSize*te,s=o/l,c=[new hn.Glyph({name:".notdef",unicode:0,advanceWidth:Math.round(r.defaultAdvanceWidth*s),path:new hn.Path})];Object.values(n).forEach(k=>{if(k.shapes.length===0)return;const h=new hn.Path;k.shapes.forEach(m=>{const S=SS(m,l);h.commands=h.commands.concat(S.commands)}),h.commands.forEach(m=>{m.x!==void 0&&(m.x=Math.round(m.x*s)),m.y!==void 0&&(m.y=Math.round(m.y*s)),m.x1!==void 0&&(m.x1=Math.round(m.x1*s)),m.y1!==void 0&&(m.y1=Math.round(m.y1*s)),m.x2!==void 0&&(m.x2=Math.round(m.x2*s)),m.y2!==void 0&&(m.y2=Math.round(m.y2*s))});const v=new hn.Glyph({name:k.char===" "?"space":k.char,unicode:k.unicode,advanceWidth:Math.round(k.advanceWidth*s),path:h});c.push(v)});const f=new hn.Font({familyName:t.familyName,styleName:t.styleName,unitsPerEm:o,ascender:Math.round(r.ascender*s),descender:Math.round(r.descender*s),glyphs:c}).toArrayBuffer(),p=new Blob([f],{type:"font/ttf"}),y=URL.createObjectURL(p),x=document.createElement("a");x.href=y,x.download=`${t.familyName}-${t.styleName}.ttf`,x.click(),URL.revokeObjectURL(y)}catch(t){console.error("Error exporting TTF:",t),alert(`Error exporting TTF: ${t instanceof Error?t.message:String(t)}`)}},zv=(e,t,r)=>{const n=N.useCallback(s=>{if(!s||typeof s.id!="number"){console.warn("Invalid shape provided to flipHorizontal");return}t();let u={};if(s.type===se.TRIANGLE){const c=(360-s.rotation)%360;u.rotation=c}else if(s.type===se.QUARTER_CIRCLE){const c={[Q.TL]:Q.TR,[Q.TR]:Q.TL,[Q.BL]:Q.BR,[Q.BR]:Q.BL};u.corner=c[s.corner||Q.TL]}r(s.id,u)},[t,r]),a=N.useCallback(s=>{if(!s||typeof s.id!="number"){console.warn("Invalid shape provided to flipVertical");return}t();let u={};if(s.type===se.TRIANGLE){const c=s.rotation===0?180:s.rotation===90?270:s.rotation===180?0:90;u.rotation=c}else if(s.type===se.QUARTER_CIRCLE){const c={[Q.TL]:Q.BL,[Q.TR]:Q.BR,[Q.BL]:Q.TL,[Q.BR]:Q.TR};u.corner=c[s.corner||Q.TL]}r(s.id,u)},[t,r]),o=N.useCallback(s=>{if(!s||typeof s.id!="number"){console.warn("Invalid shape provided to rotate90");return}if(t(),s.type===se.TRIANGLE)r(s.id,{rotation:(s.rotation+90)%360});else if(s.type===se.QUARTER_CIRCLE){const u={[Q.TL]:Q.TR,[Q.TR]:Q.BR,[Q.BR]:Q.BL,[Q.BL]:Q.TL};r(s.id,{corner:u[s.corner||Q.TL]})}},[t,r]),i=N.useCallback((s,u)=>{t();let c={};switch(u){case ie.LEFT:c.x=0;break;case ie.RIGHT:c.x=e-s.width;break;case ie.CENTER_H:c.x=(e-s.width)/2;break;case ie.TOP:c.y=0;break;case ie.BOTTOM:c.y=e-s.height;break;case ie.CENTER_V:c.y=(e-s.height)/2;break}r(s.id,c)},[e,t,r]),l=N.useCallback((s,u)=>{if(s.length===0)return;if(t(),s.length===1){const d=s[0];let f={};switch(u){case ie.LEFT:f.x=0;break;case ie.RIGHT:f.x=e-d.width;break;case ie.CENTER_H:f.x=(e-d.width)/2;break;case ie.TOP:f.y=0;break;case ie.BOTTOM:f.y=e-d.height;break;case ie.CENTER_V:f.y=(e-d.height)/2;break}r(d.id,f);return}let c;switch(u){case ie.LEFT:c=Math.min(...s.map(h=>h.x)),s.forEach(h=>{r(h.id,{x:c})});break;case ie.RIGHT:const d=Math.max(...s.map(h=>h.x+h.width));s.forEach(h=>{r(h.id,{x:d-h.width})});break;case ie.CENTER_H:const f=s.map(h=>h.x+h.width/2),p=f.reduce((h,v)=>h+v,0)/f.length;s.forEach(h=>{r(h.id,{x:p-h.width/2})});break;case ie.TOP:c=Math.min(...s.map(h=>h.y)),s.forEach(h=>{r(h.id,{y:c})});break;case ie.BOTTOM:const y=Math.max(...s.map(h=>h.y+h.height));s.forEach(h=>{r(h.id,{y:y-h.height})});break;case ie.CENTER_V:const x=s.map(h=>h.y+h.height/2),k=x.reduce((h,v)=>h+v,0)/x.length;s.forEach(h=>{r(h.id,{y:k-h.height/2})});break}},[e,t,r]);return{flipHorizontal:n,flipVertical:a,rotate90:o,alignShape:i,alignShapes:l}};function bS(e){let t=null,r=null;const n=(...a)=>{r=a,t===null&&(t=requestAnimationFrame(()=>{r&&e(...r),t=null,r=null}))};return n.cancel=()=>{t!==null&&(cancelAnimationFrame(t),t=null),r=null},n}function TS(e,t,r){if(e<r.x||e>r.x+r.width||t<r.y||t>r.y+r.height)return!1;if(!r.type||r.type==="SQUARE")return!0;if(r.type==="CIRCLE"){const n=r.x+r.width/2,a=r.y+r.height/2,o=r.width/2,i=r.height/2,l=(e-n)/o,s=(t-a)/i;return l*l+s*s<=1}if(r.type==="TRIANGLE"){const n=r.rotation||0,a=r.x+r.width/2,o=r.y+r.height/2,i=Math.cos(-n*Math.PI/180),l=Math.sin(-n*Math.PI/180),s=e-a,u=t-o,c=a+(s*i-u*l),d=o+(s*l+u*i),f=r.x,p=r.y,y=r.x+r.width,x=r.y+r.height,k=r.x,h=r.y+r.height,v=(x-h)*(f-k)+(k-y)*(p-h),m=((x-h)*(c-k)+(k-y)*(d-h))/v,S=((h-p)*(c-k)+(f-k)*(d-h))/v,E=1-m-S;return m>=0&&m<=1&&S>=0&&S<=1&&E>=0&&E<=1}if(r.type==="QUARTER_CIRCLE"){const n=r.corner||"tl",a=e-r.x,o=t-r.y;let i,l;switch(n){case"tl":case"TL":i=0,l=0;break;case"tr":case"TR":i=r.width,l=0;break;case"bl":case"BL":i=0,l=r.height;break;case"br":case"BR":i=r.width,l=r.height;break;default:i=0,l=0}const s=a-i,u=o-l;if(Math.sqrt((s/r.width)**2+(u/r.height)**2)>1)return!1;switch(n){case"tl":case"TL":return a>=0&&o>=0;case"tr":case"TR":return a<=r.width&&o>=0;case"bl":case"BL":return a>=0&&o<=r.height;case"br":case"BR":return a<=r.width&&o<=r.height;default:return!0}}return!0}function $t(e,t,r){return Math.max(t,Math.min(r,e))}const ES=({font:e,currentGlyph:t,selectedShapeType:r,tool:n,onToolChange:a,onAddShape:o,onUpdateShape:i,onDeleteShape:l,onClearGlyph:s,onUndo:u,onRedo:c,history:d,saveToHistory:f,onDuplicateShape:p,onUpdateMetrics:y,selectedShapeIds:x,onSelectionChange:k,onAlign:h})=>{const v=e.glyphs[t],m=N.useRef(null),S=N.useRef(null),E=N.useRef((v==null?void 0:v.shapes)||[]),[L,w]=N.useState(1),[T,A]=N.useState(!1),[_,D]=N.useState(!1),[z,X]=N.useState(!1),[B,Z]=N.useState(null),[ee,ae]=N.useState(new Map),[C,I]=N.useState(null),[H,V]=N.useState(null),[q,kt]=N.useState(null),[ke,Kt]=N.useState(null),[pe,Rt]=N.useState(null),[qt,tc]=N.useState(!1),[Me,rc]=N.useState(null),[Je,l0]=N.useState(null),[jr,u0]=N.useState(!0),[ce,c0]=N.useState(!0),he=((v==null?void 0:v.gridSize)||16)*te,cn=N.useCallback(W=>he-W*te,[he]),nc=N.useCallback(W=>(he-W)/te,[he]),$e=N.useCallback(W=>{switch(W){case"baseline":return cn(e.metrics.baseline);case"xHeight":return cn(e.metrics.xHeight);case"capHeight":return cn(e.metrics.capHeight);case"ascender":return cn(e.metrics.ascender);case"descender":return cn(e.metrics.descender)}},[e.metrics,cn]),to=N.useCallback(W=>{if(!jr||ce)return null;const O=["baseline","xHeight","capHeight","ascender","descender"],ne=6;for(const Se of O){const ve=$e(Se);if(Math.abs(W-ve)<ne)return Se}return null},[jr,ce,$e]),ac=N.useCallback((W,O)=>{const ne=Math.round(nc(O));switch(W){case"baseline":y({baseline:ne});break;case"xHeight":y({xHeight:ne});break;case"capHeight":y({capHeight:ne});break;case"ascender":y({ascender:ne});break;case"descender":y({descender:ne});break}},[nc,y]),{flipHorizontal:oc,flipVertical:ic,rotate90:sc}=zv(he,f,i);N.useEffect(()=>{v&&(E.current=v.shapes)},[v]),N.useEffect(()=>{v&&(A(!1),D(!1),X(!1),k([]),Z(null),ae(new Map),I(null),V(null),kt(null),Kt(null),Rt(null))},[v==null?void 0:v.char,k]);const Yi=N.useCallback(()=>{x.length===0||!v||x.forEach(W=>{const O=v.shapes.find(ne=>ne.id===W);O&&oc(O)})},[x,v,oc]),Qi=N.useCallback(()=>{x.length===0||!v||x.forEach(W=>{const O=v.shapes.find(ne=>ne.id===W);O&&ic(O)})},[x,v,ic]),Ki=N.useCallback(()=>{x.length===0||!v||x.forEach(W=>{const O=v.shapes.find(ne=>ne.id===W);O&&sc(O)})},[x,v,sc]),f0=N.useCallback(()=>{v&&kS(v,he,e.meta.familyName)},[v,he,e]),lc=N.useCallback(W=>{if(W.target.tagName==="BUTTON"||W.target.tagName==="INPUT"||!v)return;const O=kf(W,m.current),ne=to(O.y);if(ne){W.preventDefault(),tc(!0),rc(ne);return}if(n===Qe.SELECT&&x.length===1){const ve=W.target.getAttribute("data-handle");if(ve){W.preventDefault();const we=v.shapes.find(_e=>_e.id===x[0]);we&&(D(!0),V(ve),Z(O),I({...we}));return}}if(n===Qe.DRAW&&r){W.preventDefault();const Se=Ye(O.x),ve=Ye(O.y);kt({x:Se,y:ve})}else if(n===Qe.SELECT){let Se=null;for(let ve=v.shapes.length-1;ve>=0;ve--){const we=v.shapes[ve];if(TS(O.x,O.y,we)){Se=we;break}}if(Se){W.preventDefault();const ve=W.shiftKey||W.metaKey||W.ctrlKey,we=x.includes(Se.id);if(ve)k(we?x.filter(_e=>_e!==Se.id):[...x,Se.id]);else{const _e=we?x:[Se.id];we||k(_e),A(!0),Z(O);const ct=new Map;_e.forEach(ao=>{const Kn=v.shapes.find(v0=>v0.id===ao);Kn&&ct.set(ao,{x:Kn.x,y:Kn.y})}),ae(ct)}}else!W.shiftKey&&!W.metaKey&&!W.ctrlKey&&k([]),X(!0),Z(O)}},[n,x,r,v,to,k]),uc=N.useCallback(W=>{const O=kf(W,m.current);if(qt&&Me){ac(Me,O.y);return}if(!T&&!_&&!z&&!q){const ne=to(O.y);l0(ne)}if(q&&!z){const ne=Math.abs(O.x-q.x),Se=Math.abs(O.y-q.y),ve=Math.min(q.x,O.x),we=Math.min(q.y,O.y);Kt({x:Ye(ve),y:Ye(we),width:Ye(ne),height:Ye(Se)})}else if(z&&B){const ne=Math.abs(O.x-B.x),Se=Math.abs(O.y-B.y),ve=Math.min(B.x,O.x),we=Math.min(B.y,O.y);Rt({x:ve,y:we,width:ne,height:Se})}else if(T&&x.length>0&&B&&ee.size>0){const ne=O.x-B.x,Se=O.y-B.y;x.forEach(ve=>{const we=E.current.find(Kn=>Kn.id===ve),_e=ee.get(ve);if(!we||!_e)return;const ct=$t(Ye(_e.x+ne),0,he-we.width),ao=$t(Ye(_e.y+Se),0,he-we.height);i(ve,{x:ct,y:ao})})}else if(_&&x.length===1&&B&&H&&C){const ne=x[0],Se=O.x-B.x,ve=O.y-B.y;let we={};switch(H){case"resize-nw":{const _e=$t(Ye(C.x+Se),0,C.x+C.width-te),ct=$t(Ye(C.y+ve),0,C.y+C.height-te);we={x:_e,y:ct,width:Math.max(te,C.x+C.width-_e),height:Math.max(te,C.y+C.height-ct)};break}case"resize-ne":{const _e=$t(Ye(C.y+ve),0,C.y+C.height-te),ct=Math.max(te,Ye(C.width+Se));we={y:_e,width:$t(ct,te,he-C.x),height:Math.max(te,C.y+C.height-_e)};break}case"resize-sw":{const _e=$t(Ye(C.x+Se),0,C.x+C.width-te),ct=Math.max(te,Ye(C.height+ve));we={x:_e,width:Math.max(te,C.x+C.width-_e),height:$t(ct,te,he-C.y)};break}case"resize-se":{const _e=Math.max(te,Ye(C.width+Se)),ct=Math.max(te,Ye(C.height+ve));we={width:$t(_e,te,he-C.x),height:$t(ct,te,he-C.y)};break}}i(ne,we)}},[q,T,_,z,qt,Me,x,B,ee,H,C,he,i,ac,to]),ro=N.useMemo(()=>bS(uc),[uc]);N.useEffect(()=>()=>{ro.cancel()},[ro]);const no=N.useCallback(()=>{if(qt){tc(!1),rc(null);return}if(q&&ke&&!z&&(ke.width>=te&&ke.height>=te&&(f(),o(Qm(r,ke.x,ke.y,ke.width,ke.height))),kt(null),Kt(null)),z&&pe&&v){const W=[];v.shapes.forEach(O=>{O.x<pe.x+pe.width&&O.x+O.width>pe.x&&O.y<pe.y+pe.height&&O.y+O.height>pe.y&&W.push(O.id)}),k(W),Rt(null),X(!1)}(T||_)&&f(),A(!1),D(!1),Z(null),ae(new Map),V(null),I(null)},[q,ke,pe,T,_,z,qt,f,o,r,v,k]);N.useEffect(()=>{const W=O=>{O.target.tagName!=="INPUT"&&v&&(O.key==="Delete"||O.key==="Backspace"?x.length>0&&(O.preventDefault(),x.forEach(ne=>l(ne)),k([])):O.key==="d"||O.key==="D"?O.ctrlKey||O.metaKey?(O.preventDefault(),x.length>0&&x.forEach(ne=>p(ne))):(O.preventDefault(),a(Qe.DRAW)):O.key==="v"||O.key==="V"?O.shiftKey&&x.length>0?(O.preventDefault(),Qi()):O.shiftKey||(O.preventDefault(),a(Qe.SELECT)):O.key==="Escape"?k([]):O.key==="a"&&(O.ctrlKey||O.metaKey)?(O.preventDefault(),k(v.shapes.map(ne=>ne.id))):(O.key==="h"||O.key==="H")&&x.length>0?(O.preventDefault(),Yi()):(O.key==="r"||O.key==="R")&&x.length>0?(O.preventDefault(),Ki()):O.shiftKey&&x.length>0&&(O.key==="L"?(O.preventDefault(),h(ie.LEFT)):O.key==="R"?(O.preventDefault(),h(ie.RIGHT)):O.key==="T"?(O.preventDefault(),h(ie.TOP)):O.key==="B"?(O.preventDefault(),h(ie.BOTTOM)):O.key==="C"?(O.preventDefault(),h(ie.CENTER_H)):O.key==="M"&&(O.preventDefault(),h(ie.CENTER_V))))};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[x,v,l,a,Yi,Qi,Ki,p,h,k]);const fn=N.useMemo(()=>v?v.shapes.filter(W=>x.includes(W.id)):[],[v,x]),d0=N.useMemo(()=>n===Qe.DRAW?"cursor-crosshair":n===Qe.SELECT&&T?"cursor-move":"cursor-default",[n,T]),p0=N.useMemo(()=>g.jsx("defs",{children:g.jsxs("pattern",{id:"grid",width:te,height:te,patternUnits:"userSpaceOnUse",children:[g.jsx("rect",{width:te,height:te,fill:"white"}),g.jsx("path",{d:`M ${te} 0 L 0 0 0 ${te}`,fill:"none",stroke:"#e5e7eb",strokeWidth:"1"})]})}),[]),h0=W=>{var ne;(ne=W.target.files)!=null&&ne[0]&&(alert("SVG import coming soon"),W.target.value="")};return v?g.jsxs("div",{className:"flex-1 flex flex-col bg-white p-6",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("i",{className:"ph ph-magnifying-glass text-sm text-neutral-400"}),g.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.25",value:L,onChange:W=>w(parseFloat(W.target.value)),className:"w-20"}),g.jsxs("span",{className:"text-xs text-neutral-500 w-10",children:[(L*100).toFixed(0),"%"]})]}),g.jsx("div",{className:"w-px h-6 bg-neutral-200"}),fn.length>0&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:Yi,className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Flip Horizontal (H)",children:g.jsx("i",{className:"ph ph-arrows-left-right text-base"})}),g.jsx("button",{onClick:Qi,className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Flip Vertical (Shift+V)",children:g.jsx("i",{className:"ph ph-arrows-down-up text-base"})}),g.jsx("button",{onClick:Ki,className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Rotate 90° (R)",children:g.jsx("i",{className:"ph ph-arrow-clockwise text-base"})})]}),g.jsx("div",{className:"w-px h-6 bg-neutral-200"}),g.jsx("button",{onClick:()=>x.forEach(W=>p(W)),className:"tool-btn px-2 py-1.5 rounded text-xs",title:"Duplicate (Ctrl+D)",children:g.jsx("i",{className:"ph ph-copy text-base"})}),g.jsx("div",{className:"w-px h-6 bg-neutral-200"}),g.jsx("div",{className:"text-xs text-neutral-500",children:fn.length===1?`Size: ${Math.round(fn[0].width/te)}×${Math.round(fn[0].height/te)}`:`${fn.length} shapes selected`}),g.jsxs("button",{onClick:()=>{x.forEach(W=>l(W)),k([])},className:"tool-btn px-3 py-1.5 rounded bg-white text-neutral-700 flex items-center gap-1.5",title:"Delete (Del)",children:[g.jsx("i",{className:"ph ph-trash text-base"}),g.jsx("span",{className:"text-xs",children:"Delete"})]}),g.jsx("div",{className:"w-px h-6 bg-neutral-200"})]}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:u,disabled:!d[t]||d[t].past.length===0,className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700 disabled:opacity-30",title:"Undo (Cmd+Z)",children:g.jsx("i",{className:"ph ph-arrow-counter-clockwise text-base"})}),g.jsx("button",{onClick:c,disabled:!d[t]||d[t].future.length===0,className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700 disabled:opacity-30",title:"Redo (Cmd+Shift+Z)",children:g.jsx("i",{className:"ph ph-arrow-clockwise text-base"})})]}),g.jsx("div",{className:"flex-1"}),g.jsx("button",{onClick:()=>u0(!jr),className:`tool-btn px-2.5 py-2 rounded ${jr?"bg-blue-50 text-blue-600 border border-blue-200":"bg-white text-neutral-700"}`,title:jr?"Hide Guides":"Show Guides",children:g.jsx("i",{className:"ph ph-ruler text-base"})}),jr&&g.jsx("button",{onClick:()=>c0(!ce),className:`tool-btn px-2.5 py-2 rounded ${ce?"bg-white text-neutral-700":"bg-amber-50 text-amber-600 border border-amber-200"}`,title:ce?"Unlock Guides to Edit":"Lock Guides",children:g.jsx("i",{className:`ph ${ce?"ph-lock":"ph-lock-open"} text-base`})}),g.jsx("div",{className:"w-px h-6 bg-neutral-200"}),g.jsx("button",{onClick:()=>{var W;return(W=S.current)==null?void 0:W.click()},className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700",title:"Import SVG",children:g.jsx("i",{className:"ph ph-upload-simple text-base"})}),g.jsx("button",{onClick:f0,className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700",title:"Export Glyph as SVG",children:g.jsx("i",{className:"ph ph-download-simple text-base"})}),g.jsx("div",{className:"w-px h-6 bg-neutral-200"}),g.jsx("button",{onClick:s,className:"tool-btn px-2.5 py-2 rounded bg-white text-neutral-700",title:"Clear",children:g.jsx("i",{className:"ph ph-trash text-base"})}),g.jsx("input",{ref:S,type:"file",accept:".svg",onChange:h0,className:"hidden"})]}),g.jsx("div",{className:"flex-1 flex items-center justify-center bg-neutral-50",children:g.jsxs("svg",{ref:m,width:he*L,height:he*L,viewBox:`0 0 ${he} ${he}`,className:d0,style:{border:"1px solid #e5e5e5",touchAction:"none",userSelect:"none"},onMouseDown:lc,onMouseMove:ro,onMouseUp:no,onMouseLeave:no,onPointerDown:lc,onPointerMove:ro,onPointerUp:no,onPointerLeave:no,children:[p0,g.jsx("rect",{width:he,height:he,fill:"url(#grid)"}),jr&&g.jsxs("g",{className:"guides",children:[g.jsx("line",{x1:"0",y1:$e("ascender"),x2:he,y2:$e("ascender"),stroke:Je==="ascender"||Me==="ascender"?"#3b82f6":ce?"#cbd5e1":"#94a3b8",strokeWidth:Je==="ascender"||Me==="ascender"?"2":"1",strokeDasharray:"4 4",opacity:ce?"0.5":"1",style:{cursor:ce?"default":"ns-resize"}}),!ce&&(Je==="ascender"||Me==="ascender")&&g.jsxs("text",{x:"4",y:$e("ascender")-4,fontSize:"10",fill:"#3b82f6",fontFamily:"system-ui",children:["Ascender (",e.metrics.ascender,")"]}),g.jsx("line",{x1:"0",y1:$e("capHeight"),x2:he,y2:$e("capHeight"),stroke:Je==="capHeight"||Me==="capHeight"?"#8b5cf6":ce?"#cbd5e1":"#94a3b8",strokeWidth:Je==="capHeight"||Me==="capHeight"?"2":"1",strokeDasharray:"4 4",opacity:ce?"0.5":"1",style:{cursor:ce?"default":"ns-resize"}}),!ce&&(Je==="capHeight"||Me==="capHeight")&&g.jsxs("text",{x:"4",y:$e("capHeight")-4,fontSize:"10",fill:"#8b5cf6",fontFamily:"system-ui",children:["Cap Height (",e.metrics.capHeight,")"]}),g.jsx("line",{x1:"0",y1:$e("xHeight"),x2:he,y2:$e("xHeight"),stroke:Je==="xHeight"||Me==="xHeight"?"#10b981":ce?"#cbd5e1":"#94a3b8",strokeWidth:Je==="xHeight"||Me==="xHeight"?"2":"1",strokeDasharray:"4 4",opacity:ce?"0.5":"1",style:{cursor:ce?"default":"ns-resize"}}),!ce&&(Je==="xHeight"||Me==="xHeight")&&g.jsxs("text",{x:"4",y:$e("xHeight")-4,fontSize:"10",fill:"#10b981",fontFamily:"system-ui",children:["X-Height (",e.metrics.xHeight,")"]}),g.jsx("line",{x1:"0",y1:$e("baseline"),x2:he,y2:$e("baseline"),stroke:Je==="baseline"||Me==="baseline"?"#ef4444":ce?"#cbd5e1":"#64748b",strokeWidth:Je==="baseline"||Me==="baseline"?"3":"2",opacity:ce?"0.5":"1",style:{cursor:ce?"default":"ns-resize"}}),!ce&&(Je==="baseline"||Me==="baseline")&&g.jsxs("text",{x:"4",y:$e("baseline")-4,fontSize:"10",fill:"#ef4444",fontWeight:"bold",fontFamily:"system-ui",children:["Baseline (",e.metrics.baseline,")"]}),g.jsx("line",{x1:"0",y1:$e("descender"),x2:he,y2:$e("descender"),stroke:Je==="descender"||Me==="descender"?"#f59e0b":ce?"#cbd5e1":"#94a3b8",strokeWidth:Je==="descender"||Me==="descender"?"2":"1",strokeDasharray:"4 4",opacity:ce?"0.5":"1",style:{cursor:ce?"default":"ns-resize"}}),!ce&&(Je==="descender"||Me==="descender")&&g.jsxs("text",{x:"4",y:$e("descender")+12,fontSize:"10",fill:"#f59e0b",fontFamily:"system-ui",children:["Descender (",e.metrics.descender,")"]})]}),v.shapes.map(W=>jh(W)),fn.map(W=>Vm(W)),ke&&g.jsx("rect",{x:ke.x,y:ke.y,width:ke.width,height:ke.height,fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"4 4",opacity:"0.5"}),pe&&g.jsx("rect",{x:pe.x,y:pe.y,width:pe.width,height:pe.height,fill:"rgba(59, 130, 246, 0.1)",stroke:"#3b82f6",strokeWidth:"1",strokeDasharray:"4 4"})]})})]}):g.jsx("div",{className:"flex-1 flex items-center justify-center text-neutral-500",children:"Select a glyph"})},CS=({font:e,currentGlyph:t,onUpdateGlyph:r,selectedShapeIds:n,onUpdateShape:a,onSaveHistory:o})=>{const i=e.glyphs[t];if(!i)return null;const l=N.useMemo(()=>i.gridSize*te,[i.gridSize]),s=N.useMemo(()=>i.shapes.filter(y=>n.includes(y.id)),[i.shapes,n]),u=N.useRef(!1);N.useEffect(()=>{u.current=!1},[n.join(","),i.char]);const c=()=>{u.current||(o(),u.current=!0)},d=(y,x)=>Number.isNaN(y)?0:Math.min(Math.max(y,0),x),f=(y,x)=>{y&&(c(),a(y.id,x))},p=y=>{const x=Math.round(y.x/te),k=Math.round(y.y/te),h=Math.round(y.width/te),v=Math.round(y.height/te),m=Math.floor((l-y.width)/te),S=Math.floor((l-y.height)/te),E=i.gridSize-Math.floor(y.x/te),L=i.gridSize-Math.floor(y.y/te);return g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-neutral-500 block mb-1",children:"X (cells)"}),g.jsx("input",{type:"number",min:0,max:m,value:x,onChange:w=>{const T=parseInt(w.target.value,10);if(Number.isNaN(T))return;const A=d(T*te,l-y.width);f(y,{x:A})},className:"w-full px-2 py-1 text-xs border border-neutral-300 rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-neutral-500 block mb-1",children:"Y (cells)"}),g.jsx("input",{type:"number",min:0,max:S,value:k,onChange:w=>{const T=parseInt(w.target.value,10);if(Number.isNaN(T))return;const A=d(T*te,l-y.height);f(y,{y:A})},className:"w-full px-2 py-1 text-xs border border-neutral-300 rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-neutral-500 block mb-1",children:"Width (cells)"}),g.jsx("input",{type:"number",min:1,max:E,value:h,onChange:w=>{const T=parseInt(w.target.value,10);if(Number.isNaN(T))return;const A=Math.max(1,Math.min(T,E));f(y,{width:A*te})},className:"w-full px-2 py-1 text-xs border border-neutral-300 rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-neutral-500 block mb-1",children:"Height (cells)"}),g.jsx("input",{type:"number",min:1,max:L,value:v,onChange:w=>{const T=parseInt(w.target.value,10);if(Number.isNaN(T))return;const A=Math.max(1,Math.min(T,L));f(y,{height:A*te})},className:"w-full px-2 py-1 text-xs border border-neutral-300 rounded"})]})]}),y.type===se.TRIANGLE&&g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-neutral-500 block mb-1",children:"Rotation"}),g.jsx("select",{value:y.rotation??0,onChange:w=>{const T=parseInt(w.target.value,10)%360;f(y,{rotation:T})},className:"w-full px-2 py-1 text-xs border border-neutral-300 rounded",children:[0,90,180,270].map(w=>g.jsxs("option",{value:w,children:[w,"°"]},w))})]}),y.type===se.QUARTER_CIRCLE&&g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-neutral-500 block mb-1",children:"Corner"}),g.jsxs("select",{value:y.corner??Q.TL,onChange:w=>{const T=w.target.value;f(y,{corner:T})},className:"w-full px-2 py-1 text-xs border border-neutral-300 rounded",children:[g.jsx("option",{value:Q.TL,children:"Top Left"}),g.jsx("option",{value:Q.TR,children:"Top Right"}),g.jsx("option",{value:Q.BL,children:"Bottom Left"}),g.jsx("option",{value:Q.BR,children:"Bottom Right"})]})]})]})};return g.jsxs("div",{className:"w-full h-full bg-white border-l border-neutral-200 p-4 overflow-auto",children:[g.jsx("h2",{className:"text-sm font-semibold mb-4 text-neutral-900",children:"Properties"}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs font-medium mb-3 text-neutral-500 uppercase tracking-wide",children:"Character"}),g.jsx("div",{className:"text-4xl text-neutral-900 font-light mb-2",children:i.char===" "?"␣":i.char}),g.jsxs("div",{className:"text-xs text-neutral-500",children:["U+",i.unicode.toString(16).toUpperCase().padStart(4,"0")]})]}),g.jsxs("div",{className:"pt-4 border-t border-neutral-200",children:[g.jsx("h3",{className:"text-xs font-medium mb-3 text-neutral-500 uppercase tracking-wide",children:"Info"}),g.jsxs("div",{className:"text-xs text-neutral-600 space-y-1",children:[g.jsxs("div",{children:["Shapes: ",i.shapes.length]}),g.jsxs("div",{children:["Grid: ",i.gridSize,"×",i.gridSize]})]})]}),g.jsxs("div",{className:"pt-4 border-t border-neutral-200",children:[g.jsx("h3",{className:"text-xs font-medium mb-3 text-neutral-500 uppercase tracking-wide",children:"Shape"}),s.length===0&&g.jsx("div",{className:"text-xs text-neutral-500",children:"Select a shape to edit its properties."}),s.length>1&&g.jsx("div",{className:"text-xs text-neutral-500",children:"Multiple shapes selected. Use alignment tools for batch adjustments."}),s.length===1&&p(s[0])]})]})]})},FS=(e,t,r,n=0,a="text")=>{let o=0;const i=[],l=r.metrics.gridSize,s=t/(l*32),u=(r.metrics.tracking+n)*s;for(let c=0;c<e.length;c++){const d=e[c],f=r.glyphs[d];if(!f){o+=r.metrics.defaultAdvanceWidth*s+u;continue}const p=g.jsx("g",{transform:`translate(${o}, 0) scale(${s})`,children:f.shapes.map(y=>Bh(y,!1))},`${a}-${c}-${d}`);i.push(p),o+=f.advanceWidth*32*s+u}return{elements:i,width:o,height:t}},RS=(e,t,r,n,a=0,o="text")=>{let i=0;const l=[],s=n.gridSize,u=t/(s*32),c=(n.tracking+a)*u;for(let d=0;d<e.length;d++){const f=e[d],p=r[f];if(!p){i+=n.defaultAdvanceWidth*u+c;continue}const y=g.jsx("g",{transform:`translate(${i}, 0) scale(${u})`,children:p.shapes.map(x=>Bh(x,!1))},`${o}-${d}-${f}`);l.push(y),i+=p.advanceWidth*32*u+c}return l},_S=qr.memo(({font:e})=>{const[t,r]=N.useState("Hamburgefonts"),[n,a]=N.useState(64),[o,i]=N.useState(0),l=N.useDeferredValue(o),s=N.useMemo(()=>{const c=new Set(t),d={};return c.forEach(f=>{e.glyphs[f]&&(d[f]=e.glyphs[f])}),d},[t,e]),u=N.useMemo(()=>RS(t,n,s,e.metrics,l,"preview"),[t,n,l,s,e.metrics]);return g.jsxs("div",{className:"w-full h-full bg-white p-4 flex flex-col",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-3 flex-shrink-0",children:[g.jsx("input",{type:"text",value:t,onChange:c=>r(c.target.value),className:"flex-1 px-3 py-2 bg-white border border-neutral-200 rounded text-sm focus:outline-none focus:border-neutral-400",placeholder:"Preview text..."}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("i",{className:"ph ph-text-aa text-sm text-neutral-400"}),g.jsx("input",{type:"range",min:"32",max:"128",step:"8",value:n,onChange:c=>a(parseInt(c.target.value)),className:"w-24"}),g.jsxs("span",{className:"text-xs text-neutral-500 w-10",children:[n,"px"]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("i",{className:"ph ph-arrows-horizontal text-sm text-neutral-400"}),g.jsx("input",{type:"range",min:"-20",max:"40",step:"1",value:o,onChange:c=>i(parseInt(c.target.value)),className:"w-24"}),g.jsxs("span",{className:"text-xs text-neutral-500 font-mono w-10",children:[o>0?"+":"",o]})]})]}),g.jsx("div",{className:"flex-1 overflow-auto flex items-center",children:g.jsx("svg",{width:"100%",height:n+20,style:{minHeight:"100%"},children:u})})]})}),NS=qr.memo(({font:e})=>{const[t,r]=N.useState(0),n=N.useDeferredValue(t),a=[{size:72,text:"The quick brown fox"},{size:60,text:"The quick brown fox jumps"},{size:48,text:"The quick brown fox jumps over"},{size:36,text:"The quick brown fox jumps over the lazy dog"},{size:28,text:"Pack my box with five dozen liquor jugs"},{size:20,text:"How vexingly quick daft zebras jump!"},{size:16,text:"Sphinx of black quartz, judge my vow"},{size:12,text:"The five boxing wizards jump quickly"}],o=N.useCallback((s,u,c=0)=>FS(s,u,e,n+c,`typeface-${s.substring(0,10)}`),[e,n]),i=N.useMemo(()=>{const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",u="abcdefghijklmnopqrstuvwxyz",c="0123456789",f=o(s,48),p=o(u,48),y=o(c,48);return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs font-medium text-neutral-500 mb-2",children:"UPPERCASE"}),g.jsx("svg",{width:"100%",height:58,children:g.jsx("g",{transform:"translate(0, 0)",children:f.elements})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs font-medium text-neutral-500 mb-2",children:"LOWERCASE"}),g.jsx("svg",{width:"100%",height:58,children:g.jsx("g",{transform:"translate(0, 0)",children:p.elements})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs font-medium text-neutral-500 mb-2",children:"NUMBERS"}),g.jsx("svg",{width:"100%",height:58,children:g.jsx("g",{transform:"translate(0, 0)",children:y.elements})})]})]})},[o]),l=N.useMemo(()=>g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-xs font-medium text-neutral-500 mb-3",children:"WATERFALL"}),a.map((s,u)=>{const c=o(s.text,s.size);return g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("span",{className:"text-xs text-neutral-400 font-mono w-8 flex-shrink-0",children:[s.size,"px"]}),g.jsx("svg",{width:"100%",height:s.size+10,children:g.jsx("g",{transform:"translate(0, 0)",children:c.elements})})]},u)})]}),[o,a]);return g.jsxs("div",{className:"w-full h-full bg-white flex flex-col",children:[g.jsx("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-neutral-200 flex-shrink-0",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("i",{className:"ph ph-arrows-horizontal text-sm text-neutral-400"}),g.jsx("label",{className:"text-xs text-neutral-600 font-medium",children:"Tracking:"}),g.jsx("input",{type:"range",min:"-20",max:"40",step:"1",value:t,onChange:s=>r(parseInt(s.target.value)),className:"w-32"}),g.jsxs("span",{className:"text-xs text-neutral-500 font-mono w-12",children:[t>0?"+":"",t]}),t!==0&&g.jsx("button",{onClick:()=>r(0),className:"text-xs text-blue-500 hover:text-blue-600",children:"Reset"})]})}),g.jsx("div",{className:"flex-1 overflow-auto p-6",children:g.jsxs("div",{className:"space-y-12 max-w-[1400px]",children:[i,g.jsx("div",{className:"border-t border-neutral-200 pt-8",children:l})]})})]})}),LS=({font:e})=>{const[t,r]=N.useState("text");return g.jsxs("div",{className:"w-full h-full bg-white border-t border-neutral-200 flex flex-col",children:[g.jsxs("div",{className:"flex items-center border-b border-neutral-200 bg-neutral-50 flex-shrink-0",children:[g.jsxs("button",{onClick:()=>r("text"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${t==="text"?"text-blue-600 bg-white":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:[g.jsx("i",{className:"ph ph-text-aa mr-1.5"}),"Text Preview",t==="text"&&g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600"})]}),g.jsxs("button",{onClick:()=>r("typeface"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${t==="typeface"?"text-blue-600 bg-white":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:[g.jsx("i",{className:"ph ph-grid-four mr-1.5"}),"Typeface Preview",t==="typeface"&&g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600"})]})]}),g.jsx("div",{className:"flex-1 overflow-hidden",children:t==="text"?g.jsx(_S,{font:e}):g.jsx(NS,{font:e})})]})},US=[{category:"Tools",items:[{keys:"V",description:"Select tool"},{keys:"D",description:"Draw tool"}]},{category:"Editing",items:[{keys:"Ctrl/Cmd + Z",description:"Undo"},{keys:"Ctrl/Cmd + Shift + Z",description:"Redo"},{keys:"Ctrl/Cmd + D",description:"Duplicate selected shape"},{keys:"Delete / Backspace",description:"Delete selected shape"},{keys:"H",description:"Flip horizontal"},{keys:"Shift + V",description:"Flip vertical"},{keys:"R",description:"Rotate 90°"}]},{category:"Alignment",items:[{keys:"Shift + L",description:"Align left"},{keys:"Shift + R",description:"Align right"},{keys:"Shift + T",description:"Align top"},{keys:"Shift + B",description:"Align bottom"},{keys:"Shift + C",description:"Center horizontally"},{keys:"Shift + M",description:"Center vertically (Middle)"}]},{category:"View",items:[{keys:"?",description:"Show shortcuts"}]}],OS=({onClose:e})=>g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:g.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4",onClick:t=>t.stopPropagation(),children:[g.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200 flex items-center justify-between",children:[g.jsx("h2",{className:"text-xl font-bold",children:"Keyboard Shortcuts"}),g.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-neutral-600",children:g.jsx("i",{className:"ph ph-x text-xl"})})]}),g.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:US.map(({category:t,items:r})=>g.jsxs("div",{className:"mb-6 last:mb-0",children:[g.jsx("h3",{className:"text-sm font-bold text-neutral-500 uppercase mb-3",children:t}),g.jsx("div",{className:"space-y-2",children:r.map(({keys:n,description:a})=>g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-neutral-700",children:a}),g.jsx("kbd",{className:"px-3 py-1 bg-neutral-100 border border-neutral-300 rounded text-sm font-mono",children:n})]},n))})]},t))})]})}),Os=({children:e,defaultSize:t,minSize:r=200,maxSize:n=800,direction:a,position:o,storageKey:i,className:l=""})=>{const s=()=>{if(i)try{const w=localStorage.getItem(i);if(w){const T=parseInt(w,10);return Math.max(r,Math.min(n,T))}}catch(w){console.warn("Failed to load panel size from localStorage:",w)}return t},[u,c]=N.useState(s),[d,f]=N.useState(!1),[p,y]=N.useState(!1),x=N.useRef(0),k=N.useRef(0);N.useEffect(()=>{if(i)try{localStorage.setItem(i,u.toString())}catch(w){console.warn("Failed to save panel size to localStorage:",w)}},[u,i]);const h=N.useCallback(w=>{w.preventDefault(),f(!0),x.current=a==="horizontal"?w.clientX:w.clientY,k.current=u,document.body.style.userSelect="none"},[a,u]),v=N.useCallback(w=>{if(!d)return;let A=(a==="horizontal"?w.clientX:w.clientY)-x.current;(o==="right"||o==="bottom")&&(A=-A);const _=k.current+A,D=Math.max(r,Math.min(n,_));c(D)},[d,a,o,r,n]),m=N.useCallback(()=>{f(!1),document.body.style.userSelect=""},[]);N.useEffect(()=>{if(d)return window.addEventListener("mousemove",v),window.addEventListener("mouseup",m),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",m)}},[d,v,m]);const S=()=>a==="horizontal"?"cursor-col-resize":"cursor-row-resize",E=()=>{const w="absolute z-10 transition-colors",T="bg-transparent";if(a==="horizontal"){const A=`${w} ${T} top-0 bottom-0 w-2 ${S()}`;return o==="left"?`${A} -right-1`:`${A} -left-1`}else{const A=`${w} ${T} left-0 right-0 h-2 ${S()}`;return o==="top"?`${A} -bottom-1`:`${A} -top-1`}},L=()=>a==="horizontal"?{width:`${u}px`,flexShrink:0}:{height:`${u}px`,flexShrink:0};return g.jsxs("div",{className:`relative ${l}`,style:L(),children:[e,g.jsx("div",{className:E(),onMouseDown:h,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:(p||d)&&g.jsx("div",{className:"absolute bg-blue-500 transition-opacity pointer-events-none",style:{width:a==="horizontal"?"2px":"100%",height:a==="vertical"?"2px":"100%",left:a==="horizontal"?"50%":0,top:a==="vertical"?"50%":0,transform:a==="horizontal"?"translateX(-50%)":"translateY(-50%)",opacity:d?.8:.5}})})]})},DS=(e,t)=>({char:e,unicode:e.charCodeAt(0),gridSize:t,shapes:[],leftBearing:1,rightBearing:1,advanceWidth:t,modifiedAt:Date.now()}),PS=()=>{const e={gridSize:12,ascender:10,capHeight:8,xHeight:5,baseline:0,descender:-2,defaultAdvanceWidth:12,tracking:0},t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:-_+/?! ",r={};for(const n of t)r[n]=DS(n,e.gridSize);return{meta:{familyName:"ModGrid",styleName:"Regular"},metrics:e,glyphs:r,version:4}},zS=()=>{const[e,t]=N.useState(PS()),[r,n]=N.useState("A"),[a,o]=N.useState({}),i=N.useRef(null),l=N.useRef(new Map);N.useEffect(()=>()=>{i.current!==null&&(cancelAnimationFrame(i.current),i.current=null),l.current.clear()},[]);const s=N.useCallback(()=>{if(l.current.size===0)return;const _=new Map(l.current);l.current.clear(),t(D=>{let z=null;return _.forEach((X,B)=>{const Z=D.glyphs[B];if(!Z||X.size===0)return;let ee=!1;const ae=Z.shapes.map(C=>{const I=X.get(C.id);return I?(ee=!0,{...C,...I}):C});ee&&(z||(z={...D.glyphs}),z[B]={...Z,shapes:ae,modifiedAt:Date.now()})}),z?{...D,glyphs:z}:D})},[]),u=N.useCallback(()=>{i.current===null&&(i.current=requestAnimationFrame(()=>{i.current=null,s(),l.current.size>0&&u()}))},[s]),c=N.useCallback((_,D)=>{const z=l.current.get(_);return!z||z.size===0?D.shapes.map(X=>({...X})):D.shapes.map(X=>{const B=z.get(X.id);return B?{...X,...B}:{...X}})},[]),d=N.useCallback((_,D)=>{const z=l.current.get(_);z&&(z.delete(D),z.size===0&&l.current.delete(_))},[]),f=N.useCallback(_=>{l.current.delete(_)},[]),p=N.useCallback(()=>{i.current!==null&&(cancelAnimationFrame(i.current),i.current=null)},[]),y=N.useCallback(()=>{const _=e.glyphs[r];if(!_)return;const D=c(r,_);o(z=>{const B=[...(z[r]||{past:[]}).past,D];return B.length>50&&B.shift(),{...z,[r]:{past:B,future:[]}}}),u()},[e,r,c,u]),x=N.useCallback(_=>{p(),s(),t(D=>{const z=D.glyphs[r];return z?{...D,glyphs:{...D.glyphs,[r]:{...z,shapes:[...z.shapes,_],modifiedAt:Date.now()}}}:D})},[r,p,s]),k=N.useCallback((_,D)=>{if(!D||Object.keys(D).length===0)return;const z=r,X=l.current;let B=X.get(z);B||(B=new Map,X.set(z,B));const Z=B.get(_);B.set(_,Z?{...Z,...D}:{...D}),u()},[r,u]),h=N.useCallback(_=>{e.glyphs[r]&&(y(),d(r,_),t(z=>{const X=z.glyphs[r];if(!X)return z;const B=X.shapes.filter(Z=>Z.id!==_);return B.length===X.shapes.length?z:{...z,glyphs:{...z.glyphs,[r]:{...X,shapes:B,modifiedAt:Date.now()}}}}))},[e,r,y,d]),v=N.useCallback(_=>{const D=e.glyphs[r];if(!D)return;const X=c(r,D).find(ee=>ee.id===_);if(!X)return;y();const B=32,Z={...X,id:Date.now()+Math.random(),x:X.x+B,y:X.y+B};t(ee=>{const ae=ee.glyphs[r];return ae?{...ee,glyphs:{...ee.glyphs,[r]:{...ae,shapes:[...ae.shapes,Z],modifiedAt:Date.now()}}}:ee})},[e,r,c,y]),m=N.useCallback(()=>{const _=e.glyphs[r];_&&(_.shapes.length>0&&!confirm(`Clear all shapes from "${_.char}"?`)||(y(),p(),f(r),t(D=>{const z=D.glyphs[r];return z?{...D,glyphs:{...D.glyphs,[r]:{...z,shapes:[],modifiedAt:Date.now()}}}:D})))},[e,r,y,p,f]),S=N.useCallback(()=>{const _=a[r];if(!_||_.past.length===0)return;p(),f(r);const D=e.glyphs[r];if(!D)return;const z=_.past[_.past.length-1],X=_.past.slice(0,-1),B=[[...c(r,D)],..._.future];t(Z=>{const ee=Z.glyphs[r];return ee?{...Z,glyphs:{...Z.glyphs,[r]:{...ee,shapes:z,modifiedAt:Date.now()}}}:Z}),o(Z=>({...Z,[r]:{past:X,future:B}}))},[e,r,a,c,p,f]),E=N.useCallback(()=>{const _=a[r];if(!_||_.future.length===0)return;p(),f(r);const D=e.glyphs[r];if(!D)return;const z=_.future[0],X=[..._.past,[...c(r,D)]],B=_.future.slice(1);t(Z=>{const ee=Z.glyphs[r];return ee?{...Z,glyphs:{...Z.glyphs,[r]:{...ee,shapes:z,modifiedAt:Date.now()}}}:Z}),o(Z=>({...Z,[r]:{past:X,future:B}}))},[e,r,a,c,p,f]),L=N.useCallback((_,D)=>{p(),s(),t(z=>{const X=z.glyphs[r];return X?{...z,glyphs:{...z.glyphs,[r]:{...X,[_]:D,modifiedAt:Date.now()}}}:z})},[r,p,s]),w=N.useCallback(_=>{t(D=>({...D,metrics:{...D.metrics,..._}}))},[]),T=N.useCallback(_=>{p(),l.current.clear(),t(_),o({}),n(Object.keys(_.glyphs)[0]??"A")},[p]),A=N.useCallback(_=>{p(),s(),n(_)},[p,s]);return{font:e,currentGlyph:r,history:a,setCurrentGlyph:A,saveToHistory:y,addShape:x,updateShape:k,deleteShape:h,duplicateShape:v,clearGlyph:m,undo:S,redo:E,updateGlyph:L,updateMetrics:w,importFont:T}};function IS(e,t=[]){N.useEffect(()=>{const r=n=>{if(n.target.tagName!=="INPUT"&&n.target.tagName!=="TEXTAREA")for(const a of e){const o=a.ctrl===void 0||a.ctrl===(n.ctrlKey||n.metaKey),i=a.shift===void 0||a.shift===n.shiftKey,l=a.meta===void 0||a.meta===n.metaKey,s=n.key.toLowerCase()===a.key.toLowerCase();if(o&&i&&l&&s){n.preventDefault(),a.handler();break}}};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[e,...t])}function F(e,t,r){function n(l,s){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(e),t(l,s);for(const c in i.prototype)c in l||Object.defineProperty(l,c,{value:i.prototype[c].bind(l)});l._zod.constr=i,l._zod.def=s}const a=(r==null?void 0:r.Parent)??Object;class o extends a{}Object.defineProperty(o,"name",{value:e});function i(l){var s;const u=r!=null&&r.Parent?new o:this;n(u,l),(s=u._zod).deferred??(s.deferred=[]);for(const c of u._zod.deferred)c();return u}return Object.defineProperty(i,"init",{value:n}),Object.defineProperty(i,Symbol.hasInstance,{value:l=>{var s,u;return r!=null&&r.Parent&&l instanceof r.Parent?!0:(u=(s=l==null?void 0:l._zod)==null?void 0:s.traits)==null?void 0:u.has(e)}}),Object.defineProperty(i,"name",{value:e}),i}class zn extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Iv extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Av={};function Pr(e){return Av}function AS(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function Al(e,t){return typeof t=="bigint"?t.toString():t}function Vu(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Xu(e){return e==null}function Yu(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function MS(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const s=n.match(/\d?e-(\d?)/);s!=null&&s[1]&&(a=Number.parseInt(s[1]))}const o=r>a?r:a,i=Number.parseInt(e.toFixed(o).replace(".","")),l=Number.parseInt(t.toFixed(o).replace(".",""));return i%l/10**o}const id=Symbol("evaluating");function de(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==id)return n===void 0&&(n=id,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function ln(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function un(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function sd(e){return JSON.stringify(e)}const Mv="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function bi(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const BS=Vu(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Zn(e){if(bi(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(bi(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Bv(e){return Zn(e)?{...e}:Array.isArray(e)?[...e]:e}const jS=new Set(["string","number","symbol"]);function Zi(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Br(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(n._zod.parent=e),n}function Y(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function GS(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const $S={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function HS(e,t){const r=e._zod.def,n=un(e._zod.def,{get shape(){const a={};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(a[o]=r.shape[o])}return ln(this,"shape",a),a},checks:[]});return Br(e,n)}function ZS(e,t){const r=e._zod.def,n=un(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete a[o]}return ln(this,"shape",a),a},checks:[]});return Br(e,n)}function WS(e,t){if(!Zn(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=un(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return ln(this,"shape",o),o},checks:[]});return Br(e,a)}function VS(e,t){if(!Zn(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return ln(this,"shape",n),n},checks:e._zod.def.checks};return Br(e,r)}function XS(e,t){const r=un(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return ln(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Br(e,r)}function YS(e,t,r){const n=un(t._zod.def,{get shape(){const a=t._zod.def.shape,o={...a};if(r)for(const i in r){if(!(i in a))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(o[i]=e?new e({type:"optional",innerType:a[i]}):a[i])}else for(const i in a)o[i]=e?new e({type:"optional",innerType:a[i]}):a[i];return ln(this,"shape",o),o},checks:[]});return Br(t,n)}function QS(e,t,r){const n=un(t._zod.def,{get shape(){const a=t._zod.def.shape,o={...a};if(r)for(const i in r){if(!(i in o))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(o[i]=new e({type:"nonoptional",innerType:a[i]}))}else for(const i in a)o[i]=new e({type:"nonoptional",innerType:a[i]});return ln(this,"shape",o),o},checks:[]});return Br(t,n)}function Fn(e,t=0){var r;if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(((r=e.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function Rn(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function _o(e){return typeof e=="string"?e:e==null?void 0:e.message}function zr(e,t,r){var a,o,i,l,s,u;const n={...e,path:e.path??[]};if(!e.message){const c=_o((i=(o=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:o.error)==null?void 0:i.call(o,e))??_o((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??_o((s=r.customError)==null?void 0:s.call(r,e))??_o((u=r.localeError)==null?void 0:u.call(r,e))??"Invalid input";n.message=c}return delete n.inst,delete n.continue,t!=null&&t.reportInput||delete n.input,n}function Qu(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ga(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const jv=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Al,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Gv=F("$ZodError",jv),$v=F("$ZodError",jv,{Parent:Error});function KS(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function qS(e,t=r=>r.message){const r={_errors:[]},n=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(i=>n({issues:i}));else if(o.code==="invalid_key")n({issues:o.issues});else if(o.code==="invalid_element")n({issues:o.issues});else if(o.path.length===0)r._errors.push(t(o));else{let i=r,l=0;for(;l<o.path.length;){const s=o.path[l];l===o.path.length-1?(i[s]=i[s]||{_errors:[]},i[s]._errors.push(t(o))):i[s]=i[s]||{_errors:[]},i=i[s],l++}}};return n(e),r}const Ku=e=>(t,r,n,a)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},i=t._zod.run({value:r,issues:[]},o);if(i instanceof Promise)throw new zn;if(i.issues.length){const l=new((a==null?void 0:a.Err)??e)(i.issues.map(s=>zr(s,o,Pr())));throw Mv(l,a==null?void 0:a.callee),l}return i.value},qu=e=>async(t,r,n,a)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},o);if(i instanceof Promise&&(i=await i),i.issues.length){const l=new((a==null?void 0:a.Err)??e)(i.issues.map(s=>zr(s,o,Pr())));throw Mv(l,a==null?void 0:a.callee),l}return i.value},Wi=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},a);if(o instanceof Promise)throw new zn;return o.issues.length?{success:!1,error:new(e??Gv)(o.issues.map(i=>zr(i,a,Pr())))}:{success:!0,data:o.value}},JS=Wi($v),Vi=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(i=>zr(i,a,Pr())))}:{success:!0,data:o.value}},ew=Vi($v),tw=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Ku(e)(t,r,a)},rw=e=>(t,r,n)=>Ku(e)(t,r,n),nw=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return qu(e)(t,r,a)},aw=e=>async(t,r,n)=>qu(e)(t,r,n),ow=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Wi(e)(t,r,a)},iw=e=>(t,r,n)=>Wi(e)(t,r,n),sw=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Vi(e)(t,r,a)},lw=e=>async(t,r,n)=>Vi(e)(t,r,n),uw=/^[cC][^\s-]{8,}$/,cw=/^[0-9a-z]+$/,fw=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,dw=/^[0-9a-vA-V]{20}$/,pw=/^[A-Za-z0-9]{27}$/,hw=/^[a-zA-Z0-9_-]{21}$/,vw=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,gw=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ld=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,mw=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,yw="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function xw(){return new RegExp(yw,"u")}const kw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Sw=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,ww=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,bw=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Tw=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Hv=/^[A-Za-z0-9_-]*$/,Ew=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Cw=/^\+(?:[0-9]){6,14}[0-9]$/,Zv="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Fw=new RegExp(`^${Zv}$`);function Wv(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Rw(e){return new RegExp(`^${Wv(e)}$`)}function _w(e){const t=Wv({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${Zv}T(?:${n})$`)}const Nw=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Lw=/^-?\d+$/,Uw=/^-?\d+(?:\.\d+)?/,Ow=/^[^A-Z]*$/,Dw=/^[^a-z]*$/,ut=F("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),Vv={number:"number",bigint:"bigint",object:"date"},Xv=F("$ZodCheckLessThan",(e,t)=>{ut.init(e,t);const r=Vv[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,o=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Yv=F("$ZodCheckGreaterThan",(e,t)=>{ut.init(e,t);const r=Vv[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,o=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Pw=F("$ZodCheckMultipleOf",(e,t)=>{ut.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):MS(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),zw=F("$ZodCheckNumberFormat",(e,t)=>{var i;ut.init(e,t),t.format=t.format||"float64";const r=(i=t.format)==null?void 0:i.includes("int"),n=r?"int":"number",[a,o]=$S[t.format];e._zod.onattach.push(l=>{const s=l._zod.bag;s.format=t.format,s.minimum=a,s.maximum=o,r&&(s.pattern=Lw)}),e._zod.check=l=>{const s=l.value;if(r){if(!Number.isInteger(s)){l.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});return}if(!Number.isSafeInteger(s)){s>0?l.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):l.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}s<a&&l.issues.push({origin:"number",input:s,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),s>o&&l.issues.push({origin:"number",input:s,code:"too_big",maximum:o,inst:e})}}),Iw=F("$ZodCheckMaxLength",(e,t)=>{var r;ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!Xu(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const i=Qu(a);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Aw=F("$ZodCheckMinLength",(e,t)=>{var r;ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!Xu(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const i=Qu(a);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Mw=F("$ZodCheckLengthEquals",(e,t)=>{var r;ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!Xu(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,o=a.length;if(o===t.length)return;const i=Qu(a),l=o>t.length;n.issues.push({origin:i,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Xi=F("$ZodCheckStringFormat",(e,t)=>{var r,n;ut.init(e,t),e._zod.onattach.push(a=>{const o=a._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),Bw=F("$ZodCheckRegex",(e,t)=>{Xi.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),jw=F("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Ow),Xi.init(e,t)}),Gw=F("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Dw),Xi.init(e,t)}),$w=F("$ZodCheckIncludes",(e,t)=>{ut.init(e,t);const r=Zi(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),Hw=F("$ZodCheckStartsWith",(e,t)=>{ut.init(e,t);const r=new RegExp(`^${Zi(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Zw=F("$ZodCheckEndsWith",(e,t)=>{ut.init(e,t);const r=new RegExp(`.*${Zi(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),Ww=F("$ZodCheckOverwrite",(e,t)=>{ut.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class Vw{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(i=>i),a=Math.min(...n.map(i=>i.length-i.trimStart().length)),o=n.map(i=>i.slice(a)).map(i=>" ".repeat(this.indent*2)+i);for(const i of o)this.content.push(i)}compile(){const t=Function,r=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...r,a.join(`
`))}}const Xw={major:4,minor:1,patch:12},Oe=F("$ZodType",(e,t)=>{var a;var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Xw;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const o of n)for(const i of o._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const o=(l,s,u)=>{let c=Fn(l),d;for(const f of s){if(f._zod.def.when){if(!f._zod.def.when(l))continue}else if(c)continue;const p=l.issues.length,y=f._zod.check(l);if(y instanceof Promise&&(u==null?void 0:u.async)===!1)throw new zn;if(d||y instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await y,l.issues.length!==p&&(c||(c=Fn(l,p)))});else{if(l.issues.length===p)continue;c||(c=Fn(l,p))}}return d?d.then(()=>l):l},i=(l,s,u)=>{if(Fn(l))return l.aborted=!0,l;const c=o(s,n,u);if(c instanceof Promise){if(u.async===!1)throw new zn;return c.then(d=>e._zod.parse(d,u))}return e._zod.parse(c,u)};e._zod.run=(l,s)=>{if(s.skipChecks)return e._zod.parse(l,s);if(s.direction==="backward"){const c=e._zod.parse({value:l.value,issues:[]},{...s,skipChecks:!0});return c instanceof Promise?c.then(d=>i(d,l,s)):i(c,l,s)}const u=e._zod.parse(l,s);if(u instanceof Promise){if(s.async===!1)throw new zn;return u.then(c=>o(c,n,s))}return o(u,n,s)}}e["~standard"]={validate:o=>{var i;try{const l=JS(e,o);return l.success?{value:l.data}:{issues:(i=l.error)==null?void 0:i.issues}}catch{return ew(e,o).then(s=>{var u;return s.success?{value:s.data}:{issues:(u=s.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),Ju=F("$ZodString",(e,t)=>{var r;Oe.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??Nw(e._zod.bag),e._zod.parse=(n,a)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),xe=F("$ZodStringFormat",(e,t)=>{Xi.init(e,t),Ju.init(e,t)}),Yw=F("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=gw),xe.init(e,t)}),Qw=F("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=ld(n))}else t.pattern??(t.pattern=ld());xe.init(e,t)}),Kw=F("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=mw),xe.init(e,t)}),qw=F("$ZodURL",(e,t)=>{xe.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Ew.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),Jw=F("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=xw()),xe.init(e,t)}),e2=F("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=hw),xe.init(e,t)}),t2=F("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=uw),xe.init(e,t)}),r2=F("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=cw),xe.init(e,t)}),n2=F("$ZodULID",(e,t)=>{t.pattern??(t.pattern=fw),xe.init(e,t)}),a2=F("$ZodXID",(e,t)=>{t.pattern??(t.pattern=dw),xe.init(e,t)}),o2=F("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=pw),xe.init(e,t)}),i2=F("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=_w(t)),xe.init(e,t)}),s2=F("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Fw),xe.init(e,t)}),l2=F("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Rw(t)),xe.init(e,t)}),u2=F("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=vw),xe.init(e,t)}),c2=F("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=kw),xe.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),f2=F("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Sw),xe.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),d2=F("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=ww),xe.init(e,t)}),p2=F("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=bw),xe.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[a,o]=n;if(!o)throw new Error;const i=Number(o);if(`${i}`!==o)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function Qv(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const h2=F("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Tw),xe.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{Qv(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function v2(e){if(!Hv.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return Qv(r)}const g2=F("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Hv),xe.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{v2(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),m2=F("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Cw),xe.init(e,t)});function y2(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const x2=F("$ZodJWT",(e,t)=>{xe.init(e,t),e._zod.check=r=>{y2(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),Kv=F("$ZodNumber",(e,t)=>{Oe.init(e,t),e._zod.pattern=e._zod.bag.pattern??Uw,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...o?{received:o}:{}}),r}}),k2=F("$ZodNumber",(e,t)=>{zw.init(e,t),Kv.init(e,t)}),S2=F("$ZodUnknown",(e,t)=>{Oe.init(e,t),e._zod.parse=r=>r}),w2=F("$ZodNever",(e,t)=>{Oe.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function ud(e,t,r){e.issues.length&&t.issues.push(...Rn(r,e.issues)),t.value[r]=e.value}const b2=F("$ZodArray",(e,t)=>{Oe.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const o=[];for(let i=0;i<a.length;i++){const l=a[i],s=t.element._zod.run({value:l,issues:[]},n);s instanceof Promise?o.push(s.then(u=>ud(u,r,i))):ud(s,r,i)}return o.length?Promise.all(o).then(()=>r):r}});function Ti(e,t,r,n){e.issues.length&&t.issues.push(...Rn(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function qv(e){var n,a,o,i;const t=Object.keys(e.shape);for(const l of t)if(!((i=(o=(a=(n=e.shape)==null?void 0:n[l])==null?void 0:a._zod)==null?void 0:o.traits)!=null&&i.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const r=GS(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function Jv(e,t,r,n,a,o){const i=[],l=a.keySet,s=a.catchall._zod,u=s.def.type;for(const c of Object.keys(t)){if(l.has(c))continue;if(u==="never"){i.push(c);continue}const d=s.run({value:t[c],issues:[]},n);d instanceof Promise?e.push(d.then(f=>Ti(f,r,c,t))):Ti(d,r,c,t)}return i.length&&r.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:o}),e.length?Promise.all(e).then(()=>r):r}const T2=F("$ZodObject",(e,t)=>{Oe.init(e,t);const r=Object.getOwnPropertyDescriptor(t,"shape");if(!(r!=null&&r.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const s={...l};return Object.defineProperty(t,"shape",{value:s}),s}})}const n=Vu(()=>qv(t));de(e._zod,"propValues",()=>{const l=t.shape,s={};for(const u in l){const c=l[u]._zod;if(c.values){s[u]??(s[u]=new Set);for(const d of c.values)s[u].add(d)}}return s});const a=bi,o=t.catchall;let i;e._zod.parse=(l,s)=>{i??(i=n.value);const u=l.value;if(!a(u))return l.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),l;l.value={};const c=[],d=i.shape;for(const f of i.keys){const y=d[f]._zod.run({value:u[f],issues:[]},s);y instanceof Promise?c.push(y.then(x=>Ti(x,l,f,u))):Ti(y,l,f,u)}return o?Jv(c,u,l,s,n.value,e):c.length?Promise.all(c).then(()=>l):l}}),E2=F("$ZodObjectJIT",(e,t)=>{T2.init(e,t);const r=e._zod.parse,n=Vu(()=>qv(t)),a=f=>{const p=new Vw(["shape","payload","ctx"]),y=n.value,x=m=>{const S=sd(m);return`shape[${S}]._zod.run({ value: input[${S}], issues: [] }, ctx)`};p.write("const input = payload.value;");const k=Object.create(null);let h=0;for(const m of y.keys)k[m]=`key_${h++}`;p.write("const newResult = {};");for(const m of y.keys){const S=k[m],E=sd(m);p.write(`const ${S} = ${x(m)};`),p.write(`
        if (${S}.issues.length) {
          payload.issues = payload.issues.concat(${S}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${E}, ...iss.path] : [${E}]
          })));
        }
        
        
        if (${S}.value === undefined) {
          if (${E} in input) {
            newResult[${E}] = undefined;
          }
        } else {
          newResult[${E}] = ${S}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const v=p.compile();return(m,S)=>v(f,m,S)};let o;const i=bi,l=!Av.jitless,u=l&&BS.value,c=t.catchall;let d;e._zod.parse=(f,p)=>{d??(d=n.value);const y=f.value;return i(y)?l&&u&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(o||(o=a(t.shape)),f=o(f,p),c?Jv([],y,f,p,d,e):f):r(f,p):(f.issues.push({expected:"object",code:"invalid_type",input:y,inst:e}),f)}});function cd(e,t,r,n){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const a=e.filter(o=>!Fn(o));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(o=>o.issues.map(i=>zr(i,n,Pr())))}),t)}const C2=F("$ZodUnion",(e,t)=>{Oe.init(e,t),de(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),de(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),de(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),de(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>Yu(o.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,o)=>{if(r)return n(a,o);let i=!1;const l=[];for(const s of t.options){const u=s._zod.run({value:a.value,issues:[]},o);if(u instanceof Promise)l.push(u),i=!0;else{if(u.issues.length===0)return u;l.push(u)}}return i?Promise.all(l).then(s=>cd(s,a,e,o)):cd(l,a,e,o)}}),F2=F("$ZodIntersection",(e,t)=>{Oe.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,o=t.left._zod.run({value:a,issues:[]},n),i=t.right._zod.run({value:a,issues:[]},n);return o instanceof Promise||i instanceof Promise?Promise.all([o,i]).then(([s,u])=>fd(r,s,u)):fd(r,o,i)}});function Ml(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Zn(e)&&Zn(t)){const r=Object.keys(t),n=Object.keys(e).filter(o=>r.indexOf(o)!==-1),a={...e,...t};for(const o of n){const i=Ml(e[o],t[o]);if(!i.valid)return{valid:!1,mergeErrorPath:[o,...i.mergeErrorPath]};a[o]=i.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],o=t[n],i=Ml(a,o);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};r.push(i.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function fd(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),Fn(e))return e;const n=Ml(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const R2=F("$ZodRecord",(e,t)=>{Oe.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Zn(a))return r.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),r;const o=[];if(t.keyType._zod.values){const i=t.keyType._zod.values;r.value={};for(const s of i)if(typeof s=="string"||typeof s=="number"||typeof s=="symbol"){const u=t.valueType._zod.run({value:a[s],issues:[]},n);u instanceof Promise?o.push(u.then(c=>{c.issues.length&&r.issues.push(...Rn(s,c.issues)),r.value[s]=c.value})):(u.issues.length&&r.issues.push(...Rn(s,u.issues)),r.value[s]=u.value)}let l;for(const s in a)i.has(s)||(l=l??[],l.push(s));l&&l.length>0&&r.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:l})}else{r.value={};for(const i of Reflect.ownKeys(a)){if(i==="__proto__")continue;const l=t.keyType._zod.run({value:i,issues:[]},n);if(l instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(l.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(u=>zr(u,n,Pr())),input:i,path:[i],inst:e}),r.value[l.value]=l.value;continue}const s=t.valueType._zod.run({value:a[i],issues:[]},n);s instanceof Promise?o.push(s.then(u=>{u.issues.length&&r.issues.push(...Rn(i,u.issues)),r.value[l.value]=u.value})):(s.issues.length&&r.issues.push(...Rn(i,s.issues)),r.value[l.value]=s.value)}}return o.length?Promise.all(o).then(()=>r):r}}),_2=F("$ZodEnum",(e,t)=>{Oe.init(e,t);const r=AS(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>jS.has(typeof a)).map(a=>typeof a=="string"?Zi(a):a.toString()).join("|")})$`),e._zod.parse=(a,o)=>{const i=a.value;return n.has(i)||a.issues.push({code:"invalid_value",values:r,input:i,inst:e}),a}}),N2=F("$ZodTransform",(e,t)=>{Oe.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Iv(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(i=>(r.value=i,r));if(a instanceof Promise)throw new zn;return r.value=a,r}});function dd(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const L2=F("$ZodOptional",(e,t)=>{Oe.init(e,t),e._zod.optin="optional",e._zod.optout="optional",de(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),de(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Yu(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>dd(o,r.value)):dd(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),U2=F("$ZodNullable",(e,t)=>{Oe.init(e,t),de(e._zod,"optin",()=>t.innerType._zod.optin),de(e._zod,"optout",()=>t.innerType._zod.optout),de(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Yu(r.source)}|null)$`):void 0}),de(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),O2=F("$ZodDefault",(e,t)=>{Oe.init(e,t),e._zod.optin="optional",de(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>pd(o,t)):pd(a,t)}});function pd(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const D2=F("$ZodPrefault",(e,t)=>{Oe.init(e,t),e._zod.optin="optional",de(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),P2=F("$ZodNonOptional",(e,t)=>{Oe.init(e,t),de(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>hd(o,e)):hd(a,e)}});function hd(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const z2=F("$ZodCatch",(e,t)=>{Oe.init(e,t),de(e._zod,"optin",()=>t.innerType._zod.optin),de(e._zod,"optout",()=>t.innerType._zod.optout),de(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(o=>(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(i=>zr(i,n,Pr()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(o=>zr(o,n,Pr()))},input:r.value}),r.issues=[]),r)}}),I2=F("$ZodPipe",(e,t)=>{Oe.init(e,t),de(e._zod,"values",()=>t.in._zod.values),de(e._zod,"optin",()=>t.in._zod.optin),de(e._zod,"optout",()=>t.out._zod.optout),de(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const o=t.out._zod.run(r,n);return o instanceof Promise?o.then(i=>No(i,t.in,n)):No(o,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(o=>No(o,t.out,n)):No(a,t.out,n)}});function No(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const A2=F("$ZodReadonly",(e,t)=>{Oe.init(e,t),de(e._zod,"propValues",()=>t.innerType._zod.propValues),de(e._zod,"values",()=>t.innerType._zod.values),de(e._zod,"optin",()=>t.innerType._zod.optin),de(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(vd):vd(a)}});function vd(e){return e.value=Object.freeze(e.value),e}const M2=F("$ZodCustom",(e,t)=>{ut.init(e,t),Oe.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(o=>gd(o,r,n,e));gd(a,r,n,e)}});function gd(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(Ga(a))}}class B2{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function j2(){return new B2}const Lo=j2();function G2(e,t){return new e({type:"string",...Y(t)})}function $2(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Y(t)})}function md(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Y(t)})}function H2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Y(t)})}function Z2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Y(t)})}function W2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Y(t)})}function V2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Y(t)})}function X2(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Y(t)})}function Y2(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Y(t)})}function Q2(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Y(t)})}function K2(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Y(t)})}function q2(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Y(t)})}function J2(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Y(t)})}function eb(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Y(t)})}function tb(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Y(t)})}function rb(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Y(t)})}function nb(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Y(t)})}function ab(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Y(t)})}function ob(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Y(t)})}function ib(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Y(t)})}function sb(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Y(t)})}function lb(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Y(t)})}function ub(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Y(t)})}function cb(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Y(t)})}function fb(e,t){return new e({type:"string",format:"date",check:"string_format",...Y(t)})}function db(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Y(t)})}function pb(e,t){return new e({type:"string",format:"duration",check:"string_format",...Y(t)})}function hb(e,t){return new e({type:"number",checks:[],...Y(t)})}function vb(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Y(t)})}function gb(e){return new e({type:"unknown"})}function mb(e,t){return new e({type:"never",...Y(t)})}function yd(e,t){return new Xv({check:"less_than",...Y(t),value:e,inclusive:!1})}function Ds(e,t){return new Xv({check:"less_than",...Y(t),value:e,inclusive:!0})}function xd(e,t){return new Yv({check:"greater_than",...Y(t),value:e,inclusive:!1})}function Ps(e,t){return new Yv({check:"greater_than",...Y(t),value:e,inclusive:!0})}function kd(e,t){return new Pw({check:"multiple_of",...Y(t),value:e})}function e0(e,t){return new Iw({check:"max_length",...Y(t),maximum:e})}function Ei(e,t){return new Aw({check:"min_length",...Y(t),minimum:e})}function t0(e,t){return new Mw({check:"length_equals",...Y(t),length:e})}function yb(e,t){return new Bw({check:"string_format",format:"regex",...Y(t),pattern:e})}function xb(e){return new jw({check:"string_format",format:"lowercase",...Y(e)})}function kb(e){return new Gw({check:"string_format",format:"uppercase",...Y(e)})}function Sb(e,t){return new $w({check:"string_format",format:"includes",...Y(t),includes:e})}function wb(e,t){return new Hw({check:"string_format",format:"starts_with",...Y(t),prefix:e})}function bb(e,t){return new Zw({check:"string_format",format:"ends_with",...Y(t),suffix:e})}function Ja(e){return new Ww({check:"overwrite",tx:e})}function Tb(e){return Ja(t=>t.normalize(e))}function Eb(){return Ja(e=>e.trim())}function Cb(){return Ja(e=>e.toLowerCase())}function Fb(){return Ja(e=>e.toUpperCase())}function Rb(e,t,r){return new e({type:"array",element:t,...Y(r)})}function _b(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Y(r)})}function Nb(e){const t=Lb(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Ga(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(Ga(a))}},e(r.value,r)));return t}function Lb(e,t){const r=new ut({check:"custom",...Y(t)});return r._zod.check=e,r}const Ub=F("ZodISODateTime",(e,t)=>{i2.init(e,t),Ce.init(e,t)});function Ob(e){return cb(Ub,e)}const Db=F("ZodISODate",(e,t)=>{s2.init(e,t),Ce.init(e,t)});function Pb(e){return fb(Db,e)}const zb=F("ZodISOTime",(e,t)=>{l2.init(e,t),Ce.init(e,t)});function Ib(e){return db(zb,e)}const Ab=F("ZodISODuration",(e,t)=>{u2.init(e,t),Ce.init(e,t)});function Mb(e){return pb(Ab,e)}const r0=(e,t)=>{Gv.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>qS(e,r)},flatten:{value:r=>KS(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Al,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Al,2)}},isEmpty:{get(){return e.issues.length===0}}})},Bb=F("ZodError",r0),Ft=F("ZodError",r0,{Parent:Error}),jb=Ku(Ft),Gb=qu(Ft),$b=Wi(Ft),Hb=Vi(Ft),Zb=tw(Ft),Wb=rw(Ft),Vb=nw(Ft),Xb=aw(Ft),Yb=ow(Ft),Qb=iw(Ft),Kb=sw(Ft),qb=lw(Ft),ze=F("ZodType",(e,t)=>(Oe.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(un(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>Br(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>jb(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>$b(e,r,n),e.parseAsync=async(r,n)=>Gb(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Hb(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>Zb(e,r,n),e.decode=(r,n)=>Wb(e,r,n),e.encodeAsync=async(r,n)=>Vb(e,r,n),e.decodeAsync=async(r,n)=>Xb(e,r,n),e.safeEncode=(r,n)=>Yb(e,r,n),e.safeDecode=(r,n)=>Qb(e,r,n),e.safeEncodeAsync=async(r,n)=>Kb(e,r,n),e.safeDecodeAsync=async(r,n)=>qb(e,r,n),e.refine=(r,n)=>e.check($T(r,n)),e.superRefine=r=>e.check(HT(r)),e.overwrite=r=>e.check(Ja(r)),e.optional=()=>Td(e),e.nullable=()=>Ed(e),e.nullish=()=>Td(Ed(e)),e.nonoptional=r=>zT(e,r),e.array=()=>o0(e),e.or=r=>TT([e,r]),e.and=r=>CT(e,r),e.transform=r=>Cd(e,NT(r)),e.default=r=>OT(e,r),e.prefault=r=>PT(e,r),e.catch=r=>AT(e,r),e.pipe=r=>Cd(e,r),e.readonly=()=>jT(e),e.describe=r=>{const n=e.clone();return Lo.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){var r;return(r=Lo.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Lo.get(e);const n=e.clone();return Lo.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),n0=F("_ZodString",(e,t)=>{Ju.init(e,t),ze.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(yb(...n)),e.includes=(...n)=>e.check(Sb(...n)),e.startsWith=(...n)=>e.check(wb(...n)),e.endsWith=(...n)=>e.check(bb(...n)),e.min=(...n)=>e.check(Ei(...n)),e.max=(...n)=>e.check(e0(...n)),e.length=(...n)=>e.check(t0(...n)),e.nonempty=(...n)=>e.check(Ei(1,...n)),e.lowercase=n=>e.check(xb(n)),e.uppercase=n=>e.check(kb(n)),e.trim=()=>e.check(Eb()),e.normalize=(...n)=>e.check(Tb(...n)),e.toLowerCase=()=>e.check(Cb()),e.toUpperCase=()=>e.check(Fb())}),Jb=F("ZodString",(e,t)=>{Ju.init(e,t),n0.init(e,t),e.email=r=>e.check($2(eT,r)),e.url=r=>e.check(X2(tT,r)),e.jwt=r=>e.check(ub(gT,r)),e.emoji=r=>e.check(Y2(rT,r)),e.guid=r=>e.check(md(Sd,r)),e.uuid=r=>e.check(H2(Uo,r)),e.uuidv4=r=>e.check(Z2(Uo,r)),e.uuidv6=r=>e.check(W2(Uo,r)),e.uuidv7=r=>e.check(V2(Uo,r)),e.nanoid=r=>e.check(Q2(nT,r)),e.guid=r=>e.check(md(Sd,r)),e.cuid=r=>e.check(K2(aT,r)),e.cuid2=r=>e.check(q2(oT,r)),e.ulid=r=>e.check(J2(iT,r)),e.base64=r=>e.check(ib(pT,r)),e.base64url=r=>e.check(sb(hT,r)),e.xid=r=>e.check(eb(sT,r)),e.ksuid=r=>e.check(tb(lT,r)),e.ipv4=r=>e.check(rb(uT,r)),e.ipv6=r=>e.check(nb(cT,r)),e.cidrv4=r=>e.check(ab(fT,r)),e.cidrv6=r=>e.check(ob(dT,r)),e.e164=r=>e.check(lb(vT,r)),e.datetime=r=>e.check(Ob(r)),e.date=r=>e.check(Pb(r)),e.time=r=>e.check(Ib(r)),e.duration=r=>e.check(Mb(r))});function Ci(e){return G2(Jb,e)}const Ce=F("ZodStringFormat",(e,t)=>{xe.init(e,t),n0.init(e,t)}),eT=F("ZodEmail",(e,t)=>{Kw.init(e,t),Ce.init(e,t)}),Sd=F("ZodGUID",(e,t)=>{Yw.init(e,t),Ce.init(e,t)}),Uo=F("ZodUUID",(e,t)=>{Qw.init(e,t),Ce.init(e,t)}),tT=F("ZodURL",(e,t)=>{qw.init(e,t),Ce.init(e,t)}),rT=F("ZodEmoji",(e,t)=>{Jw.init(e,t),Ce.init(e,t)}),nT=F("ZodNanoID",(e,t)=>{e2.init(e,t),Ce.init(e,t)}),aT=F("ZodCUID",(e,t)=>{t2.init(e,t),Ce.init(e,t)}),oT=F("ZodCUID2",(e,t)=>{r2.init(e,t),Ce.init(e,t)}),iT=F("ZodULID",(e,t)=>{n2.init(e,t),Ce.init(e,t)}),sT=F("ZodXID",(e,t)=>{a2.init(e,t),Ce.init(e,t)}),lT=F("ZodKSUID",(e,t)=>{o2.init(e,t),Ce.init(e,t)}),uT=F("ZodIPv4",(e,t)=>{c2.init(e,t),Ce.init(e,t)}),cT=F("ZodIPv6",(e,t)=>{f2.init(e,t),Ce.init(e,t)}),fT=F("ZodCIDRv4",(e,t)=>{d2.init(e,t),Ce.init(e,t)}),dT=F("ZodCIDRv6",(e,t)=>{p2.init(e,t),Ce.init(e,t)}),pT=F("ZodBase64",(e,t)=>{h2.init(e,t),Ce.init(e,t)}),hT=F("ZodBase64URL",(e,t)=>{g2.init(e,t),Ce.init(e,t)}),vT=F("ZodE164",(e,t)=>{m2.init(e,t),Ce.init(e,t)}),gT=F("ZodJWT",(e,t)=>{x2.init(e,t),Ce.init(e,t)}),a0=F("ZodNumber",(e,t)=>{Kv.init(e,t),ze.init(e,t),e.gt=(n,a)=>e.check(xd(n,a)),e.gte=(n,a)=>e.check(Ps(n,a)),e.min=(n,a)=>e.check(Ps(n,a)),e.lt=(n,a)=>e.check(yd(n,a)),e.lte=(n,a)=>e.check(Ds(n,a)),e.max=(n,a)=>e.check(Ds(n,a)),e.int=n=>e.check(wd(n)),e.safe=n=>e.check(wd(n)),e.positive=n=>e.check(xd(0,n)),e.nonnegative=n=>e.check(Ps(0,n)),e.negative=n=>e.check(yd(0,n)),e.nonpositive=n=>e.check(Ds(0,n)),e.multipleOf=(n,a)=>e.check(kd(n,a)),e.step=(n,a)=>e.check(kd(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Le(e){return hb(a0,e)}const mT=F("ZodNumberFormat",(e,t)=>{k2.init(e,t),a0.init(e,t)});function wd(e){return vb(mT,e)}const yT=F("ZodUnknown",(e,t)=>{S2.init(e,t),ze.init(e,t)});function bd(){return gb(yT)}const xT=F("ZodNever",(e,t)=>{w2.init(e,t),ze.init(e,t)});function kT(e){return mb(xT,e)}const ST=F("ZodArray",(e,t)=>{b2.init(e,t),ze.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(Ei(r,n)),e.nonempty=r=>e.check(Ei(1,r)),e.max=(r,n)=>e.check(e0(r,n)),e.length=(r,n)=>e.check(t0(r,n)),e.unwrap=()=>e.element});function o0(e,t){return Rb(ST,e,t)}const wT=F("ZodObject",(e,t)=>{E2.init(e,t),ze.init(e,t),de(e,"shape",()=>t.shape),e.keyof=()=>ec(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:bd()}),e.loose=()=>e.clone({...e._zod.def,catchall:bd()}),e.strict=()=>e.clone({...e._zod.def,catchall:kT()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>WS(e,r),e.safeExtend=r=>VS(e,r),e.merge=r=>XS(e,r),e.pick=r=>HS(e,r),e.omit=r=>ZS(e,r),e.partial=(...r)=>YS(i0,e,r[0]),e.required=(...r)=>QS(s0,e,r[0])});function eo(e,t){const r={type:"object",shape:e??{},...Y(t)};return new wT(r)}const bT=F("ZodUnion",(e,t)=>{C2.init(e,t),ze.init(e,t),e.options=t.options});function TT(e,t){return new bT({type:"union",options:e,...Y(t)})}const ET=F("ZodIntersection",(e,t)=>{F2.init(e,t),ze.init(e,t)});function CT(e,t){return new ET({type:"intersection",left:e,right:t})}const FT=F("ZodRecord",(e,t)=>{R2.init(e,t),ze.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function RT(e,t,r){return new FT({type:"record",keyType:e,valueType:t,...Y(r)})}const Bl=F("ZodEnum",(e,t)=>{_2.init(e,t),ze.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const o={};for(const i of n)if(r.has(i))o[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new Bl({...t,checks:[],...Y(a),entries:o})},e.exclude=(n,a)=>{const o={...t.entries};for(const i of n)if(r.has(i))delete o[i];else throw new Error(`Key ${i} not found in enum`);return new Bl({...t,checks:[],...Y(a),entries:o})}});function ec(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Bl({type:"enum",entries:r,...Y(t)})}const _T=F("ZodTransform",(e,t)=>{N2.init(e,t),ze.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Iv(e.constructor.name);r.addIssue=o=>{if(typeof o=="string")r.issues.push(Ga(o,r.value,t));else{const i=o;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),r.issues.push(Ga(i))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(o=>(r.value=o,r)):(r.value=a,r)}});function NT(e){return new _T({type:"transform",transform:e})}const i0=F("ZodOptional",(e,t)=>{L2.init(e,t),ze.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Td(e){return new i0({type:"optional",innerType:e})}const LT=F("ZodNullable",(e,t)=>{U2.init(e,t),ze.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ed(e){return new LT({type:"nullable",innerType:e})}const UT=F("ZodDefault",(e,t)=>{O2.init(e,t),ze.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function OT(e,t){return new UT({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Bv(t)}})}const DT=F("ZodPrefault",(e,t)=>{D2.init(e,t),ze.init(e,t),e.unwrap=()=>e._zod.def.innerType});function PT(e,t){return new DT({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Bv(t)}})}const s0=F("ZodNonOptional",(e,t)=>{P2.init(e,t),ze.init(e,t),e.unwrap=()=>e._zod.def.innerType});function zT(e,t){return new s0({type:"nonoptional",innerType:e,...Y(t)})}const IT=F("ZodCatch",(e,t)=>{z2.init(e,t),ze.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function AT(e,t){return new IT({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const MT=F("ZodPipe",(e,t)=>{I2.init(e,t),ze.init(e,t),e.in=t.in,e.out=t.out});function Cd(e,t){return new MT({type:"pipe",in:e,out:t})}const BT=F("ZodReadonly",(e,t)=>{A2.init(e,t),ze.init(e,t),e.unwrap=()=>e._zod.def.innerType});function jT(e){return new BT({type:"readonly",innerType:e})}const GT=F("ZodCustom",(e,t)=>{M2.init(e,t),ze.init(e,t)});function $T(e,t={}){return _b(GT,e,t)}function HT(e){return Nb(e)}const ZT=ec([Q.TL,Q.TR,Q.BL,Q.BR]),WT=ec([se.SQUARE,se.CIRCLE,se.TRIANGLE,se.QUARTER_CIRCLE]),VT=eo({id:Le(),type:WT,x:Le(),y:Le(),width:Le().min(0),height:Le().min(0),rotation:Le(),corner:ZT.nullable()}),XT=eo({char:Ci(),unicode:Le(),gridSize:Le().min(1),shapes:o0(VT),leftBearing:Le(),rightBearing:Le(),advanceWidth:Le(),modifiedAt:Le()}),YT=eo({gridSize:Le().min(1),ascender:Le(),capHeight:Le(),xHeight:Le(),baseline:Le(),descender:Le(),defaultAdvanceWidth:Le(),tracking:Le()}),QT=eo({familyName:Ci().min(1),styleName:Ci().min(1)}),KT=eo({meta:QT,metrics:YT,glyphs:RT(Ci(),XT),version:Le()}),qT=e=>{try{return{success:!0,font:KT.parse(e)}}catch(t){return t instanceof Bb?{success:!1,errors:t.issues.map(n=>`${n.path.join(".")||"<root>"}: ${n.message}`)}:{success:!1,errors:["Unknown validation error"]}}};function JT(){const{font:e,currentGlyph:t,history:r,setCurrentGlyph:n,saveToHistory:a,addShape:o,updateShape:i,deleteShape:l,duplicateShape:s,clearGlyph:u,undo:c,redo:d,updateGlyph:f,updateMetrics:p,importFont:y}=zS(),[x,k]=N.useState(se.SQUARE),[h,v]=N.useState(Qe.DRAW),[m,S]=N.useState(!1),[E,L]=N.useState([]);N.useEffect(()=>{L([])},[t]);const w=e.glyphs[t],T=N.useMemo(()=>((w==null?void 0:w.gridSize)||16)*te,[w==null?void 0:w.gridSize]),{alignShapes:A}=zv(T,a,i),_=N.useCallback(B=>{if(E.length===0||!w)return;const Z=w.shapes.filter(ee=>E.includes(ee.id));A(Z,B)},[E,w,A]),D=()=>{xS(e)},z=()=>{wS(e)},X=B=>{var ae;const Z=(ae=B.target.files)==null?void 0:ae[0];if(!Z)return;const ee=new FileReader;ee.onload=C=>{var I;try{const H=JSON.parse((I=C.target)==null?void 0:I.result),V=qT(H);if(V.success)y(V.font);else{const q=V.errors.join(`
- `);alert(`Failed to import font. Validation errors:
- ${q}`),console.error("Font import validation errors:",V.errors)}}catch(H){alert("Failed to import font: Invalid JSON format"),console.error("JSON parse error:",H)}},ee.readAsText(Z),B.target.value=""};return IS([{key:"?",handler:()=>S(!0),description:"Show keyboard shortcuts"},{key:"z",ctrl:!0,shift:!1,handler:()=>c(),description:"Undo"},{key:"z",ctrl:!0,shift:!0,handler:()=>d(),description:"Redo"}],[c,d]),g.jsxs("div",{className:"h-screen flex flex-col bg-neutral-50",children:[g.jsx(Hm,{font:e,onExportJSON:D,onExportTTF:z,onImportJSON:X,onShowShortcuts:()=>S(!0)}),g.jsx(Wm,{selectedShape:x,onSelectShape:k,tool:h,onToolChange:v,selectedShapeIds:E,onAlign:_,font:e,currentGlyph:t,onUpdateGlyph:f}),g.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[g.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[g.jsx(Os,{defaultSize:280,minSize:200,maxSize:500,direction:"horizontal",position:"left",storageKey:"panel-glyph-grid-width",children:g.jsx(Xm,{font:e,currentGlyph:t,onSelectGlyph:n})}),g.jsx("div",{className:"flex-1 flex overflow-hidden",children:g.jsx(ES,{font:e,currentGlyph:t,selectedShapeType:x,tool:h,onToolChange:v,onAddShape:o,onUpdateShape:i,onDeleteShape:l,onClearGlyph:u,onUndo:c,onRedo:d,history:r,saveToHistory:a,onDuplicateShape:s,onUpdateMetrics:p,selectedShapeIds:E,onSelectionChange:L,onAlign:_})}),g.jsx(Os,{defaultSize:320,minSize:250,maxSize:600,direction:"horizontal",position:"right",storageKey:"panel-inspector-width",children:g.jsx(CS,{font:e,currentGlyph:t,onUpdateGlyph:f,onUpdateMetrics:p,selectedShapeIds:E,onUpdateShape:i,onSaveHistory:a})})]}),g.jsx(Os,{defaultSize:120,minSize:80,maxSize:300,direction:"vertical",position:"bottom",storageKey:"panel-preview-height",children:g.jsx(LS,{font:e})})]}),m&&g.jsx(OS,{onClose:()=>S(!1)})]})}zs.createRoot(document.getElementById("root")).render(g.jsx(qr.StrictMode,{children:g.jsx(JT,{})}))});export default eE();
